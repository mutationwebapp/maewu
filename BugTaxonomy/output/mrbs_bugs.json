[{"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/500/", "title": "#500 Update minimum PHP version in INSTALL", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>INSTALL file currently reads \"You must have at least PHP 5.4.0\" but multiple commits mention the the minimum version is now 5.5.0</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Now fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/28cb80d62ce0d75ea948c461176c543985d42b05/\">28cb80</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/499/", "title": "#499 Spelling error in lang.de...", "status": "open", "labels": "lang.de (1)\n          \n        \n          \n              spelling error (1)", "priority": "9", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>There is an  \"a\" missing in:       $vocab<span>[\"copy_email_addresses\"]</span>  = \"E-Maildressen kopieren\";</p>\n<p>should be   $vocab<span>[\"copy_email_addresses\"]</span>  = \"E-Mailadressen kopieren\";<br>\n                                                                                                                         ^                                                                                                                                   <br>\n Hanspeter</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>oh no.. the up arrow pinting to the missing a position shifted to the left instead of pointing to <br/>\n \"E-Mail&lt;- dressen kopieren\";</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/9eae0961b4dc50da884e38f89e32623c66aba41b/\">9eae09</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/498/", "title": "#498 scroll bar missing below users list on tablet and handy", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi<br>\nI have added some additional user fields (e.g. mobile number and others) to the users table.  They are recognized automatically by mrbs. Now the users list page extends past the right side of the screnn on all my devices. In the browsers of my desktop pc (firefox, chrome) there is a left/right scroll bar displayed, just below the line with the last user. <br>\nOn my ios devices( iphone/ipad) this scroll bar is missing  on both browsers (chrome and firefox) so that right side fields cannot be seen.<br>\nAny idea whats wrong here?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Although the scrollbars are not shown, you can still scroll to see the right hand fields.  It seems that this is just the way that iOS now works - since when I'm not sure.  There do seem to be some CSS workarounds to make the scrollbars appear, but I'm not sure whether it's a good idea to implement them, as the lack of scrollbars was presumably a deliberate design decision by Apple.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks campbell, stupid me. I forgot that i have to use two fingers to scroll to the right. So it works ok the way it is and its definitely not an error..</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/497/", "title": "#497 Color changes in styling.inc are not recohnized", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi <br>\nI changed the zebra odd color in styling.inc (tried both default and clasic126 themes) but the changed color is not recognized. I waited for more tan 30 minutes.. no change. I  cleared cache in firefox..  no change. I closed/reopened firefox, no change. I Changed and cleared cache in chrome.. no change.<br>\nI tried edge which I never used before..   changed colors dont show up. So I assume, that the styling.inc is never used/loaded to affect colors... However I did not yet try to restart windows and then check it out.<br>\nI will try that too<br>\nHanspeter</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>forgot to mention that I am using 1.9.2 version of mrbs</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, you're right, it's a bug.  I'll fix it later.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Well, it's not quite a bug, just a little confusing.  The variables <code>$row_even_color</code> and <code>$row_odd_color</code> control the colours of the zebra stripes for the day and week views, whereas the variables <code>$zebra_even_color</code> and <code>$zebra_odd_color</code> control the colours on pages such as Search, Report and Users.</p>\n<p>I'll add some comments to make it clearer.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-12-05</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Also noticed that when I change the colors of the booking types, these are reflected in the browser but those of the zebra lines are not...so styling.inc is somehow reflected but not for all entries...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>ok..   just saw your anser.. thanks for making that clear...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Now fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/20a09cb4f169f5334706197407819411a96dc64c/\">20a09c</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/496/", "title": "#496 Wordpress password reset not recognised by MRBS", "status": "open", "labels": "None", "priority": "8", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Thank you for introducing Wordpress authentication within MRBS, which I'm grateful for. It works well and saves users having to setup separate accounts. I have a minor feedback relating to users and passwords. After performing some tests, I noticed that once users reset their password on Wordpress, they are no longer able to login directly through the MRBS login page unless they revert to their previous password. Instead they would have to login through the Wordpress login page before pointing their browser to MRBS to access the calendars. The MRBS login page, when navigated to the index.php would show the following message: \"Error: The password you entered for the username '(username)' is incorrect. Lost your password?\". I was wondering if anyone else has encountered similar issues, and would be grateful for any guidance to help resolve this. Many thanks.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this problem I'm afraid, and I don't quite see how it can happen.  All MRBS does is call the standard WordPress user validation function <a class=\"\" href=\"https://developer.wordpress.org/reference/functions/wp_authenticate/\" rel=\"nofollow\">wp_authenticate()</a>.  However as the manual says that it's a plugabble function, which means that a plug-in can override this function, I wonder if  one of your plug-ins is overriding it and there's some kind of caching of authentication going on.</p>\n<p>Have you tried with all your plugins disabled to see if the problem still happens?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/495/", "title": "#495 A suguestion(a BUG? )", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>In version 1.9.2 : lib\\MRBS\\Session\\SessionWithLogin.php\uff1a<br>\nline 190:<br>\n$field-&gt;setLabel(\\MRBS\\get_vocab('user'))<br>\nshould be \uff1a<br>\n$field-&gt;setLabel(\\MRBS\\get_vocab('users.name'))</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It's deliberately 'user', and there's a corresponding vocab tag in lang.en.</p>\n<p>The reason is that for many authentication systems the user is able to login using either their username or their email address, so if it were 'users.name' it wouldn't be strictly accurate.   The placeholder text gives more details and says \"\"Username or email address\" or \"Username\" depending on the authentication system.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/494/", "title": "#494 Can't view single room in \"Day\" view within calendar.", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>It works for \"Month\" and \"Week\" but selecting \"Day\" will then show all rooms in that area - not the room currently viewing.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This isn't a bug but the way the system works.  It could be a feature request.</p>\n<p>The only reason you can view a single room in the week and month views is that that's the only way there's enough room on the screen to see the details of the bookings.   In MRBS 1.8.0 a new feature was introduced enabling bookings for all rooms in an area to be displayed, but this only gives an overview of bookings and is designed to enable users to see where the spare slots are.   In the day view though there's enough space to see all the rooms.</p>\n<p>It would be interesting to understand the reasons for wanting to just see a single room in the day view.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ok that makes sense.  For me I was thinking of setting up a tablet outside the room doors.  I was hoping I could use it to display the bookings for that room for that day.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ah, OK, I understand.  This is a commonly requested feature (see <a href=\"https://sourceforge.net/p/mrbs/feature-requests/357/\">https://sourceforge.net/p/mrbs/feature-requests/357/</a>) and I would have thought it's fairly high up the priority list.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/493/", "title": "#493 404-calls for /jquery/datatables/pdfmake.min.js.map", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>My Joomla-cms registerd many 404-calls for <span>[mrbsroot]</span>/jquery/datatables/pdfmake.min.js.map, but mrbs seems to generate PDF-Documents correctly.<br>\nMrbs 1.9.2 is used.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you add the attached file at jquery/datatables/pdfmake.min.js.map.   It should solve the problem.</p>\n<p>If it does, I'll commit it the default branch.  However I think this is only a temporary fix.  The real issue is described <a class=\"\" href=\"https://datatables.net/forums/discussion/63795/pdfmake-warning-failed-to-load-sourcemap\" rel=\"nofollow\">here</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It  seems to solve the issue.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have now added the file to the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/d427ba55bce12ce1f5a2197797d39c461c8eefec/\">d427ba</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/492/", "title": "#492 PDF reports don't support Chinese characters", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When using the PDF button on for example the Report page, Chinese characters are not displayed properly.    This is caused by the fact that the pdfmake library used to produce the reports needs to have Chinese fonts added.</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/491/", "title": "#491 Fatal error: unfortunately the database is not available at the moment.", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>An error occurred when using an LDAP user (level 2) to make a booking. Is it a system error or a configuration error?</p>\n<div class=\"codehilite\"><pre><span></span>Uncaught exception 'MRBS\\\\DBException' in /var/www/html/mrbs/lib/MRBS/DB.php at line 109\nSQLSTATE[23000]: Integrity constraint violation: 1048 Column 'create_by' cannot be null\nSQL: INSERT INTO mrbs_entry (`start_time`, `end_time`, `entry_type`, `repeat_id`, `room_id`, `create_by`, `modified_by`, `name`, `type`, `description`, `status`, `ical_uid`, `ical_sequence`, `ical_recur_id`, `enable_registrant_limit`, `registrant_limit`) \nVALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\nParams: Array\n(\n    [0] =&gt; 1602997200\n    [1] =&gt; 1603000800\n    [2] =&gt; 0\n    [3] =&gt; \n    [4] =&gt; 2\n    [5] =&gt; \n    [6] =&gt; \n    [7] =&gt; test\n    [8] =&gt; I\n    [9] =&gt; \n    [10] =&gt; 0\n    [11] =&gt; MRBS-5f8cf0630c505-f4588883@mrbs\n    [12] =&gt; 0\n    [13] =&gt; \n    [14] =&gt; 1\n    [15] =&gt; 1\n    )\n\n    #0 /var/www/html/mrbs/mrbs_sql.inc(988): MRBS\\\\DB-&gt;command('INSERT INTO mrb...', Array)\n    #1 /var/www/html/mrbs/mrbs_sql.inc(1017): MRBS\\\\mrbsCreateEntry('mrbs_entry', Array)\n    #2 /var/www/html/mrbs/mrbs_sql.inc(2457): MRBS\\\\mrbsCreateSingleEntry(Array)\n    #3 /var/www/html/mrbs/edit_entry_handler.php(765): MRBS\\\\mrbsMakeBookings(Array, NULL, false, NULL, NULL, true, 'series')\n    #4 {main}\n\n    MRBS GET: Array\n    (\n    )\n    MRBS POST: Array\n    (\n    [csrf_token] =&gt; 61985d88094b72b980d662f6e92e169682f7603e485708749e86c733148dd8c6\n    [returl] =&gt; http://mrbs/mrbs/index.php?view=day&amp;page_date=2020-10-18&amp;area=1&amp;room=2\n    [rep_id] =&gt; 0\n    [edit_type] =&gt; series\n    [name] =&gt; test\n    [description] =&gt; \n    [start_date] =&gt; 2020-10-18\n    [start_seconds] =&gt; 46800\n    [end_date] =&gt; 2020-10-18\n    [end_seconds] =&gt; 50400\n    [rooms] =&gt; Array\n    (\n    [0] =&gt; 2\n    )\n\n    [type] =&gt; I\n    [enable_registrant_limit] =&gt; on\n    [registrant_limit] =&gt; 1\n    [rep_type] =&gt; 0\n    [rep_day] =&gt; Array\n    (\n    [0] =&gt; 0\n    )\n\n    [month_type] =&gt; 0\n    [month_absolute] =&gt; 18\n    [month_relative_ord] =&gt; 3\n    [month_relative_day] =&gt; SU\n    [rep_interval] =&gt; 1\n    [rep_end_date] =&gt; 2020-10-18\n    )\n    MRBS SESSION: Array\n    (\n    [csrf_token] =&gt; 61985d88094b72b980d662f6e92e169682f7603e485708749e86c733148dd8c6\n    [user] =&gt; MRBS\\\\User Object\n    (\n    [username] =&gt; admin\n    [display_name] =&gt; Admin\n    [email] =&gt; admin@localhost\n    [level] =&gt; 2\n    )\n\n    )\n\n    , referer: http://mrbs/mrbs/edit_entry.php?view=day&amp;year=2020&amp;month=10&amp;day=18&amp;area=1&amp;room=2&amp;hour=13&amp;minute=0\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think this may be caused by the same bug that caused <a class=\"\" href=\"https://sourceforge.net/p/mrbs/support-requests/2200/\">this problem</a>.   If you are running MRBS 1.9.1 or 1.9.2 can you try using the attached version of lib/MRBS/Auth/AuthLdap.php and see if it fixes the problem?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n<div class=\"reaction\" data-react=\":+1:\"><div class=\"emoj\"><img alt=\"\ud83d\udc4d\" class=\"emoji\" draggable=\"false\" src=\"https://twemoji.maxcdn.com/2/72x72/1f44d.png\"/></div><div class=\"emoj-count\">1</div></div>\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, just tried to overwrite the file and solved the problem, thanks very much.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've added a further change in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/bc5b638cc92fb0519ab11eb12e4a02494e4a9d13/\">bc5b63</a> which improves the resiience of the code. (It's not necessary to install this patch if you've already got the patch to AuthLdap.php above).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/490/", "title": "#490 Error when editing a entry after adding a participant", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Think I have encountered a bug. Steps to recreate as below:</p>\n<ul>\n<li>Create a booking - Allow registration and set capacity.</li>\n<li>Save.</li>\n<li>Return to diary.</li>\n<li>Click on the booking just created to view entry.</li>\n<li>Click 'Register' to register yourself for event (or enter custom name and register).</li>\n<li>Entries table will be updated to include the new registration.</li>\n<li>Now click <strong>directly</strong> on 'Edit Entry' at the bottom of the page.</li>\n<li>Then click 'Save'</li>\n</ul>\n<p>I am then receiving the following error:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">E_USER_WARNING</span><span class=\"w\"> </span><span class=\"ow\">in</span><span class=\"w\"> </span><span class=\"nl\">E</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">websites</span><span class=\"err\">\\</span><span class=\"n\">RBS</span><span class=\"o\">-</span><span class=\"mf\">1.9.2</span><span class=\"err\">\\</span><span class=\"n\">mrbs_sql</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"mi\">1535</span><span class=\"w\"></span>\n<span class=\"n\">id</span><span class=\"w\"> </span><span class=\"ow\">not</span><span class=\"w\"> </span><span class=\"k\">set</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">GET</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">view</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"nf\">day</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">year</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2021</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">12</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">day</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">25</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">area</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">room</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">12</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"nl\">POST</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">SESSION</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">csrf_token</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">6603</span><span class=\"n\">c2d3cef0fd1829624e452abeedb59ea9b2f335dcf59114abd2b6bd3fb013</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">user</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">MRBS</span><span class=\"err\">\\</span><span class=\"k\">User</span><span class=\"w\"> </span><span class=\"k\">Object</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">username</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">xxx</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">display_name</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">xxx</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">email</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">xxx</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">level</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"p\">)</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>xxx replaces my details which are correct.</p>\n<p>Entry can successfully be edited by clicking on it from the diary and then on Edit. It is only when editing the entry <strong>directly</strong> after adding a participant that it fails.<br>\nPresumably something is getting lost on the postback that adds the participant?</p>\n<p>Really liking the registration/participant functionality by the way.  This is going to be really useful!</p>\n<p>Cheers</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Apologies - should have added that I am using latest version (1.9.2)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this and glad you like the registration feature.  I've now fixed the bug in the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/e14681c310ce890200498bb9bb92dc75abf82f1f/\">e14681</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n<div class=\"reaction\" data-react=\":+1:\"><div class=\"emoj\"><img alt=\"\ud83d\udc4d\" class=\"emoji\" draggable=\"false\" src=\"https://twemoji.maxcdn.com/2/72x72/1f44d.png\"/></div><div class=\"emoj-count\">1</div></div>\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-10-29</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/489/", "title": "#489 1.9.2 Mail sending error unable to load pear.php", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Sending reservation mail we receive an error, with the previous version all gone good.</p>\n<p>PHP message: PHP Fatal error: require_once(): Failed opening required 'PEAR.php' (include_path='.:/opt/php-fpm-7.3/lib/php:/var/www/vhosts/httpdocs/prenota-aule') in /var/www/vhosts/httpdocs/prenota-aule/Mail/mimePart.php on line 60</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>What have you got  the following set to?</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$mail_settings['html'] </span>\n<span class=\"x\">$mail_settings['icalendar']</span>\n<span class=\"x\">$mail_settings['admin_backend']</span>\n</pre></div>\n<p>And what was the previous version you were using?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>previus version is 1.8.0<br/>\nthere is a second message error:<br/>\n<span>[client 93.148.53.62:0]</span> AH01071: Got error 'PHP message: <span>[DEBUG]</span> Preparing email for new or changed booking ...PHP message: <span>[DEBUG]</span> No recipients: not adding message to queue'\"</p>\n<p>we use Joomla auth</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>$mail_settings<span>['html']</span>      = true;<br/>\n$mail_settings<span>['icalendar']</span> = false;  // from sysstem default<br/>\n$mail_settings<span>['admin_backend']</span> = 'mail'; // from sysstem default</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>$mail_settings<span>['admin_on_bookings']</span>      = false;   // only this use recipents array and it's false<br/>\n$mail_settings<span>['area_admin_on_bookings']</span> = true; <br/>\n$mail_settings<span>['room_admin_on_bookings']</span> = true;</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Has anything else changed between the two versions?  For example are you running on a different server or using a different version of PHP?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>the server is the same (in virtual host) but php version now is 7.3, I've also contacted the tech support to verify php setup and why pear give opening error</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Now I've try to delete a reservation, and the error is:<br/>\n<span>[client 93.148.53.62:0]</span> AH01071: Got error 'PHP message: <span>[DEBUG]</span> Preparing email for deleted bookingPHP message: <span>[DEBUG]</span> No recipients: not adding message to queue'\"</p>\n<p>it doesn't seem to find the user's email address</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>What is <code>$auth['type']</code> set to?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Silly question - I assume the file PEAR.php is present and the permissions are OK? </p>\n<p>If it is there, one possibility is that the include path settings have changed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>$auth<span>[\"type\"]</span> = \"joomla\";</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi, my hoster confirmed me that PEAR was not installed on virtaul hosting services.<br/>\nso the lib may be locally into the application.</p>\n<p>with mbrs 1.8.x PEAR it was required?<br/>\nbecause with this version, installed into the same system, mails is working...<br/>\nwhat's changed in 1.9.x refered to PEAR use ?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The file PEAR.php is part of the MRBS distribution and should be at the same level as config.inc.php.  Can you check that it is there please?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>yes, it was present.</p>\n<p>the complete error message is:</p>\n<p>iismarconipieralisi.it <span>[Tue Oct 20 15:39:10 2020]</span> <span>[error]</span> <span>[pid 27580]</span> mod_proxy_fcgi.c(860): <span>[client 93.148.48.171:0]</span> AH01071: Got error 'PHP message: <span>[DEBUG]</span> Preparing email for new or changed booking ...PHP message: \\nE_WARNING in /var/www/vhosts/iismarconipieralisi.it/httpdocs/prenota-aule/Mail/mimePart.php at line 60\\nrequire_once(): open_basedir restriction in effect. File(/opt/php-fpm-7.3/lib/php/PEAR.php) is not within the allowed path(s): (/var/www/vhosts/iismarconipieralisi.it/:/tmp/:/var/lib/php/session/:/dev/urandom)\\nMRBS GET: Array\\n(\\n)\\nMRBS POST: Array\\n(\\n <span>[csrf_token]</span> =&gt; 17cf4678727692a415c851e3d78f878a46bb81d804c031ea48433962ab399145\\n <span>[returl]</span> =&gt; <a href=\"https://www.iismarconipieralisi.it/prenota-aule/index.php?view=day&amp;view_all=0&amp;page_date=2020-11-03&amp;area=1&amp;room=2\\n\" rel=\"nofollow\">https://www.iismarconipieralisi.it/prenota-aule/index.php?view=day&amp;view_all=0&amp;page_date=2020-11-03&amp;area=1&amp;room=2\\n</a> <span>[rep_id]</span> =&gt; 0\\n <span>[edit_type]</span> =&gt; series\\n <span>[create_by]</span> =&gt; adminiis\\n <span>[name]</span> =&gt; Vittorio Alfieri\\n <span>[description]</span> =&gt; \\n <span>[start_date]</span> =&gt; 2020-11-03\\n <span>[start_seconds]</span> =&gt; 43500\\n <span>[end_date]</span> =&gt; 2020-11-03\\n <span>[end_seconds]</span> =&gt; 43500\\n <span>[area]</span> =&gt; 1\\n <span>[rooms]</span> =&gt; Array\\n (\\n <span>[0]</span> =&gt; 2\\n )\\n\\n <span>[type]</span> =&gt; L\\n <span>[enable_registrant_limit]</span> =&gt; on\\n <span>[registrant_limit]</span> =&gt; 1\\n <span>[rep_type]</span> =&gt; 0\\n <span>[rep_day...PHP message: \\nE_WARNING in /var/www/vhosts/iismarconipieralisi.it/httpdocs/prenota-aule/Mail/mimePart.php at line 60\\nrequire_once(/opt/php-fpm-7.3/lib/php/PEAR.php): failed to open stream: Operazione non permessa\\nMRBS GET: Array\\n(\\n)\\nMRBS POST: Array\\n(\\n [csrf_token]</span> =&gt; 17cf4678727692a415c851e3d78f878a46bb81d804c031ea48433962ab399145\\n <span>[returl]</span> =&gt; <a href=\"https://www.iismarconipieralisi.it/prenota-aule/index.php?view=day&amp;view_all=0&amp;page_date=2020-11-03&amp;area=1&amp;room=2\\n\" rel=\"nofollow\">https://www.iismarconipieralisi.it/prenota-aule/index.php?view=day&amp;view_all=0&amp;page_date=2020-11-03&amp;area=1&amp;room=2\\n</a> <span>[rep_id]</span> =&gt; 0\\n <span>[edit_type]</span> =&gt; series\\n <span>[create_by]</span> =&gt; adminiis\\n <span>[name]</span> =&gt; Vittorio Alfieri\\n <span>[description]</span> =&gt; \\n <span>[start_date]</span> =&gt; 2020-11-03\\n <span>[start_seconds]</span> =&gt; 43500\\n <span>[end_date]</span> =&gt; 2020-11-03\\n <span>[end_seconds]</span> =&gt; 43500\\n <span>[area]</span> =&gt; 1\\n <span>[rooms]</span> =&gt; Array\\n (\\n <span>[0]</span> =&gt; 2\\n )\\n\\n <span>[type]</span> =&gt; L\\n <span>[enable_registrant_limit]</span> =&gt; on\\n <span>[registrant_limit]</span> =&gt; 1\\n <span>[rep_type]</span> =&gt; 0\\n <span>[rep_day]</span> =&gt; Array\\n (\\n <span>[0]</span> =&gt; 2\\n )\\n\\n <span>[month_type]</span> =&gt; 0\\n <span>[month_absolute]</span> =&gt; 3\\n [month_re...PHP message: PHP Fatal error: require_once(): Failed opening required 'PEAR.php' (include_path='.:/opt/php-fpm-7.3/lib/php:/var/www/vhosts/iismarconipieralisi.it/httpdocs/prenota-aule') in /var/www/vhosts/iismarconipieralisi.it/httpdocs/prenota-aule/Mail/mimePart.php on line 60'\"</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-10-20</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think at line 60 of Mail/mimePart.php <br/>\nthere is an error, the require must be:<br/>\nrequire_once '../PEAR.php';</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I don't think that's the problem, but on the other hand I'm not sure what's going wrong.</p>\n<p>The difference between MRBS 1.8.0 and 1.9.0 is that in 1.9.0 mail is sent after shutdown .  The PHP manual states that the \"working directory of the script can change inside the shutdown function under some web servers, e.g. Apache.\".    I suspect that the problem is somehow related to this.  However MRBS deliberately adds to the include path to account for this and I can see that your include path includes \"/var/www/vhosts/iismarconipieralisi.it/httpdocs/prenota-aule\", which is where I'd expect to see PEAR.php.</p>\n<p>Can you confirm that /var/www/vhosts/iismarconipieralisi.it/httpdocs/prenota-aule/PEAR.php exists?</p>\n<p>One thing that's puzzling me is that the error message that you get is \"PHP Fatal error: require_once(): Failed opening required 'PEAR.php'\".   However if I manually change the include path to try and reproduce the problem I get the message \"require_once(PEAR.php): failed to open stream: No such file or directory\".    I don't know if there's a subtle difference between the messages.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>that's the ftp view<br/>\n<span>[image: image.png]</span></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Vittorio Alfieri 2020-10-21</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you run the atttached test program in your MRBS folder (ie at the same level as config.inc.php) and let me know what the browser output is please?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The page is on-line, run the test yourself at<br/>\n<a href=\"https://www.iismarconipieralisi.it/prenota-aule/test.php\" rel=\"nofollow\">https://www.iismarconipieralisi.it/prenota-aule/test.php</a></p>\n<p>you can better view resuls</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-10-21</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks, that's useful.  Can you put the attached slightly revised test program on line please?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>the new file is on-line<br/>\n<a href=\"https://www.iismarconipieralisi.it/prenota-aule/test2.php\" rel=\"nofollow\">https://www.iismarconipieralisi.it/prenota-aule/test2.php</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-10-22</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  I think I understand the problem.  Assuming you are using MRBS 1.9.1 or 1.9.2 can you try the attached version of lib/MRBS/MailQueue.php and see if it fixes the problem?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>None, the same error:</p>\n<p>iismarconipieralisi.it <span>[Wed Oct 21 20:09:02 2020]</span> <span>[error]</span> <span>[pid 2501]</span><br/>\nmod_proxy_fcgi.c(860): <span>[client 93.148.48.171:0]</span> AH01071: Got error 'PHP<br/>\nmessage: <span>[DEBUG]</span> Preparing email for new or changed booking ...PHP message:<br/>\n\\nE_WARNING in /var/www/vhosts/<br/>\niismarconipieralisi.it/httpdocs/prenota-aule/Mail/mimePart.php at line<br/>\n60\\nrequire_once(): open_basedir restriction in effect. File(../PEAR.php)<br/>\nis not within the allowed path(s): (/var/www/vhosts/<br/>\niismarconipieralisi.it/:/tmp/:/var/lib/php/session/:/dev/urandom)\\nMRBS<br/>\nGET: Array\\n(\\n)\\nMRBS POST: Array\\n(\\n <span>[csrf_token]</span> =&gt;<br/>\n8b322b0fa8184fdbf330fc54f82754d03063022e4b4150cb618f466d99410f7a\\n <span>[returl]</span><br/>\n=&gt; <a href=\"https://www.iismarconipieralisi.it/prenota-aule/index.php\\n\" rel=\"nofollow\">https://www.iismarconipieralisi.it/prenota-aule/index.php\\n</a> <span>[rep_id]</span> =&gt;<br/>\n0\\n <span>[edit_type]</span> =&gt; series\\n <span>[create_by]</span> =&gt;<br/>\nvittorio.alfieri@iismarconipieralisi.it\\n <span>[name]</span> =&gt; Vittorio Alfieri\\n<br/>\n<span>[description]</span> =&gt; \\n <span>[start_date]</span> =&gt; 2020-10-21\\n <span>[start_seconds]</span> =&gt; 43380\\n<br/>\n<span>[end_seconds]</span> =&gt; 43380\\n <span>[area]</span> =&gt; 1\\n <span>[rooms]</span> =&gt; Array\\n (\\n <span>[0]</span> =&gt; 2\\n<br/>\n)\\n\\n <span>[type]</span> =&gt; L\\n)\\nMRBS SESSION: Array\\n(\\n <span>[joomla]</span> =&gt;<br/>\nTzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjE6e3M6OToiX19kZWZhdWx0IjtPOjg6InN0ZENsYXNzIjo...PHP<br/>\nmessage: \\nE_WARNING in /var/www/vhosts/<br/>\niismarconipieralisi.it/httpdocs/prenota-aule/Mail/mimePart.php at line<br/>\n60\\nrequire_once(../PEAR.php): failed to open stream: Operazione non<br/>\npermessa\\nMRBS GET: Array\\n(\\n)\\nMRBS POST: Array\\n(\\n <span>[csrf_token]</span> =&gt;<br/>\n8b322b0fa8184fdbf330fc54f82754d03063022e4b4150cb618f466d99410f7a\\n <span>[returl]</span><br/>\n=&gt; <a href=\"https://www.iismarconipieralisi.it/prenota-aule/index.php\\n\" rel=\"nofollow\">https://www.iismarconipieralisi.it/prenota-aule/index.php\\n</a> <span>[rep_id]</span> =&gt;<br/>\n0\\n <span>[edit_type]</span> =&gt; series\\n <span>[create_by]</span> =&gt;<br/>\nvittorio.alfieri@iismarconipieralisi.it\\n <span>[name]</span> =&gt; Vittorio Alfieri\\n<br/>\n<span>[description]</span> =&gt; \\n <span>[start_date]</span> =&gt; 2020-10-21\\n <span>[start_seconds]</span> =&gt; 43380\\n<br/>\n<span>[end_seconds]</span> =&gt; 43380\\n <span>[area]</span> =&gt; 1\\n <span>[rooms]</span> =&gt; Array\\n (\\n <span>[0]</span> =&gt; 2\\n<br/>\n)\\n\\n <span>[type]</span> =&gt; L\\n)\\nMRBS SESSION: Array\\n(\\n <span>[joomla]</span> =&gt;<br/>\nTzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjE6e3M6OToiX19kZWZhdWx0IjtPOjg6InN0ZENsYXNzIjo2OntzOjc6InNlc3Npb24iO086ODoic3RkQ2xhc3MiOjM6e3M6NzoiY291bnRlciI7aToxNjtzOjU6InRpbWVyIjtPOjg6InN0ZENsYXNzIjozOntzO...PHP<br/>\nmessage: PHP Fatal error: require_once(): Failed opening required<br/>\n'../PEAR.php' (include_path='/var/www/vhosts/<br/>\niismarconipieralisi.it/httpdocs/prenota-aule:.:/opt/php-fpm-7.3/lib/php')<br/>\nin /var/www/vhosts/<br/>\niismarconipieralisi.it/httpdocs/prenota-aule/Mail/mimePart.php on line 60'\"<br/>\niismarconipieralisi.it <span>[Wed Oct 21 20:09:08 2020]</span> <span>[error]</span> <span>[pid 1833]</span><br/>\nmod_proxy_fcgi.c(860): <span>[client 93.148.48.171:0]</span> AH01071: Got error 'PHP<br/>\nmessage: <span>[DEBUG]</span> Preparing email for deleted bookingPHP message:<br/>\n\\nE_WARNING in /var/www/vhosts/<br/>\niismarconipieralisi.it/httpdocs/prenota-aule/Mail/mimePart.php at line<br/>\n60\\nrequire_once(): open_basedir restriction in effect. File(../PEAR.php)<br/>\nis not within the allowed path(s): (/var/www/vhosts/<br/>\niismarconipieralisi.it/:/tmp/:/var/lib/php/session/:/dev/urandom)\\nMRBS<br/>\nGET: Array\\n(\\n)\\nMRBS POST: Array\\n(\\n <span>[csrf_token]</span> =&gt;<br/>\n8b322b0fa8184fdbf330fc54f82754d03063022e4b4150cb618f466d99410f7a\\n <span>[id]</span> =&gt;<br/>\n21699\\n <span>[series]</span> =&gt; 0\\n <span>[returl]</span> =&gt;<br/>\nindex.php?view=day&amp;year=2020&amp;month=10&amp;day=21&amp;area=1&amp;room=2\\n)\\nMRBS<br/>\nSESSION: Array\\n(\\n <span>[joomla]</span> =&gt;<br/>\nTzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjE6e3M6OToiX19kZWZhdWx0IjtPOjg6InN0ZENsYXNzIjo2OntzOjc6InNlc3Npb24iO086ODoic3RkQ2xhc3MiOjM6e3M6NzoiY291bnRlciI7aToyMTtzOjU6InRpbWVyIjtPOjg6InN0ZENsYXNzIjozOntzOjU6InN0YXJ0IjtpOjE2MDMzMDM3MTI7czo0OiJsYXN0IjtpOjE2MDMzMDM3NDU7czozOiJub3ciO2k6MTYwMzMwMzc0ODt9czo1OiJ0b2tlbiI7czozMjoieW9rRTVsUE93V0ZBOU04TDk5TmJaOVhWRkVPbURQMUoiO31zOjg6InJlZ2lzdHJ5IjtP...PHP<br/>\nmessage: \\nE_WARNING in /var/www/vhosts/<br/>\niismarconipieralisi.it/httpdocs/prenota-aule/Mail/mimePart.php at line<br/>\n60\\nrequire_once(../PEAR.php): failed to open stream: Operazione non<br/>\npermessa\\nMRBS GET: Array\\n(\\n)\\nMRBS POST: Array\\n(\\n <span>[csrf_token]</span> =&gt;<br/>\n8b322b0fa8184fdbf330fc54f82754d03063022e4b4150cb618f466d99410f7a\\n <span>[id]</span> =&gt;<br/>\n21699\\n <span>[series]</span> =&gt; 0\\n <span>[returl]</span> =&gt;<br/>\nindex.php?view=day&amp;year=2020&amp;month=10&amp;day=21&amp;area=1&amp;room=2\\n)\\nMRBS<br/>\nSESSION: Array\\n(\\n <span>[joomla]</span> =&gt;<br/>\nTzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjE6e3M6OToiX19kZWZhdWx0IjtPOjg6InN0ZENsYXNzIjo2OntzOjc6InNlc3Npb24iO086ODoic3RkQ2xhc3MiOjM6e3M6NzoiY291bnRlciI7aToyMTtzOjU6InRpbWVyIjtPOjg6InN0ZENsYXNzIjozOntzOjU6InN0YXJ0IjtpOjE2MDMzMDM3MTI7czo0OiJsYXN0IjtpOjE2MDMzMDM3NDU7czozOiJub3ciO2k6MTYwMzMwMzc0ODt9czo1OiJ0b2tlbiI7czozMjoieW9rRTVsUE93V0ZBOU04TDk5TmJaOVhWRkVPbURQMUoiO31zOjg6InJlZ2lzdHJ5IjtPOjI0OiJKb29tbGFcUmVnaXN0cnlcUmVnaXN0cnkiOjM6e3M6NzoiACoAZGF0YSI7Tzo4OiJzdGRDbGFzcyI6Mzp7czoxNToiY29tX2F0dGFjaG1lbn...PHP<br/>\nmessage: PHP Fatal error: require_once(): Failed opening required<br/>\n'../PEAR.php' (include_path='/var/www/vhosts/<br/>\niismarconipieralisi.it/httpdocs/prenota-aule:.:/opt/php-fpm-7.3/lib/php')<br/>\nin /var/www/vhosts/<br/>\niismarconipieralisi.it/httpdocs/prenota-aule/Mail/mimePart.php on line 60'\"</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-10-22</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think you are still using the version of mimePart.php that you modified.  You should use the standard MRBS one (attached).</p>\n<blockquote>\n<p>I think at line 60 of Mail/mimePart.php<br/>\nthere is an error, the require must be:<br/>\nrequire_once '../PEAR.php';</p>\n</blockquote></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>That's ok. it's working ....</p>\n<p>iismarconipieralisi.it <span>[Wed Oct 21 21:10:10 2020]</span> <span>[error]</span> <span>[pid 1944]</span><br/>\nmod_proxy_fcgi.c(860): <span>[client 93.148.48.171:0]</span> AH01071: Got error 'PHP<br/>\nmessage: <span>[DEBUG]</span> Preparing email for new or changed booking ...PHP message:<br/>\n<span>[DEBUG]</span> Preparing to send email ...PHP message: <span>[DEBUG]</span> Using backend<br/>\n'mail'PHP message: <span>[DEBUG]</span> From: ufficiotecnico@iismarconipieralisi.itPHP<br/>\nmessage: <span>[DEBUG]</span> To: ufficiotecnico@iismarconipieralisi.itPHP message:<br/>\n<span>[DEBUG]</span> Cc: PHP message: <span>[DEBUG]</span> Bcc: PHP message: <span>[DEBUG]</span> Email sent<br/>\nsuccessfully'\"</p>\n<p>iismarconipieralisi.it <span>[Wed Oct 21 21:10:58 2020]</span> <span>[error]</span> <span>[pid 2501]</span><br/>\nmod_proxy_fcgi.c(860): <span>[client 93.148.48.171:0]</span> AH01071: Got error 'PHP<br/>\nmessage: <span>[DEBUG]</span> Preparing email for deleted bookingPHP message: <span>[DEBUG]</span><br/>\nPreparing to send email ...PHP message: <span>[DEBUG]</span> Using backend 'mail'PHP<br/>\nmessage: <span>[DEBUG]</span> From: ufficiotecnico@iismarconipieralisi.itPHP message:<br/>\n<span>[DEBUG]</span> To: ufficiotecnico@iismarconipieralisi.itPHP message: <span>[DEBUG]</span> Cc:<br/>\nPHP message: <span>[DEBUG]</span> Bcc: PHP message: <span>[DEBUG]</span> Email sent successfully'\"<br/>\n\"</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-10-22</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have now committed this fix to the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/ab05af3c6b4c9948d134608da3fe2ef7196b0002/\">ab05af</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-10-22</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/488/", "title": "#488 Demo installations need database upgrade.", "status": "closed", "labels": "demo (1)\n          \n        \n          \n              upgrade (1)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Demo installations show:<br>\nTo complete the upgrade the database now needs to be upgraded. Please backup your database before proceeding.</p>\n<p>Please supply a database username and password that has admin rights.</p>\n<p>If you are not the MRBS administrator please contact Your Administrator.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/487/", "title": "#487 1.9.1 upgrade \"database not available\"", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>In upgrading a fully functional 1.9.0 to 1.9.1 received the dreaded \"database not available\" message.</p>\n<p>Some details from the PHP error report:</p>\n<p>Upgrading to database version: 67<br>\nUncaught exception 'MRBS\\DBException' in /lib/MRBS/DB.php at line 187<br>\nSQLSTATE<span>[42S21]</span>: Column already exists: 1060 Duplicate column name 'allow_registration'<br>\nSQL: -- Add columns to allow registration and a participants tableALTER TABLE mrbs_entry ADD COLUMN allow_registration tinyint(1) DEFAULT 0 NOT NULL, ADD COLUMN enable_registrant_limit tinyint(1) DEFAULT 1 NOT NULL, ADD COLUMN registrant_limit int DEFAULT 0 NOT NULL</p>\n<p>Robert Morss</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>What version of MySQL are you running?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>On my MRBS 1.9.0 installation <strong>Help</strong> screen its says</p>\n<p>MySQL 5.6.47-87.0-log</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you try the upgrade again please having first replaced upgrade/67/mysql.sql with the attached file?  You will also have first to restore your 1.9.0 database or else undo the incomplete upgrade by</p>\n<ul>\n<li>deleting the 'allow_registration', 'enable_registrant_limit' and 'registrant_limit' columns, if present, from the entry table</li>\n<li>deleting the participants table</li>\n</ul>\n<p>This may or not fix your problem (I will be interested to know whether it does) but the new file is needed anyway to fix another problem that affects systems using MySQL 5.6 or below.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-10-13</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p><a class=\"\" href=\"https://sourceforge.net/p/mrbs/support-requests/2196/\">Somebody else</a> has also reported the same problem.   I think what may be happening is this:</p>\n<ul>\n<li>There is unfortunately a <a class=\"\" href=\"https://sourceforge.net/p/mrbs/bugs/486/\">known bug</a> in MRBS 1.9.1.  The bug only occurs if you are running MySQL Version 5.6 or below and is caused because the limit on key lengths in MySQL Version 5.6 and below is lower than it is in 5.7 and above.  (The fix is simple and is to change the length of one of the VARCHAR columns - see the bug report for details.)</li>\n<li>The first time you try and upgrade the database MRBS manages to add the extra columns but can't add the unique key.</li>\n<li>If you try the upgrade again, it will fail with the message you reported above, ie \"Column already exists: 1060 Duplicate column name 'allow_registration'\".</li>\n</ul>\n<p>I am assuming that the message you got above, and the message reported in the other ticket, actually came from the <em>second</em> (or later) time that you tried to upgrade the database. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I believe you are correct (that my error appeared on second attempt) because I had to add error reporting lines to internalconfig.inc.php</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for confirming that.  I've just realised I forgot to add the fixed file as an attachment in my earlier post - I've now edited it and added the attachment.</p>\n<p>By the way, there's no need to modify internalconfig.inc.php these days to get error reporting.  Just set <code>$debug = true;</code> in your config file.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I followed your instructions to revert the aborted table changes. Then I uploaded your  mysql.sql file and the upgrade completed successfully to MRBS 1.9.1</p>\n<p>Thanks for your rapid response on this workaround!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in 1.9.2 release.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/486/", "title": "#486 CREATE TABLE mrbs_participants Table error", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><span>[Transferred from the general mailing list]</span></p>\n<p>I\u2019m installing the latest 1.9.1 version but when creating the tables for MRBS I receive an error for the mrbs_participants table \u2013 as below</p>\n<p>Any idea what I\u2019ve done wrong?</p>\n<div class=\"codehilite\"><pre><span></span>SQL query:\nCREATE TABLE mrbs_participants\n(\n  id          int NOT NULL auto_increment,\n  entry_id    int NOT NULL,\n  username    varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,\n  create_by   varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,\n  registered  int,\n\n  PRIMARY KEY (id),\n  UNIQUE KEY uq_entryid_username (entry_id, username),\n  FOREIGN KEY (entry_id)\n    REFERENCES mrbs_entry(id)\n    ON UPDATE CASCADE\n    ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4\nMySQL said:  \n#1071 - Specified key was too long; max key length is 767 bytes\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry, this is a bug.   It's a limitation of MYSQL versions before 5.7.     You will need to change the length of the username varchar from 255 to 187, ie </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">mrbs_participants</span>\n<span class=\"p\">(</span>\n  <span class=\"n\">id</span>          <span class=\"nb\">int</span> <span class=\"k\">NOT</span> <span class=\"k\">NULL</span> <span class=\"n\">auto_increment</span><span class=\"p\">,</span>\n  <span class=\"n\">entry_id</span>    <span class=\"nb\">int</span> <span class=\"k\">NOT</span> <span class=\"k\">NULL</span><span class=\"p\">,</span>\n  <span class=\"n\">username</span>    <span class=\"nb\">varchar</span><span class=\"p\">(</span><span class=\"mi\">187</span><span class=\"p\">)</span> <span class=\"nb\">CHARACTER</span> <span class=\"k\">SET</span> <span class=\"n\">utf8mb4</span> <span class=\"k\">COLLATE</span> <span class=\"n\">utf8mb4_unicode_ci</span><span class=\"p\">,</span>\n  <span class=\"n\">create_by</span>   <span class=\"nb\">varchar</span><span class=\"p\">(</span><span class=\"mi\">255</span><span class=\"p\">)</span> <span class=\"nb\">CHARACTER</span> <span class=\"k\">SET</span> <span class=\"n\">utf8mb4</span> <span class=\"k\">COLLATE</span> <span class=\"n\">utf8mb4_unicode_ci</span><span class=\"p\">,</span>\n  <span class=\"n\">registered</span>  <span class=\"nb\">int</span><span class=\"p\">,</span>\n\n  <span class=\"k\">PRIMARY</span> <span class=\"k\">KEY</span> <span class=\"p\">(</span><span class=\"n\">id</span><span class=\"p\">),</span>\n  <span class=\"k\">UNIQUE</span> <span class=\"k\">KEY</span> <span class=\"n\">uq_entryid_username</span> <span class=\"p\">(</span><span class=\"n\">entry_id</span><span class=\"p\">,</span> <span class=\"n\">username</span><span class=\"p\">),</span>\n  <span class=\"k\">FOREIGN</span> <span class=\"k\">KEY</span> <span class=\"p\">(</span><span class=\"n\">entry_id</span><span class=\"p\">)</span>\n    <span class=\"k\">REFERENCES</span> <span class=\"n\">mrbs_entry</span><span class=\"p\">(</span><span class=\"n\">id</span><span class=\"p\">)</span>\n    <span class=\"k\">ON</span> <span class=\"k\">UPDATE</span> <span class=\"k\">CASCADE</span>\n    <span class=\"k\">ON</span> <span class=\"k\">DELETE</span> <span class=\"k\">CASCADE</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span><span class=\"o\">=</span><span class=\"n\">InnoDB</span> <span class=\"k\">DEFAULT</span> <span class=\"n\">CHARSET</span><span class=\"o\">=</span><span class=\"n\">utf8mb4</span>\n</pre></div>\n<p>If 187 doesn't work, try reducing it a bit more.  (Sorry, I haven't had a chance to test it).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed this in the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/b0aed04e82244038b18b0bd320c0b465e8985afe/\">b0aed0</a>.   It turned out that varchar(191) was sufficient.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Cheers Campbell</p>\n<p>That worked. Have the new version working as a test. Just getting my head around the new design before I commit it to a live system although, with COVID and the way we are implementing room, thats not going to be for a while.</p>\n<p>Many thanks</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/485/", "title": "#485 Fatal error in stylesheets", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>mrbs-print.css.php/mrbs.css.php error as below. Fixed by adding <code>require_once \"defaultincludes.inc\";</code> to the top of the language.inc file</p>\n<p><code>PHP Fatal error:  Uncaught Error: Class 'MRBS\\System' not found in /home/vagrant/code/project/meetingrooms/language.inc:198</code></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I cannot reproduce this.   Have you still got the line</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">require_once \"language.inc\";</span>\n</pre></div>\n<p>in your config file, as in the old versions of MRBS?   If so it should be removed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I did indeed. This has fixed the issue.</p>\n<p>Thankyou</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/484/", "title": "#484 entry custom int field forces search for only one value", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>A custom int field provides a search match box. However, it defaults to 0 which only matches entries with a 0 value (other rows suppressed). I modified the code to look for a * as a match value and to skip the field when building the sql select statement if the int match value is set to * which seems to work, but it's a bit awkward.</p>\n<p>Custom int fields really should be able to be searched on by range &gt;50 for example or between 25 and 50. If blank they should be ignored, but it seems to put a value of 0 back in the form on redisplay so a blank field didn't work.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, I agree it would be more useful to have a range for ints and I'll look at that whenever I get time. </p>\n<p>In the meantime the zero problem has already been fixed in the latest code in the default branch.  See <a href=\"https://sourceforge.net/p/mrbs/support-requests/2142/.\">https://sourceforge.net/p/mrbs/support-requests/2142/.</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>That request is for something else - 404 error.</p>\n<p>Regardless of ever adding a range option, a checkbox that disabled the addition of the field unless set would be a work around.</p>\n<p>A range would require something like the following to be generated for the custom int field.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">checkbox</span><span class=\"o\">-</span><span class=\"n\">active</span>  <span class=\"k\">operator</span><span class=\"o\">-</span><span class=\"k\">select</span><span class=\"p\">(</span><span class=\"o\">&lt;</span><span class=\"p\">,</span><span class=\"o\">&lt;=</span><span class=\"p\">,</span><span class=\"o\">&gt;</span><span class=\"p\">,</span><span class=\"o\">&gt;=</span><span class=\"p\">,</span><span class=\"o\">=</span><span class=\"p\">,</span><span class=\"o\">!=</span><span class=\"p\">)</span>    <span class=\"n\">value</span>\n<span class=\"n\">checkbox</span><span class=\"o\">-</span><span class=\"n\">active</span>  <span class=\"k\">join</span><span class=\"o\">-</span><span class=\"k\">operator</span><span class=\"o\">-</span><span class=\"k\">select</span> <span class=\"p\">(</span><span class=\"k\">and</span><span class=\"o\">/</span><span class=\"k\">or</span><span class=\"p\">)</span>\n                                      <span class=\"k\">operator</span><span class=\"o\">-</span><span class=\"k\">select</span><span class=\"p\">(</span><span class=\"o\">&lt;</span><span class=\"p\">,</span><span class=\"o\">&lt;=</span><span class=\"p\">,</span><span class=\"o\">&gt;</span><span class=\"p\">,</span><span class=\"o\">&gt;=</span><span class=\"p\">,</span><span class=\"o\">=</span><span class=\"p\">,</span><span class=\"o\">!=</span><span class=\"p\">)</span> <span class=\"n\">value</span>\n</pre></div>\n<p>laid out in the search form.</p>\n<p>Then when processing look for the second checkbox-active and join set to OR to see if you need to add a leading/trailing () around the whole expression set or just always throw () around since shouldn't matter if extras are there.</p>\n<p>Would allow a single test or range, and if neither checkbox-active was checked would omit the field to add everything.</p>\n<p>Trouble is the way it is now by default if you add any custom int field, you can't use reports as they return no matches.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Have a look at that other request more carefully. There are in fact two problems,the 404 error and this problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/483/", "title": "#483 E_WARNING in C:\\xampp\\htdocs\\mrbs\\edit_entry.php at line 1647", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I copied over an older instance of mrbs from another site, created my own config file and everythign seemed fine... i've upgraded to v1.9.0 however and im now seeing an error when trying to create new bookings as a user.  I use 'periods' rather than specific timeframes. When selecting one of these periods to create a booking im getting the following output....  I'm completely at a loss with this one. Any assistance would be greatly appreciated. edit_entry.php has not been modified in any way. Other than config.php the only file that has is the authldap.php file which was also generating an error that i found an article on here about how to fix.</p>\n<p>E_WARNING in C:\\xampp\\htdocs\\mrbs\\edit_entry.php at line 1647<br>\ncount(): Parameter must be an array or an object that implements Countable<br>\nMRBS GET: Array<br>\n(<br>\n<span>[year]</span> =&gt; 2020<br>\n<span>[month]</span> =&gt; 09<br>\n<span>[day]</span> =&gt; 17<br>\n<span>[area]</span> =&gt; 1<br>\n<span>[room]</span> =&gt; 1<br>\n<span>[view]</span> =&gt; month<br>\n<span>[period]</span> =&gt; 0<br>\n<span>[returl]</span> =&gt; <a href=\"http://booking.testdomain.com/mrbs\" rel=\"nofollow\">http://booking.testdomain.com/mrbs</a><br>\n)<br>\nMRBS POST: Array<br>\n(<br>\n)<br>\nMRBS SESSION: Array<br>\n(<br>\n<span>[csrf_token]</span> =&gt; 1a592484ea24b4e839ab82a2be5564ab13c7c8618841d97f5504d1290b710743<br>\n<span>[user]</span> =&gt; MRBS\\User Object<br>\n        (<br>\n<span>[username]</span> =&gt; tuser<br>\n<span>[display_name]</span> =&gt; Test USER<br>\n<span>[email]</span> =&gt; TESTUSER@TESTDOMAIN.COM<br>\n<span>[level]</span> =&gt; 1<br>\n        )</p>\n<p>)</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can confirm i dont get this error in 1.4.10 which is the version my install was based on. I have tried to upgrade to 1.7.4.1 and 1.9.0 and both generate the above output when trying to make a booking.</p>\n<p>Its worth noting that neither updates offered a database upgrade when overwriting the files... it just appeared to work.... albeit for now causing the above.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Looks like replacing line 1647 as follows....</p>\n<p>Overwrite this;</p>\n<p>$last = $first + (count($row<span>['periods']</span>) * $row<span>['resolution']</span>);</p>\n<p>Replace with this;</p>\n<p>$last = $first + (count($periods) * $row<span>['resolution']</span>);</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think you're getting this error because your upgrades haven't happened properly.  You should have been asked to upgrade the database going from 1.4.10 to 1.7.4.1 and again from 1.7.4.1 to 1.9.0.     Line 1647 looks correct in 1.9.0 and your change isn't necessary - nor indeed correct.</p>\n<p>It sounds like you can't have uploaded all the files in the 1.9.0 web folder to your server.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hmm... I did, but i think i may start again. Completely fresh with a 1.9.0 install and a new DB and take it from there. I originally bailed on that idea as there was an ldap authentication issue, but i've since found the fix for that so am confident i should be able to get it up and running.  I'll give it a go now and let you know.. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>An upgrade should also work if you want to keep your existing data.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Started afresh... there was no real data to keep a hold of really. Thats done the trick.. but it will be interesting to see if upgrading my 2x other servers brings the same issue. I was not prompted to upgrade the database at all... we'll see.</p>\n<p>I have one or two other issues with 1.9.0 but i'll look around to see if other people have mentioned them before raising new tickets. Thank you, feel free to close this off.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/482/", "title": "#482 Can choose AND book hidden_days", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I knew I read somewhere that even when days are hidden they are selectable in the mini calendar. I didn't consider this a problem, since I forgot that the comment above $hidden_days also mentions that they can be booked too. Since it tells so, it's not a bug really. But some students figured this out already and booked for the weekend when we are closed :)</p>\n<p>I changed print_goto_date() in headers.inc to only display the calendar for admins (the the mini calendars at the side are disabled anyway). But they still can select it in edit_entry.php itself</p>\n<p>Isn't it presumably a pretty common case that locations are closed at some week days? I know, one could add \"we are closed\" bookings for all weekends, but this is not exactly obvious or straight forward. </p>\n<p>The best would be to prevent selecting hidden days in the first place. But a simpler approach would be to add another check when verifying the booking condition against the config setting \"$hidden_days\". I think the place would be edit_entry_handler.php, but I'm not exactly sure yet how it works. Basically it would be like </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">&lt;</span>?<span class=\"nv\">php</span>\n$<span class=\"nv\">hidden_days</span> <span class=\"o\">=</span> <span class=\"nv\">array</span><span class=\"ss\">(</span><span class=\"mi\">0</span>,<span class=\"mi\">6</span><span class=\"ss\">)</span><span class=\"c1\">;</span>\n\n$<span class=\"nv\">start_day</span> <span class=\"o\">=</span> <span class=\"nv\">DateTime</span>::<span class=\"nv\">createFromFormat</span><span class=\"ss\">(</span><span class=\"s1\">'</span><span class=\"s\">Y-m-d</span><span class=\"s1\">'</span>, <span class=\"s1\">'</span><span class=\"s\">2020-09-13</span><span class=\"s1\">'</span><span class=\"ss\">)</span><span class=\"c1\">;</span>\n$<span class=\"nv\">weekday</span> <span class=\"o\">=</span> $<span class=\"nv\">start_day</span><span class=\"o\">-&gt;</span><span class=\"nv\">format</span><span class=\"ss\">(</span><span class=\"s1\">'</span><span class=\"s\">w</span><span class=\"s1\">'</span><span class=\"ss\">)</span><span class=\"c1\">;</span>\n\n<span class=\"k\">if</span> <span class=\"ss\">(</span><span class=\"nv\">in_array</span><span class=\"ss\">(</span>$<span class=\"nv\">weekday</span>, $<span class=\"nv\">hidden_days</span><span class=\"ss\">))</span>\n{\n    <span class=\"nv\">echo</span> <span class=\"s2\">\"</span><span class=\"s\">Closing days are not bookable</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n}    \n?<span class=\"o\">&gt;</span>\n</pre></div>\n\n\n<p>Wouldn't this make sense?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, I agree it makes sense.  I'll try and take a look next week.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks. I just figured out how to prevent the selection in the first place in <a class=\"\" href=\"https://collaborating.tuhh.de/tub/dd/applications/mrbs/-/commit/385bf39981cbb4fd13f073f2db46ebe5c67a9461\" rel=\"nofollow\">web/js/datepicker.js.php</a>. Besides hidden_days I also added min_booking_date and max_booking_date.</p>\n<p>Maybe there might be cases when admins should be allowed to select those dates anyway. So maybe is_admin() would make sense. But I don't really think so...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Tobias Zeumer 2020-09-11</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have now fixed this in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/d4e9316f5e5cd2e125342741ac011255d38501d5/\">d4e931</a>.</p>\n<p>The bug was actually a regression that was introduced after flatpickr was updated recently.   The days were originally disabled, but this was being achieved using an undocumented technique which broke when flatpickr was updated.   I've changed it to use the standard config disable property, so this shouldn't be a problem in the future.</p>\n<p>I've retained the original ability for admins to be able to select hidden days, though I've widened it to booking admins.   I think it's sometimes useful for admins to be able to make bookings on hidden days, for example when preparing a calendar before opening it up to everybody.  Another example might be when they want to put some information in there for use by other admins - perhaps when carrying out maintenance work.   Anyway, I think there's a general principle that admins should know what they are doing and be able to do anything.   However I've kept the disabled styling for admins so that they are aware that the dates are hidden.</p>\n<p>I haven't disabled days outside the min and max booking dates.  That's because I think you should still be able to view the calendar even though you can't make a booking.   There are separate checks to prevent bookings being made.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks. I think your are right about the admins and I applied you solution :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hm, by chance I just discovered a related problem. If I go to the website at the weekend (the hidden_days) I could still book at a closing day since if it is today it is displayed anyway. Granted, it is pretty unlikely, but on the other hand I would not really be surprised if someday some people are going to book for a weekend afternoon.</p>\n<p>So, maybe it would still make sense to add a real booking verification rule. Maybe the same as for earliest and latest date could be used for hidden_days too? </p>\n<p>On the other hand I'd consider it also reasonable if the view would just switch to the next day with opening hours, just as it does when paging through the days. Skipping to the first bookable date might be considered a convenience feature.</p>\n<p>Or both (rule and skipping)? I'm not exactly sure. <img alt=\"\ud83e\udd14\" class=\"emoji\" draggable=\"false\" src=\"https://twemoji.maxcdn.com/2/72x72/1f914.png\"/></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Tobias Zeumer 2020-09-13</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, I'll think about it and take a look next week.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now committed a change in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/59d3c332ab6ffe94d27cf3c0f53faeab32d29644/\">59d3c3</a>.</p>\n<p>The change advances the date to the first non-hidden date.   I decided not to introduce a rule preventing bookings being made on hidden days.   The purpose of hidden days is to simplify the calendar if there are days that are never used.  (It would also be quite complicated to implement as you'd have to think about bookings span a hidden day, for example starting on the day before a hidden day and finishing the day after.)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Great, works like a charme.</p>\n<p>Thank you once again for a quick solution :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/481/", "title": "#481 view_entry.php always shows logged in user as createdby/modifiedby", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If a user choses \"public\" as privacy status when creating a booking, the booking is always displayed as belonging to the logged in user (not the creator).</p>\n<p>It's a little bit confusing sometimes :)</p></div></div>\n  \n    <strong class=\"grid-18\">2 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/481/attachment/Public%20schedule%20-%20create.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/481/attachment/Public%20schedule%20-%20create.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/481/attachment/Public%20schedule%20-%20create.png\">Public schedule - create.png</a>\n        </div>\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/481/attachment/Public%20schedule%20-%20display.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/481/attachment/Public%20schedule%20-%20display.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/481/attachment/Public%20schedule%20-%20display.png\">Public schedule - display.png</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this.  I wonder if it's to do with the PAIA authentication type?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hmm, I changed it when I updated to 1.9 (it's now like this: <a href=\"https://collaborating.tuhh.de/tub/dd/applications/mrbs/-/blob/master/web/lib/MRBS/Auth/AuthPaia.php\" rel=\"nofollow\">https://collaborating.tuhh.de/tub/dd/applications/mrbs/-/blob/master/web/lib/MRBS/Auth/AuthPaia.php</a>). But create_by and modified_by are part of the entry table and create_by is shown correctly when editing an entry. The table data looks fine too <img alt=\"\ud83e\udd14\" class=\"emoji\" draggable=\"false\" src=\"https://twemoji.maxcdn.com/2/72x72/1f914.png\"/> </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Tobias Zeumer 2020-09-08</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, it does. At least in a way. This line <a href=\"https://collaborating.tuhh.de/tub/dd/applications/mrbs/-/blob/master/web/functions_view.inc#L88\" rel=\"nofollow\">https://collaborating.tuhh.de/tub/dd/applications/mrbs/-/blob/master/web/functions_view.inc#L88</a> leading to this line <a href=\"https://collaborating.tuhh.de/tub/dd/applications/mrbs/-/blob/master/web/functions.inc#L298\" rel=\"nofollow\">https://collaborating.tuhh.de/tub/dd/applications/mrbs/-/blob/master/web/functions.inc#L298</a> is the problem.</p>\n<p>I cannot (and should not) get the display (=real) name for a user not being logged in. But I fixed it by simply returning the provided user name. I think it shouldn't break anything :)</p>\n<p>Edit: This ticket can be closed. Sorry for the false alarm.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Tobias Zeumer 2020-09-08</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, setting the display_name to be the username if the display_name is not known is the correct thing to do.  The standard code for the getUser method in the Auth class is</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">  public function getUser($username)</span>\n<span class=\"x\">  {</span>\n<span class=\"x\">    $user = new User($username);</span>\n<span class=\"x\">    $user-&gt;display_name = $username;</span>\n<span class=\"x\">    $user-&gt;level = $this-&gt;getDefaultLevel($username);</span>\n<span class=\"x\">    $user-&gt;email = $this-&gt;getDefaultEmail($username);</span>\n\n<span class=\"x\">    return $user;</span>\n<span class=\"x\">  }</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I just set \"force_private\" for both areas since the public option was only a consideration for some vague future use. Admins still will always see themselves as creator and modifier, but that's not really a problem. :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Oh, this doesn't work, because as admin I must be able to set a public status. But the admin is also denied that option if force_private is set. Should it be that way?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Tobias Zeumer 2020-09-08</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/480/", "title": "#480 Booking limit (hours) does not allow choosing exact limit", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>We set a daily limit of 6 hours for bookings (global via max_secs_per_interval_global as well as per \"max_secs_per_day\" in the area). </p>\n<p>The problem is that it prevents users to chose the exact time limit. Thus the time limit has to be larger.  </p>\n<p>Our current workaround is to allow for 7 hours. Since currently only a maximum of 6 hours can be chosen continousely this is fine for now. But most likley it is not intended this way? :)</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/480/attachment/MRBS-Bug%20-%20Max%20Time%20Limit.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/480/attachment/MRBS-Bug%20-%20Max%20Time%20Limit.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/480/attachment/MRBS-Bug%20-%20Max%20Time%20Limit.png\">MRBS-Bug - Max Time Limit.png</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this bug.  I've also checked the code and it's correctly using a &gt; rather than a &gt;=.</p>\n<p>Are you sure you haven't got another booking which is pushing you over the limit?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank for the quick reply.  :)</p>\n<p>Hm, we have the times from <br/>\na) 8am to 14pm for booking<br/>\nb) followed by an hour where tables get cleaned. <br/>\nc) followed by times from 15pm to 9pm for booking<br/>\n(Live: <a href=\"https://www.tub.tuhh.de/en/reservations/\" rel=\"nofollow\">https://www.tub.tuhh.de/en/reservations/</a> - look at the next day because \"unclaimed\" bookings like the cleaning hour are deleted already for today)</p>\n<p>I have the global setting in the config as well as the area setting.</p>\n<p>Oh, but I just saw that we also have set a time under \"booking_durations\". But that seems to have no effect (I'm a bit at the loss how this setting differs from booking_limits_secs - I guess this is  just the \"pre 1.9 way?). </p>\n<p>Booking from 8 to 14  works with  setting of 7 instead of 6 hours. Maybe it is because of the 14pm booking  following directly after that one?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>(Oops, sorry - changed computer and forgot to log in)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Tobias Zeumer 2020-09-02</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><blockquote>\n<p>Oh, but I just saw that we also have set a time under \"booking_durations\". But that seems to have no effect (I'm a bit at the loss how this setting differs from booking_limits_secs - I guess this is just the \"pre 1.9 way?).</p>\n</blockquote>\n<p>\"Booking durations\" limits the length of any <em>single</em> booking.   \"Limits on the total length of bookings\" limits the total length of <em>all</em> bookings.</p>\n<blockquote>\n<p>Booking from 8 to 14 works with setting of 7 instead of 6 hours. Maybe it is because of the 14pm booking following directly after that one?</p>\n</blockquote>\n<p>If the same person made the booking for cleaning as is trying to make the new booking, then yes, that will be the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>We schedule the cleaning hour as admin. Therefore always guest are booking the time before and after.</p>\n<p>The total limits (in the screenshot set to 2 period and 6 hours) seems to be overriden by the maximum count of bookings (per day; in the screenshot set to 1) and the maximun time (per day; in the screenshot set to 7). Guests can schedule up to 6 hours per day for 8 day in advance (which is what we want). It seems to be a bit redundant, but maybe I'm just a bit confused by so many things to chose from and which one overrides which other one. Well, but that's not a problem anyway.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><blockquote>\n<p>We schedule the cleaning hour as admin. Therefore always guest are booking the time before and after.</p>\n</blockquote>\n<p>OK, it's not a problem with booking ownership.   When you see the problem, has the user already got a booking in the other room?   Don't forget that the limits apply per area and not per room.</p>\n<blockquote>\n<p>The total limits (in the screenshot set to 2 period and 6 hours) seems to be overriden by the maximum count of bookings (per day; in the screenshot set to 1) and the maximun time (per day; in the screenshot set to 7). Guests can schedule up to 6 hours per day for 8 day in advance (which is what we want). It seems to be a bit redundant, but maybe I'm just a bit confused by so many things to chose from and which one overrides which other one. Well, but that's not a problem anyway.</p>\n</blockquote>\n<p>Yes, if you have a limit of 6 hours in total per day, then setting a maximum duration of 6 hours for any individual booking is redundant.   But you might want to set a limit of 3 hours for any individual booking and a total limit of 6 hours.   That would mean that they could have 2 bookings of 3 hours but not one booking of 6 hours.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Maybe this makes it a bit more obvious what I mean: <a href=\"https://cloud.tuhh.de/index.php/s/AAtQGE89ssXpwrE\" rel=\"nofollow\">https://cloud.tuhh.de/index.php/s/AAtQGE89ssXpwrE</a></p>\n<p>It's really \"live\" - I just change to 7 hours in the config and the 6 hour schedule works. :-? :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, but does the user have any bookings in Lesesaal 2?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry, ignore that last question.  I realise that Lesesaal 2 is a different area.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No, sorry, don't ignore it!   Your example was referring to the whole system, so bookings in Lesesaal 2 are relevant.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No, the user does not have any other bookings. The funny thing is, that the config says 6 hours (60<em>60</em>6) . As you see in the video it says 8-14 would break that rule. Just changing it to 7 hours makes it work (immediately) - even though in the details it says the bookign time is 6 hours (didn't show that in the screencast).</p>\n<p>It also works if I set </p>\n<blockquote>\n<p>$max_secs_per_interval_global<span>['day']</span> = (60<em>60+1)</em>6;      // max 6 hours per day in total</p>\n</blockquote>\n<p>It looks like the comparison checks only for \"less\" not \"equal or less\"?</p>\n<p>Edit: The arrow in the screenshot is a bit too low ;)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Tobias Zeumer 2020-09-02</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I still can't reproduce this I'm afraid and I've inspected the code and it looks OK.  Could you post here please (a) your copy of mrbs_sql.inc and (b) your config settings, less any confidential data.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-09-03</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It's a 1.9 version (updated from 1.8) and only with a custom theme. The config (except the sql part) can be checked here: <a href=\"https://collaborating.tuhh.de/tub/dd/applications/mrbs/-/blob/master/web/config.inc.tubhh.php\" rel=\"nofollow\">https://collaborating.tuhh.de/tub/dd/applications/mrbs/-/blob/master/web/config.inc.tubhh.php</a> (except that it is now $max_secs_per_interval_global<span>['day']</span> = 60<em>60</em>7) and the complete config for the Areas is in the screenshot. I think there isn't more that could have been changed?</p>\n<p>I also did another diff with the 1.9 version, but there is nothing changed (except for a minor change in web/search.php).</p>\n<p>Sorry that I'm causing so much trouble. I thought that this probably would be an obvious one. But as said, for now it works fine for us with the small change. I can try to check it out myself next week.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for that.  I can now see what the problem is and am working on a fix.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Now fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/6f2ddeb5a0231c3fafd5795adb23d50152e03c1f/\">6f2dde</a>.   (The problem happened when you have a limit set on both the total number and the total length of bookings in a period.)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Great! Thank you very much. I applied the patch and everything is as expected.</p>\n<p>Off topic<br/>\nThe reason for setting the same time for the total number is that only this setting affects the select field for the end time of a booking :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/479/", "title": "#479 Policy prevent_simultaneous_bookings prevents editing", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The with version 1.9 introduced policy prevent_simultaneous_bookings works basically fine. But someone just discovered that it prevents editing the one and only booking. The only way around is to delete and recreate the booking.</p>\n<p>Since we (for now) only allow one booking per day it is no real problem for us. I just disabled the policy. :)</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/479/attachment/MRBS-Bug%20-%20Editing%20boooking%20with%20prevent_simultaneous_bookings%20policy%20active.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/479/attachment/MRBS-Bug%20-%20Editing%20boooking%20with%20prevent_simultaneous_bookings%20policy%20active.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/479/attachment/MRBS-Bug%20-%20Editing%20boooking%20with%20prevent_simultaneous_bookings%20policy%20active.png\">MRBS-Bug - Editing boooking with prevent_simultaneous_bookings policy active.png</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.  Now fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/84b3377f361d6b642a4122612509fa1f279e322a/\">84b337</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you for the very fast fix! :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/478/", "title": "#478 CAS Error because of Templating", "status": "open", "labels": "CAS (3)\n          \n        \n          \n              authentication (4)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS Version 1.9.0</p>\n<p>When setting the session and auth types to 'cas', there are a number of errors generated:</p>\n<ol>\n<li>phpCAS can't set headers because there has already been template output</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">E_WARNING</span> <span class=\"k\">in</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"k\">user</span><span class=\"o\">/</span><span class=\"n\">_repo</span><span class=\"o\">/</span><span class=\"n\">mrbs</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">web</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">CAS</span><span class=\"o\">/</span><span class=\"n\">Client</span><span class=\"p\">.</span><span class=\"n\">php</span> <span class=\"k\">at</span> <span class=\"n\">line</span> <span class=\"mi\">3682</span>\n<span class=\"n\">session_id</span><span class=\"p\">():</span> <span class=\"n\">Cannot</span> <span class=\"n\">change</span> <span class=\"k\">session</span> <span class=\"n\">id</span> <span class=\"k\">when</span> <span class=\"n\">headers</span> <span class=\"n\">already</span> <span class=\"n\">sent</span>\n\n<span class=\"n\">E_WARNING</span> <span class=\"k\">in</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"k\">user</span><span class=\"o\">/</span><span class=\"n\">_repo</span><span class=\"o\">/</span><span class=\"n\">mrbs</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">web</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">CAS</span><span class=\"o\">/</span><span class=\"n\">Client</span><span class=\"p\">.</span><span class=\"n\">php</span> <span class=\"k\">at</span> <span class=\"n\">line</span> <span class=\"mi\">3683</span>\n<span class=\"n\">session_start</span><span class=\"p\">():</span> <span class=\"n\">Cannot</span> <span class=\"k\">start</span> <span class=\"k\">session</span> <span class=\"k\">when</span> <span class=\"n\">headers</span> <span class=\"n\">already</span> <span class=\"n\">sent</span>\n\n<span class=\"n\">E_WARNING</span> <span class=\"k\">in</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"k\">user</span><span class=\"o\">/</span><span class=\"n\">_repo</span><span class=\"o\">/</span><span class=\"n\">mrbs</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">web</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">CAS</span><span class=\"o\">/</span><span class=\"n\">Client</span><span class=\"p\">.</span><span class=\"n\">php</span> <span class=\"k\">at</span> <span class=\"n\">line</span> <span class=\"mi\">1515</span>\n<span class=\"n\">Cannot</span> <span class=\"k\">modify</span> <span class=\"n\">header</span> <span class=\"n\">information</span> <span class=\"o\">-</span> <span class=\"n\">headers</span> <span class=\"n\">already</span> <span class=\"n\">sent</span> <span class=\"k\">by</span> <span class=\"p\">(</span><span class=\"k\">output</span> <span class=\"n\">started</span> <span class=\"k\">at</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"k\">user</span><span class=\"o\">/</span><span class=\"n\">_repo</span><span class=\"o\">/</span><span class=\"n\">mrbs</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">web</span><span class=\"o\">/</span><span class=\"n\">Themes</span><span class=\"o\">/</span><span class=\"k\">default</span><span class=\"o\">/</span><span class=\"n\">header</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"p\">:</span><span class=\"mi\">509</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>It is possible to work around this error by not having phpCAS touch session data (everything seems to work fine with this option, but I haven't tested exhaustively):</p>\n<p>In <code>web/lib/MRBS/Auth/AuthCas.php</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">phpCAS</span><span class=\"p\">::</span><span class=\"n\">client</span><span class=\"p\">(</span><span class=\"n\">CAS_VERSION_2_0</span><span class=\"p\">,</span>\n      <span class=\"err\">$</span><span class=\"n\">auth</span><span class=\"p\">[</span><span class=\"s1\">'cas'</span><span class=\"p\">][</span><span class=\"s1\">'host'</span><span class=\"p\">],</span>\n      <span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">)</span><span class=\"err\">$</span><span class=\"n\">auth</span><span class=\"p\">[</span><span class=\"s1\">'cas'</span><span class=\"p\">][</span><span class=\"s1\">'port'</span><span class=\"p\">],</span>\n      <span class=\"err\">$</span><span class=\"n\">auth</span><span class=\"p\">[</span><span class=\"s1\">'cas'</span><span class=\"p\">][</span><span class=\"s1\">'context'</span><span class=\"p\">],</span>\n<span class=\"o\">+</span>      <span class=\"k\">false</span>\n    <span class=\"p\">);</span>\n</pre></div>\n\n\n<hr>\n<ol>\n<li>The last error is also template related. </li>\n</ol>\n<p>The CAS protocol returns a ticket in the redirect URL and because each ticket can only be used once, by default phpCAS tries to issue a redirect to remove this ticket once it has been claimed. However, since the output has already been started (by the same <code>header.inc</code> as above), phpCAS can't send a redirect to the client.</p>\n<p>Again, this can be worked around in MRBS, but this is definitely not the proper solution. You can disable the phpCAS redirect by calling <code>phpCAS::setNoClearTicketsFromUrl();</code> at some point after the call to <code>phpCAS:client</code>, but this results in a less satasfactory user experience since the user is more likely to try to claim a ticket again in their browser history or a bookmark.</p>\n<p>I don't know enough about the MRBS templating system to know how to fix this. (I would guess either by moving all authentication before any rendering or wrapping all rendering in output buffering.)</p>\n<hr>\n<p>If anyone wants access to a CAS server to test, I now have one I can share - let me know.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Why does SourceForge never remember that I am logged in right as I post a ticket?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/477/", "title": "#477 CAS Setup Error", "status": "closed", "labels": "CAS (3)\n          \n        \n          \n              authentication (4)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS Version 1.9.0</p>\n<p>When setting the session and auth types to 'cas', there are a number of errors generated:</p>\n<ol>\n<li>CAS Client not setup before use in SessionCas</li>\n</ol>\n<p>Error:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Uncaught</span> <span class=\"k\">exception</span> <span class=\"s1\">'CAS_OutOfSequenceBeforeClientException'</span> <span class=\"k\">in</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"k\">user</span><span class=\"o\">/</span><span class=\"n\">_repo</span><span class=\"o\">/</span><span class=\"n\">mrbs</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">web</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">CAS</span><span class=\"p\">.</span><span class=\"n\">php</span> <span class=\"k\">at</span> <span class=\"n\">line</span> <span class=\"mi\">1854</span>\n<span class=\"n\">this</span> <span class=\"k\">method</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"k\">called</span> <span class=\"k\">before</span> <span class=\"n\">phpCAS</span><span class=\"p\">::</span><span class=\"n\">client</span><span class=\"p\">()</span> <span class=\"k\">or</span> <span class=\"n\">phpCAS</span><span class=\"p\">::</span><span class=\"n\">proxy</span><span class=\"p\">()</span>\n<span class=\"o\">#</span><span class=\"mi\">0</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"k\">user</span><span class=\"o\">/</span><span class=\"n\">_repo</span><span class=\"o\">/</span><span class=\"n\">mrbs</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">web</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">CAS</span><span class=\"p\">.</span><span class=\"n\">php</span><span class=\"p\">(</span><span class=\"mi\">1162</span><span class=\"p\">):</span> <span class=\"n\">phpCAS</span><span class=\"p\">::</span><span class=\"n\">_validateClientExists</span><span class=\"p\">()</span>\n<span class=\"o\">#</span><span class=\"mi\">1</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"k\">user</span><span class=\"o\">/</span><span class=\"n\">_repo</span><span class=\"o\">/</span><span class=\"n\">mrbs</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">web</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">MRBS</span><span class=\"o\">/</span><span class=\"k\">Session</span><span class=\"o\">/</span><span class=\"n\">SessionCas</span><span class=\"p\">.</span><span class=\"n\">php</span><span class=\"p\">(</span><span class=\"mi\">19</span><span class=\"p\">):</span> <span class=\"n\">phpCAS</span><span class=\"p\">::</span><span class=\"n\">isAuthenticated</span><span class=\"p\">()</span>\n<span class=\"o\">#</span><span class=\"mi\">2</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"k\">user</span><span class=\"o\">/</span><span class=\"n\">_repo</span><span class=\"o\">/</span><span class=\"n\">mrbs</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">web</span><span class=\"o\">/</span><span class=\"n\">mrbs_auth</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"p\">(</span><span class=\"mi\">156</span><span class=\"p\">):</span> <span class=\"n\">MRBS</span><span class=\"err\">\\</span><span class=\"k\">Session</span><span class=\"err\">\\</span><span class=\"n\">SessionCas</span><span class=\"o\">-&gt;</span><span class=\"n\">getCurrentUser</span><span class=\"p\">()</span>\n<span class=\"o\">#</span><span class=\"mi\">3</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"k\">user</span><span class=\"o\">/</span><span class=\"n\">_repo</span><span class=\"o\">/</span><span class=\"n\">mrbs</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">web</span><span class=\"o\">/</span><span class=\"n\">mrbs_auth</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"p\">(</span><span class=\"mi\">198</span><span class=\"p\">):</span> <span class=\"n\">MRBS</span><span class=\"err\">\\</span><span class=\"n\">getAuthorised</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">'https://reserva...'</span><span class=\"p\">)</span>\n<span class=\"o\">#</span><span class=\"mi\">4</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"k\">user</span><span class=\"o\">/</span><span class=\"n\">_repo</span><span class=\"o\">/</span><span class=\"n\">mrbs</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">web</span><span class=\"o\">/</span><span class=\"n\">edit_entry</span><span class=\"p\">.</span><span class=\"n\">php</span><span class=\"p\">(</span><span class=\"mi\">1181</span><span class=\"p\">):</span> <span class=\"n\">MRBS</span><span class=\"err\">\\</span><span class=\"n\">checkAuthorised</span><span class=\"p\">(</span><span class=\"s1\">'edit_entry.php'</span><span class=\"p\">)</span>\n<span class=\"o\">#</span><span class=\"mi\">5</span> <span class=\"err\">{</span><span class=\"n\">main</span><span class=\"err\">}</span>\n</pre></div>\n\n\n<p>This happens because <code>web/lib/MRBS/Session/SessionCas.php</code> doesn't set up the <code>phpCAS Client</code> before calling <code>checkAuthentication()</code>.  </p>\n<p>My workaround:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">class</span> <span class=\"nt\">SessionCas</span> <span class=\"nt\">extends</span> <span class=\"nt\">SessionWithLogin</span>\n<span class=\"p\">{</span>\n\n  <span class=\"err\">public</span> <span class=\"err\">function</span> <span class=\"err\">__construct()</span>\n  <span class=\"err\">{</span>\n    <span class=\"err\">\\MRBS\\auth()</span><span class=\"p\">;</span>\n\n    <span class=\"n\">parent</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"nf\">__construct</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n</pre></div>\n\n\n<p>If anyone wants access to a CAS server to test, I now have one I can share - let me know.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Yes please, if you could give me access to a CAS server for testing purposes that would be great.  You can send the details by private message.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Why does SourceForge never remember that I am logged in right as I post a ticket? Subscribing.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Now fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/64627e4d9a85bd8e4016b2ad65bb7add695146b5/\">64627e</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/476/", "title": "#476 User not found", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello. </p>\n<p>Taking over from someone else who setup MRBS for a school I'm helping. </p>\n<p>When navigating to the mrbs directory I get a http user and password prompt. <br>\nIn the config its set to 'php' and 'db' so not sure why I'm seeing this. </p>\n<p>The error_log just says 'User not found' </p>\n<p>Any advise on where to start troubleshooting with this? </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>If your MRBS directory is password protected by a .htaccess file then you'll get the HTTP username and password prompt regardless of what settings you have in your MRBS config file.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for the reply. Much appreciated. <br/>\nLooks like it's the .htaccess. </p>\n<p>This server is like a pandora's box! Wish me luck. </p>\n<p>Thanks again. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/475/", "title": "#475 Error with LDAP authentication - ?typo in AuthLdap.php", "status": "closed", "labels": "authentication (4)\n          \n        \n          \n              LDAP (3)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Just upgraded from v1.8 to v1.9 and was unable to authenticate using LDAP (no config change).</p>\n<p>I think there may be a typo in lib\\MRBS\\Auth\\AuthLdap.php on line 584:</p>\n<p><code>$filter = \"(\" . self::$all_ldap_opts['ldap_dn_search_attrib'][$idx] . \"=$user)\";</code></p>\n<p>Debug messages show that $user is empty.</p>\n<p>Changed to the following and it works.</p>\n<p><code>$filter = \"(\" . self::$all_ldap_opts['ldap_dn_search_attrib'][$idx] . \"=$username)\";</code></p>\n<p>Had problems trying to get the errors to log, but will put that issue in a seperate ticket :-)</p>\n<p>Thanks.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Now fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/bc2920688fedc9e07d61abf04454b01d6863ce0b/\">bc2920</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Great - thanks :-)</p>\n<p>Logged the issue I had tracking down the error here <a href=\"https://sourceforge.net/p/mrbs/support-requests/2132/\">https://sourceforge.net/p/mrbs/support-requests/2132/</a> </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have spent the best part of the day trying to get ldap to work on a clean install of 1.9- this fixed it. Thank you!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Did an upgrade last night (01/09/2020) from v1.5 to v1.9 and LDAP login to AD  was the only thing which wasn't working... thanks for the fix. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/474/", "title": "#474 V1.9.0  upgrade from v1.7.1 vocab error", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, I'm not sure if this is a bug or if I've missed something in the upgrade file.  I am upgrading from v1.7.1 to v1.9.0.  I have a few $vocab_override<span>['en']</span> variables set in my config.php file. After copying the new v1.9.0 files to the web root, I access the website and I'm greeted with a blank page.  The error log shows:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">PHP</span> <span class=\"n\">Fatal</span> <span class=\"n\">error</span><span class=\"p\">:</span>  <span class=\"n\">Uncaught</span> <span class=\"n\">Error</span><span class=\"p\">:</span> <span class=\"k\">Class</span> <span class=\"s1\">'MRBS\\System'</span> <span class=\"k\">not</span> <span class=\"k\">found</span> <span class=\"k\">in</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">XXXXXXXX</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">dev3</span><span class=\"o\">/</span><span class=\"k\">language</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"p\">:</span><span class=\"mi\">198</span>\n<span class=\"n\">Stack</span> <span class=\"n\">trace</span><span class=\"p\">:</span>\n<span class=\"o\">#</span><span class=\"mi\">0</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">XXXXXXXX</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">dev3</span><span class=\"o\">/</span><span class=\"k\">language</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"p\">(</span><span class=\"mi\">159</span><span class=\"p\">):</span> <span class=\"n\">MRBS</span><span class=\"err\">\\</span><span class=\"n\">set_mrbs_locale</span><span class=\"p\">(</span><span class=\"s1\">'en-GB'</span><span class=\"p\">)</span>\n<span class=\"o\">#</span><span class=\"mi\">1</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">XXXXXXXX</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">dev3</span><span class=\"o\">/</span><span class=\"n\">defaultincludes</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"p\">(</span><span class=\"mi\">28</span><span class=\"p\">):</span> <span class=\"n\">require_once</span><span class=\"p\">(</span><span class=\"s1\">'/home/XXXXXXXX/...'</span><span class=\"p\">)</span>\n<span class=\"o\">#</span><span class=\"mi\">2</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">XXXXXXXX</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">dev3</span><span class=\"o\">/</span><span class=\"k\">index</span><span class=\"p\">.</span><span class=\"n\">php</span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">):</span> <span class=\"n\">require</span><span class=\"p\">(</span><span class=\"s1\">'/home/XXXXXXXX/...'</span><span class=\"p\">)</span>\n<span class=\"o\">#</span><span class=\"mi\">3</span> <span class=\"err\">{</span><span class=\"n\">main</span><span class=\"err\">}</span>\n  <span class=\"n\">thrown</span> <span class=\"k\">in</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">XXXXXXXX</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">dev3</span><span class=\"o\">/</span><span class=\"k\">language</span><span class=\"p\">.</span><span class=\"n\">inc</span> <span class=\"k\">on</span> <span class=\"n\">line</span> <span class=\"mi\">198</span>\n</pre></div>\n\n\n<p>After I comment out all the  $vocab_override<span>['en']</span> entries the page works correctly and prompts me to upgrade the database.<br>\nCheers.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Mmm.  I've tried to reproduce this and can't - and looking at the code can't see why this would happen.   What made you comment out the $vocab_override<span>['en']</span> lines?   Are you able to post your config file here, or send it to me by PM, having first removed any confidential data?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>... or could you at least post the commented out lines please?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/473/", "title": "#473 Date selection fields are not displayed when using iPhone", "status": "closed", "labels": "bug (2)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When MRBS is invoked on an iPhone with the Safari and Firefox browsers, the fields for selecting a date are not displayed in edit_entry.php. <br>\nWith Firefox for Android and Windows the problem does not exist, there the date selection fields are displayed.<br>\nThe MRBS version is 1.8.0</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/473/attachment/20200717_134155%20-%20Kopie.jpg\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/473/attachment/20200717_134155%20-%20Kopie.jpg/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/473/attachment/20200717_134155%20-%20Kopie.jpg\">20200717_134155 - Kopie.jpg</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>What version of iOS are you running?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I am running iOS 13.5.1</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm afraid I can't reproduce this.  I suspect that there's a JavaScript error which is causing the problem.  If you are able to could you connect your iPhone to a Mac so that you can use Web Inspector to see what the error message is?</p>\n<p>Alternatively can you try a test installation of the latest version of MRBS from the <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/default/tree/\">default branch</a> to see if the problem is stil there in the latest code?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't connect to a Mac because I don't own one. Even after an update to the current version from the default branch the problem still exists.<br/>\nI have attached the configuration. <br/>\nWhat else can I try?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Do you have an iPad?  If so, does the problem happen there?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>One more question - what are your iPhone browser's language preferences?  The information wil be on the MRBS Help page.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No, I don't own an iPad, too. <br/>\nThe language-preference is just \"de-de\", no fallback language given.  </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've managed to reproduce the problem.  I'll investigate tomorrow.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you try the attached version of js/datepicker.js.php and see if it makes a difference?  I'm not convinced it will, but it's worth a try.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Even with the new datepicker.js.php the fields are not displayed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, thanks.  I'll do some more investigation.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Here's another version of js/datepicker.js.php which should fix the problem - at least enough to get you going.</p>\n<p>I think the problem is a bug in the flatpickr library which we use for the datepickers.  What flatpickr does is test to see whether the browser is a running on a mobile device and if so then it uses the native browser datepickers which are generally better than flatpickr's.   I think that for some reason the test isn't working properly on your version of Safari and iOS on your iPhone.  I can also reproduce the problem on Safai on Mac when I choose the Develop option and set the User Agent to \"iOS - 13.1.3 - iPhone\".</p>\n<p>What I have done in the attached version of datepicker is add a plugin for flatpickr which returrns false for isMobile() if the user agent is running on an iPhone or iPad.  This means that flatpickr will generate its own datepicker, which is better than having nothing at all, but not as good as having the native datepicker.</p>\n<p>I have downloaded the latest development version of flatpickr from GitHub and the problem is still there.  I will do some more testing tomorrow to see if it's definitely a flatpickr problem rather than an MRBS problem and if so I will raise it with the flatpickr team.  In the meantime the attached file should at least enable you to use MRBS on your iPhone until we get a better solution.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-07-19</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for taking care of it so quickly. Yeah, you found a workaround with the new file, great. If at some point the native datepicker from iOS can be used, will it just be integrated into the next release or the default branch?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Actually I think the problem may be to do with the fact that the native datepicker isn't working in your version of Safari on your iPhone (and it isn't working in my simulator on the Mac).  Can you confirm whether you get a datepicker or not by loading the attached test file onto your server and see if your browser gives a datepicker?  If I am right then I would expect you to see a datepicker in Chrome, but not Safari.</p>\n<p>All that's in the file is:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;!DOCTYPE html&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">html</span> <span class=\"na\">lang</span><span class=\"o\">=</span><span class=\"s\">\"en\"</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">meta</span> <span class=\"na\">charset</span><span class=\"o\">=</span><span class=\"s\">\"utf-8\"</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>Test<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">input</span> <span class=\"na\">id</span><span class=\"o\">=</span><span class=\"s\">\"test\"</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"date\"</span> <span class=\"na\">value</span><span class=\"o\">=</span><span class=\"s\">\"2020-07-19\"</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">html</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Here's a slightly enhanced test page that has some JavaScript that tries to detect whether the date input element is supported.  It should pop up an alert box saying either \"true\" or \"false\".   It says \"false\" on my iPhone simulator.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've tested the second test.html. In Safari and Firefox, the datepicker shows up, and the popup says true...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, that's interesting.  My simulator is obviously not behaving the same way as your iPhone.</p>\n<p>I now think that this is not a flatpickr problem at all, but an MRBS bug.   Can you try going back to the original version of datepicker.js.php and using this version of css/mrbs.css.php which I hope fixes the problem and should give you native datepickers on iPhone Safari and Firefox.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-07-19</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed a further bug: flatpickr not recognising iOS 13 as a mobile device (see <a href=\"https://github.com/flatpickr/flatpickr/issues/1992\" rel=\"nofollow\">https://github.com/flatpickr/flatpickr/issues/1992</a>).</p>\n<p>Could you use the attached versions of js/functions.js.php and js/datepicker.js.php in addition to the version of mrbs.css.php above?  This should now give you the native datepicker on iOS 13 Safari and Firefox.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>And I've now committed all three files to the default branch in <a class=\"\" href=\"https://github.com/flatpickr/flatpickr/issues/1992\" rel=\"nofollow\">330369</a> and <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/4c5cb461efc5d6ca8b3c06c01f6f4de10a395dcc/\">4c5cb4</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks, now it works fine!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi<br/>\nI replaced the 3 files on my server running mrbs 1.8.0 plus the 3 additional files but now it works  correct only on the handy, and on the pc browser (same on firefox and chrome) the screen has the handy layout as well...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Hanspeter Hiltbrunner 2020-07-20</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The three files probably only work with the latest code in the default branch.  You'll need to upgrade to the latest code by following the Download Snapshot link on <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/default/tree/\">this page</a>.  Treat the snapshot as a new release.  It already includes the three new files.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I upgraded to the default branch and it seems to be ok now...    thanks for your help<br/>\nHanspeter</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/472/", "title": "#472 Prevent booking of user in different rooms at same time", "status": "closed", "labels": "double booking (1)\n          \n        \n          \n              same time (1)\n          \n        \n          \n              disable editing (1)\n          \n        \n          \n              manipulation of bookings (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>For a user it is possible to make a booking for different rooms at the same time. Let\u00b4s assume the person who made the reservation is a moderator of a meeting. So she/he cannot be in different rooms at the same time. It should not be possible that an other user is able to edit or delete a reservation that was made by a different user. </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><blockquote>\n<p>For a user it is possible to make a booking for different rooms at the same time. Let\u00b4s assume the person who made the reservation is a moderator of a meeting. So she/he cannot be in different rooms at the same time.</p>\n</blockquote>\n<p>This isn't a bug.   MRBS allows users to book more than one room at the same time and this is permissible in a number of situations.  For example if MRBS is being used to book lab equipment then they might need two different pieces of kit at the same time.   Or there might be a meeting room which can be divided into two smaller ones and users can book one of the halves or else both halves if they want the full room.</p>\n<p>However I have now added a config option, <code>$prevent_simultaneous_bookings</code>, which can be set if you want to prevent users from doing this.  This feature will appear in the next release or else you can get it now by downloading the latest snapshot from the default branch.</p>\n<blockquote>\n<p>It should not be possible that an other user is able to edit or delete a reservation that was made by a different user.</p>\n</blockquote>\n<p>It isn't.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Very good! Thank you very much!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Feature added in MRBS 1.9.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/471/", "title": "#471 Max 1 booking  per day is not working", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I created a testuser without admin rights and logged in. I was able to perform several bookings at different times either for the same or a different room. That should not be possible. The room capacity is set to 0.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you post a screenshot please of the booking policies section of the area settings page?</p>\n<p>The room capacity is irrelevant - it's just for information.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Okay, got it. My mistake. I thought that this setting is  controlled by</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">$</span><span class=\"n\">max_per_interval_area</span><span class=\"p\">[</span><span class=\"s1\">'day'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">;</span>      <span class=\"o\">//</span> <span class=\"k\">max</span> <span class=\"mi\">2</span> <span class=\"n\">bookings</span> <span class=\"n\">per</span> <span class=\"k\">day</span> <span class=\"k\">in</span> <span class=\"n\">an</span> <span class=\"n\">area</span>\n</pre></div>\n<p>of the areadefaults.inc.php</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p><span>[closed]</span></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, the config settings just determine the default settings for any <em>new</em> areas you create.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/470/", "title": "#470 New entry with time violation causes empty time picker", "status": "closed", "labels": "empty field (1)\n          \n        \n          \n              end time (1)\n          \n        \n          \n              rule violation (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The time rule is 1 hour a day. If you want to make a reservation for a room and change the date either to a past or future day, a time violation message will be generated. This function is operating normally. The problem occurs if a future day is selected AND if you select the shown time in the end time selection field. The end time field will be empty when changing back to the current date. Even if the 2 green tick marks at the bottom show no violations (the end time filed is empty), saving a reservation like this will not be executed and shown.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS are you using?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>1.8.0</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you confirm this bug? A \"bug confirmed - working on a fix\" would be much appreciated!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry, what do you mean by \"the time rule is 1 hour a day\"?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The <code>default_duration = 3600</code> AND <code>$max_per_interval_global['day'] = 1;</code> </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, thanks.  Yes, I can reproduce the bug.   I'll take a look.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/04135463b306407f0a3af804784d864916a0accf/\">041354</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/469/", "title": "#469 User login with trailing spaces v1.8", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Users are able to login with trailing spaces on username and it causes issues with being able to edit and delete bookings.  We are running version 1.8</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This has already been fixed in the default branch.  You can either upgrade to the default branch or patch your 1.8.0 system by adding the following line at line 83 of session/session_php.inc:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$username = trim($username);</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you.<br/>\nWhere would I get the default branch?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>At <a href=\"https://sourceforge.net/p/mrbs/hg-code/ci/default/tree/.\">https://sourceforge.net/p/mrbs/hg-code/ci/default/tree/.</a>  Follow the Download Snapshot link and treat it like an upgrade release.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks again.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/468/", "title": "#468 Booking name field not focused for new bookings", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,<br>\nI'm using MRBS 1.8.0 and when I create a new booking, the name field is not focused when edit_entry.php page loads - despite code in edit_entry.js.php that should make the name filed focused if not disabled and for new bookings (line 1245):</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">nameInput</span><span class=\"p\">.</span><span class=\"k\">trigger</span><span class=\"p\">(</span><span class=\"s1\">'focus'</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<p>Tested in IE11 and Firefox. Thanks in advance for looking into this!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/299525ed83c860a8769c0f979eed4980fa0a7538/\">299525</a>.  The problem was that the code was trying to focus the element before it was visible.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks, Campbell, it's working now!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/467/", "title": "#467  'allow-modals' sandbox flag", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>How to handle the 'allow-modals' sandbox flag for iframes in browsers that do not yet support it?<br>\nDelete entry button from view_entr.php has confirm alert, that does not work properly on some android browsers.  I found article that may fix it, but have trouble to implement that. See below:<br>\n<a href=\"https://stackoverflow.com/questions/33494074/how-to-handle-the-allow-modals-sandbox-flag-for-iframes-in-browsers-that-do-no\" rel=\"nofollow\">https://stackoverflow.com/questions/33494074/how-to-handle-the-allow-modals-sandbox-flag-for-iframes-in-browsers-that-do-no</a></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I am talking about MRBS, view_entry.php</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I don't think this is an MRBS issue.  You will need to add that JavaScript to the page that contains the iframe.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks Campbell, will try.</p>\n<p>Grigoriy.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-10-11</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/466/", "title": "#466 Conflicts not checked in repeating bookings lasting more than the repeat period", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS 1.8.0.  If you create a repeat booking lasting say 3 months and repeating every week you will find that the first week is OK, but then in the second week the booking appears twice in each slot, in the third week three times, etc.</p>\n<p>I think I'd expect the system to refuse to make the second and subsequent bookings in a slot.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/52c6e90a58c8eea3e1f47ced627f9a3bdd3ddb54/\">52c6e9</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/465/", "title": "#465 Conflict on multiple reservations", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello. I have a problem with the application. I created an area and inside I inserted several rooms, some of these with capacities greater than 1. When I insert a reservation it registers it correctly but if I try to insert another one for the same day at the same time, obviously with name and different description, the system reports:</p>\n<p>\"Booking conflict<br>\nThe new reservation will conflict with this (s): \"</p>\n<p>Showing me the reservation already present.<br>\nI don't understand where the error lies, I specified a number greater than one in the room but nevertheless it would seem not to consider it. Can someone help me? Thanks!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The capacity is a just for information and tells people how many people the room holds.  It does not determine the number of simultaneous reservations you can have, which is always 1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for the quick response. But if I need to set up multiple appointments simultaneously there is no possibility then?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I give an example. If I have a room and inside this room two consultants with two desks that can serve two people at the same time, can nothing be done?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You could divide the room into two, ie have two rooms called Room 1A and Room 1B etc.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, I had thought about this solution. Thanks again!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>In MRBS 1.9.1 there is a new feature that allows admins to create bookings for which other people can register up to  a specified limit.   This doesn't quite solve the example you give of two desks in a room because the desks can only be booked for the duration of the parent booking. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/464/", "title": "#464 Warning when sometimes editing booking", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>I got an E_USER_WARNING when I edit a booking, but it only happens with this specific order.<br>\n<em> Make sure your not logged in.<br>\n</em> Click on the booking untill you get asked to login.<br>\n<em> Log in<br>\n</em> Edit the booking<br>\n* Click save</p>\n<p>Then I get this warning:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">E_USER_WARNING</span><span class=\"w\"> </span><span class=\"ow\">in</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"nf\">var</span><span class=\"o\">/</span><span class=\"n\">www</span><span class=\"o\">/</span><span class=\"n\">calendar_test</span><span class=\"o\">/</span><span class=\"n\">mrbs_sql</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"mi\">1337</span><span class=\"w\"></span>\n<span class=\"n\">id</span><span class=\"w\"> </span><span class=\"ow\">not</span><span class=\"w\"> </span><span class=\"k\">set</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">GET</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">view</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"nf\">day</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">year</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">day</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">area</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">room</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"nl\">POST</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">SESSION</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">csrf_token</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">xxxxxxx</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">UserName</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">mememe</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>The booking does get changed.</p>\n<p>If I first login when I go to the booking system and then click the booking to edit, there is no problem.</p>\n<p>Cheers, Rico</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry! I accidently added this one to Future request. I can not move it to bugs.</p>\n<p>Cheers, Rico</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry agian, its just one of these days! I'am using MRBS 1.8.0.</p>\n<p>cheers, Rico</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>Group</strong>: Future_Requests --&gt; Minor</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can reproduce this, it seems that you get redirected to view the edited entry, but the entry ID is missing from the page URL</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've fixed this in the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/5d8acaa1ae8881272c868aad97e7ded173824359/\">5d8aca</a> but the fix for the sessions_and_auth_classes branch needs a bit more thought.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n<div class=\"reaction\" data-react=\":+1:\"><div class=\"emoj\"><img alt=\"\ud83d\udc4d\" class=\"emoji\" draggable=\"false\" src=\"https://twemoji.maxcdn.com/2/72x72/1f44d.png\"/></div><div class=\"emoj-count\">1</div></div>\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed this in the sessions_and_auth_classes branch.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n<div class=\"reaction\" data-react=\":+1:\"><div class=\"emoj\"><img alt=\"\ud83d\udc4d\" class=\"emoji\" draggable=\"false\" src=\"https://twemoji.maxcdn.com/2/72x72/1f44d.png\"/></div><div class=\"emoj-count\">1</div></div>\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi guys,</p>\n<p>Thanks for the quick fix!</p>\n<p>Cheers, Rico</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/463/", "title": "#463 Booking admins can book a whole day, but not a longer slot", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, I'm using the latest stable version (v1.8.0) and I am using a custom implementation of <code>is_book_admin()</code> in <code>mrbs_auth.inc</code> which gives booking admin rights to some (regular) users which are not admins.</p>\n<p>This enables them to make whole day bookings (since <code>edit_entry.php</code> shows the whole day checkbox when <code>is_book_admin()</code> returns true:</p>\n<p><code>$row['show_all_day'] = is_book_admin() || ...</code></p>\n<p>This works fine and as expected and booking admins can create whole day bookings for the rooms they administer. However, they cannot reserve longer slots than permitted (if the area has <code>$max_duration_enabled</code> set), because the <code>end_seconds</code> selector in <code>edit_entry.php</code> does not populate with \"longer\" durations than permitted.</p>\n<p>I've tracked down the issue to <code>edit_entry.js.php</code> which checks <code>isAdmin = args.isAdmin</code> which in turn is populated in <code>header.inc</code> via a call to <code>is_admin()</code> in <code>mrbs_auth.inc</code>.</p>\n<p>Since <code>args.isAdmin</code> is used in multiple pages, I've found a workaround by adding yet another argument <code>isBookingAdmin</code> in <code>header.inc</code> that contains true if the user is a booking admin for the specific room:</p>\n<p><code>$data = array(\n...\n'is-book-admin'  =&gt; (is_book_admin($room)) ? 'true' : 'false'</code></p>\n<p>...and I've changed <code>edit_entry.js.php</code> to use <code>isBookingAdmin</code> rather than <code>isAdmin</code>. This way booking admins can create whole day bookings, and also bookings of any duration, which is a consistent.</p>\n<p>Please give me any instructions if there is an easier workaround, and also consider implementing a fix for this issue. Thank you and thanks for the great software!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>As I see it, a more suitable title would be: Booking admins cannot book a longer slot, however they can book the whole day.</p>\n<p>Let me give a good example of this bug: Suppose an area has a maximum duration limit set to 2 hours. A booking admin can reserve the whole day (let's suppose 12 hours), but cannot reserve 3 hours.</p>\n<p>In other words, the 'whole day' checkbox and the duration combobox should both check the same policy - whether the user is a booking admin. In the current implementation, the duration combobox has a more strict policy because it check whether the user is a full-fledged admin.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can anyone please look into this? Maybe a proper fix wouldn't be that complicated. Thanks in advance!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, I'll take a look.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/8127db156c62cc147f47cc1953f20510679d5901/\">8127db</a>) fixed this in the default branch.   I've done it just slightly differently to your suggestion in that I've used <code>is_book_admin()</code> instead of <code>is_book_admin($room)</code>.  This is a conservative policy and checks that the user is a booking admin for all rooms in the system, rather than just the current room.  The problem is that if the user switches areas or rooms in the select box then they might no longer be a booking admin for the new room.   This behaviour is at least consistent with edit_entry.php.</p>\n<p>I've also (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/bebb7618518e3170129cca0c94ce590116d06696/\">bebb76</a>) fixed a similar problem preventing booking admins resizing bookings in some circumstances.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-06-28</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/462/", "title": "#462 1.8.0: Unify return links", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, I've noticed that in <code>view_entry.php</code> the return link to the previous page is wrapped in a <code>&lt;div&gt;</code> with id \"returl\". In an unauthorized page (implemented in <code>mrbs_auth.inc</code>) there is a similar link, but not wrapped in the same div (line 262).</p>\n<p>It would be fine if both links were unified and both were wrapped in a \"returl\" div.</p>\n<p>One common usecase for this is if someone would want to customize the link via <code>custom.css</code>, for example to add an arrow before:</p>\n<p><code>div#returl::before {\n  content: '\\002190';  /* LEFTWARDS ARROW */\n}</code></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hardly a bug, more a feature request!</p>\n<p>Anyway, I assume you'd like a class identifying all the Back buttons/links?  There are quite a few of them.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, this should have been a feature request, sorry for mislabeling it.</p>\n<p>I noticed these two links, however, if there are more, maybe unifying them would make sense?</p>\n<p>I, for example, added an arrow and made them a little bigger, so users notice them and click on them instead of the browser's back/forward buttons (which shouldn't cause problems with MRBS, but it isn't good practice to use them these days).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/461/", "title": "#461 Only first Admin can edit rooms and dates", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>We authenticate via imap_php \u2013 this works fine and our users can login and create new entries.</p>\n<p>Our admins should be able to change and delete rooms and dates.<br>\nI've added in config.inc.php these entries (certainly with real names):<br>\n$auth<span>[\"admin\"]</span>[] = \"xxx1\";<br>\n$auth<span>[\"admin\"]</span>[] = \"xxx2\";<br>\n$auth<span>[\"admin\"]</span>[] = \"xxx3\";<br>\n$auth<span>[\"admin\"]</span>[] = \"xxx4\";<br>\n$auth<span>[\"admin\"]</span>[] = \"xxx5\";<br>\n$auth<span>[\"admin\"]</span>[] = \"xxx6\";<br>\n$auth<span>[\"admin\"]</span>[] = \"xxx7\";<br>\n$auth<span>[\"admin\"]</span>[] = \"xxx8\";</p>\n<p>But only the first admin can edit, create and delete while the others (xxx2 \u2013 xxx8) are permitted</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS are you using?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><blockquote>\n<p>while the others (xxx2 \u2013 xxx8) are permitted</p>\n</blockquote>\n<p>Did you mean not permitted?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Version 1.7.3<br/>\nRight \u2013 are <em>not</em> permitted</p>\n<p>\u00dcber MRBS<br/>\nConfiguration details<br/>\nMRBS version    MRBS 1.7.3<br/>\n$auth<span>['type']</span>   imap_php<br/>\n$auth<span>['session']</span>    php<br/>\nServer details<br/>\nDatenbank   MySQL 10.3.21-MariaDB<br/>\nSystem  Linux ServerWerbung 3.10.105 #24922 SMP Wed Jul 3 16:37:24 CST 2019 x86_64<br/>\nServerzeit  Do 07 Mai 2020 15:58:20 CEST<br/>\nServer software Apache/2.4.39 (Unix)<br/>\nPHP 5.6.40<br/>\nDie Sprachpr\u00e4fernzreihenfolge Ihres Browsers ist: de-DE, de, en-US, en</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've had a look at the code and run a test program and can't reproduce this.   Two questions:</p>\n<ol>\n<li>If you change the order of the admins, does the admin that was previously first and was accepted now get rejected?</li>\n<li>Is it something to do with characters in the admin usernames, eg \u00e4, \u00dc, etc?</li>\n</ol></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ol>\n<li>I changed the order of the admins but this did not solve the problem</li>\n<li>The characters are $auth<span>[\"admin\"]</span>[] = \"hz\\user1\"; (user stands for character from a\u2013z and digit; no german umlauts) \u2013 but there is a backslash \\ in every username</li>\n</ol></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry, the last message was posted withoud been logged in\u2026</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Have you remembered to escape the backslashes in the config file?  For example</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$auth[\"admin\"][] = \"hz\\\\user1\";</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-05-08</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks \u2013 that solved the problem.<br/>\nFYI: I've updated to 1.8 without serious issues. (I used 'day.php, week.php\u2026)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/460/", "title": "#460 1.8.0: \"All\" view combined with \"Day\" view, CSS issues", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, I'm using version 1.8.0 and when I am in \"Day\" view and have \"All\" view turned on, the text in the bookings is not centered vertically and does not underline when hovered over.</p>\n<p>This is a \"feature\" of the \"All\" view in Week/Month views, where it has a purpose - you can't click on a single booking (thus its text shouldn't underline when you hover over it) and if you click on a row, it takes you to the view of the room you clicked on.</p>\n<p>The \"Day\" view already shows all rooms next to each other and you can click on single bookings. Therefore there is no need to differenciate if \"All\" view is turned on or off when in Day view - I think you should always consider \"All\" view turned off when in Day view, since this version looks better (booking text is centered vertically and underlines when hovered over).</p>\n<p>Method to reproduce issue: Set the following settings:</p>\n<p><code>$default_view_all = true;</code><br>\n<code>$default_view = \"day\";</code></p>\n<p>Then view the default (index.php) page and observe that text in bookings is not centered vertically and does not underline. Then set:</p>\n<p><code>$default_view_all = true;</code></p>\n<p>When opening the same (index.php) page, text is underlined and centered vertically.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry for a typo, the second step should have <code>false</code> instead of true:</p>\n<p><code>$default_view_all = false;</code></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Found a solution, in <code>index.php</code> lines 454-457:</p>\n<p><code>if ($view_all)\n{\n    $classes[] = 'all_rooms';\n}</code></p>\n<p>The CSS class <code>all_rooms</code> is causing the viewing problems in \"day\" view, so the solution is to ignore it just for the day view:</p>\n<p><code>if ($view_all &amp;&amp; $view !== 'day')\n{\n    $classes[] = 'all_rooms';\n}</code></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/0c7ddbf9290fa79ff505899dd64e24d4a2e33a67/\">0c7ddb</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Great, thanks for the quick fix.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.9.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/459/", "title": "#459 OAuth2 authentication", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I think it can be very useful to also have an OAuth2 authentication method. It would allow to use Gsuite or Office365 services in a very simple way.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>See <a href=\"https://sourceforge.net/p/mrbs/feature-requests/418/.\">https://sourceforge.net/p/mrbs/feature-requests/418/.</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/458/", "title": "#458 An odd upgrade problem", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I've just attempted to upgrade MRBS 1.7.3. to 1.7.4.1.  The upgrade seemed to run OK, with no errors.  However, when I clicked the 'Help' link to check which version was reported, it said version 1.7.1. (it had previously reported 1.7.3.)  Not sure if this just a typo by someone, somewhere, or whether something more serious has gone wrong.  Any advice appreciated.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suspect you haven't uploaded all the 1.7.4.1 files.   Can you re-upload them and try again?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks - yes, I will re-try.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Bad to worse.  This time, it prompted me for a user name and pwd.  I used my DB credentials (as cut and pasted from my old config.php file) and it wouldn't let me in.  Have reverted to 1.7.3 while I try and figure out what's going on.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Have sorted it out now, thanks.  Not sure what happened but am inclined to put it down to 'PEBKAC' :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/457/", "title": "#457 Error saving series", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I get this when I try to save series:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Uncaught</span><span class=\"w\"> </span><span class=\"k\">exception</span><span class=\"w\"> </span><span class=\"s1\">'MRBS\\DBException'</span><span class=\"w\"> </span><span class=\"ow\">in</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">MRBS</span><span class=\"o\">/</span><span class=\"n\">DB</span><span class=\"p\">.</span><span class=\"n\">php</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"mi\">109</span><span class=\"w\"></span>\n<span class=\"k\">SQLSTATE</span><span class=\"o\">[</span><span class=\"n\">23000</span><span class=\"o\">]</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"n\">Integrity</span><span class=\"w\"> </span><span class=\"k\">constraint</span><span class=\"w\"> </span><span class=\"nl\">violation</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">1452</span><span class=\"w\"> </span><span class=\"n\">Cannot</span><span class=\"w\"> </span><span class=\"k\">add</span><span class=\"w\"> </span><span class=\"ow\">or</span><span class=\"w\"> </span><span class=\"k\">update</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">child</span><span class=\"w\"> </span><span class=\"k\">row</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"k\">foreign</span><span class=\"w\"> </span><span class=\"k\">key</span><span class=\"w\"> </span><span class=\"k\">constraint</span><span class=\"w\"> </span><span class=\"n\">fails</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">`</span><span class=\"n\">id12000030_mrbs</span><span class=\"err\">`</span><span class=\"p\">.</span><span class=\"err\">`</span><span class=\"n\">mrbs_entry</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">CONSTRAINT</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">mrbs_entry_ibfk_2</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"k\">FOREIGN</span><span class=\"w\"> </span><span class=\"k\">KEY</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">`</span><span class=\"n\">repeat_id</span><span class=\"err\">`</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">REFERENCES</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">mrbs_repeat</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">`</span><span class=\"n\">id</span><span class=\"err\">`</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">ON</span><span class=\"w\"> </span><span class=\"k\">DELETE</span><span class=\"w\"> </span><span class=\"k\">CASCADE</span><span class=\"w\"> </span><span class=\"k\">ON</span><span class=\"w\"> </span><span class=\"k\">UPDATE</span><span class=\"w\"> </span><span class=\"k\">CASCADE</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"k\">SQL</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">INSERT</span><span class=\"w\"> </span><span class=\"k\">INTO</span><span class=\"w\"> </span><span class=\"n\">mrbs_entry</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">`</span><span class=\"n\">start_time</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">end_time</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">entry_type</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">repeat_id</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">room_id</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">create_by</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">modified_by</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">name</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">type</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">description</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">status</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">ical_uid</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">ical_sequence</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">ical_recur_id</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">docentes_responsables</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">actividades</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">cod_materias</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">planes_materias</span><span class=\"err\">`</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">VALUES</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"vm\">?</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"nl\">Params</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1582030800</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1582041600</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">2</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">3</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">27</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">4</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">5</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">salud</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">6</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">7</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Docencia</span><span class=\"w\"> </span><span class=\"n\">en</span><span class=\"w\"> </span><span class=\"n\">Enfermer\u00eda</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">8</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">9</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">10</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">11</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">MRBS</span><span class=\"o\">-</span><span class=\"mf\">5e3</span><span class=\"n\">d7982ef3c4</span><span class=\"o\">-</span><span class=\"mi\">5299</span><span class=\"n\">d00f</span><span class=\"nv\">@resaulassalud</span><span class=\"mf\">.000</span><span class=\"n\">webhostapp</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">12</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">13</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">20200218</span><span class=\"n\">T130000Z</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">14</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">15</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">16</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">57</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">17</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1994</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"n\">#0</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">mrbs_sql</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"p\">(</span><span class=\"mi\">815</span><span class=\"p\">)</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"n\">MRBS</span><span class=\"err\">\\</span><span class=\"n\">DB</span><span class=\"o\">-&gt;</span><span class=\"n\">command</span><span class=\"p\">(</span><span class=\"s1\">'INSERT INTO mrb...'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">#1</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">mrbs_sql</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"p\">(</span><span class=\"mi\">846</span><span class=\"p\">)</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"n\">MRBS</span><span class=\"err\">\\</span><span class=\"n\">mrbsCreateEntry</span><span class=\"p\">(</span><span class=\"s1\">'mrbs_entry'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">#2</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">mrbs_sql</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"p\">(</span><span class=\"mi\">1130</span><span class=\"p\">)</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"n\">MRBS</span><span class=\"err\">\\</span><span class=\"n\">mrbsCreateSingleEntry</span><span class=\"p\">(</span><span class=\"k\">Array</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">#3</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">mrbs_sql</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"p\">(</span><span class=\"mi\">2124</span><span class=\"p\">)</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"n\">MRBS</span><span class=\"err\">\\</span><span class=\"n\">mrbsCreateRepeatingEntrys</span><span class=\"p\">(</span><span class=\"k\">Array</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">#4</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">edit_entry_handler</span><span class=\"p\">.</span><span class=\"n\">php</span><span class=\"p\">(</span><span class=\"mi\">742</span><span class=\"p\">)</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"n\">MRBS</span><span class=\"err\">\\</span><span class=\"n\">mrbsMakeBookings</span><span class=\"p\">(</span><span class=\"k\">Array</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">false</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">false</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s1\">'series'</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">#5</span><span class=\"w\"> </span><span class=\"err\">{</span><span class=\"n\">main</span><span class=\"err\">}</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">GET</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"nl\">POST</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">csrf_token</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">f0ad74263ae7172f6d2e1fcb01c9d0084b3eb23b9926aef7ce1f1daa382b19f</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">returl</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"nl\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">resaulassalud</span><span class=\"mf\">.000</span><span class=\"n\">webhostapp</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">week</span><span class=\"p\">.</span><span class=\"n\">php</span><span class=\"vm\">?</span><span class=\"n\">area</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">&amp;</span><span class=\"n\">room</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"o\">&amp;</span><span class=\"nf\">year</span><span class=\"o\">=</span><span class=\"mi\">2020</span><span class=\"o\">&amp;</span><span class=\"nf\">month</span><span class=\"o\">=</span><span class=\"mi\">02</span><span class=\"o\">&amp;</span><span class=\"nf\">day</span><span class=\"o\">=</span><span class=\"mi\">16</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">create_by</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">salud</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_id</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">edit_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">series</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">name</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Docencia</span><span class=\"w\"> </span><span class=\"n\">en</span><span class=\"w\"> </span><span class=\"n\">Enfermer\u00eda</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">description</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">start_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">02</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">start_seconds</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">36000</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">end_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">02</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">end_seconds</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">46800</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rooms</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">confirmed</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_docentes_responsables</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_actividades</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_cod_materias</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">57</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_planes_materias</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1994</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_day</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_num_weeks</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_absolute</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_relative_ord</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_relative_day</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">TU</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_end_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">06</span><span class=\"o\">-</span><span class=\"mi\">28</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">SESSION</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">csrf_token</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">f0ad74263ae7172f6d2e1fcb01c9d0084b3eb23b9926aef7ce1f1daa382b19f</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">UserName</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">salud</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"n\">E_WARNING</span><span class=\"w\"> </span><span class=\"ow\">in</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">functions</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"mi\">234</span><span class=\"w\"></span>\n<span class=\"n\">Cannot</span><span class=\"w\"> </span><span class=\"k\">modify</span><span class=\"w\"> </span><span class=\"n\">header</span><span class=\"w\"> </span><span class=\"n\">information</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">headers</span><span class=\"w\"> </span><span class=\"n\">already</span><span class=\"w\"> </span><span class=\"n\">sent</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">output</span><span class=\"w\"> </span><span class=\"n\">started</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">functions_error</span><span class=\"p\">.</span><span class=\"nl\">inc</span><span class=\"p\">:</span><span class=\"mi\">62</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">GET</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"nl\">POST</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">csrf_token</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">f0ad74263ae7172f6d2e1fcb01c9d0084b3eb23b9926aef7ce1f1daa382b19f</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">returl</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"nl\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">resaulassalud</span><span class=\"mf\">.000</span><span class=\"n\">webhostapp</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">week</span><span class=\"p\">.</span><span class=\"n\">php</span><span class=\"vm\">?</span><span class=\"n\">area</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">&amp;</span><span class=\"n\">room</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"o\">&amp;</span><span class=\"nf\">year</span><span class=\"o\">=</span><span class=\"mi\">2020</span><span class=\"o\">&amp;</span><span class=\"nf\">month</span><span class=\"o\">=</span><span class=\"mi\">02</span><span class=\"o\">&amp;</span><span class=\"nf\">day</span><span class=\"o\">=</span><span class=\"mi\">16</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">create_by</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">salud</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_id</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">edit_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">series</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">name</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Docencia</span><span class=\"w\"> </span><span class=\"n\">en</span><span class=\"w\"> </span><span class=\"n\">Enfermer\u00eda</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">description</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">start_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">02</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">start_seconds</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">36000</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">end_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">02</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">end_seconds</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">46800</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rooms</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">confirmed</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_docentes_responsables</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_actividades</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_cod_materias</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">57</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_planes_materias</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1994</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_day</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_num_weeks</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_absolute</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_relative_ord</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_relative_day</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">TU</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_end_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">06</span><span class=\"o\">-</span><span class=\"mi\">28</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">SESSION</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">csrf_token</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">f0ad74263ae7172f6d2e1fcb01c9d0084b3eb23b9926aef7ce1f1daa382b19f</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">UserName</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">salud</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"n\">E_WARNING</span><span class=\"w\"> </span><span class=\"ow\">in</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">functions</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"mi\">221</span><span class=\"w\"></span>\n<span class=\"n\">Cannot</span><span class=\"w\"> </span><span class=\"k\">modify</span><span class=\"w\"> </span><span class=\"n\">header</span><span class=\"w\"> </span><span class=\"n\">information</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">headers</span><span class=\"w\"> </span><span class=\"n\">already</span><span class=\"w\"> </span><span class=\"n\">sent</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">output</span><span class=\"w\"> </span><span class=\"n\">started</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">functions_error</span><span class=\"p\">.</span><span class=\"nl\">inc</span><span class=\"p\">:</span><span class=\"mi\">62</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">GET</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"nl\">POST</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">csrf_token</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">f0ad74263ae7172f6d2e1fcb01c9d0084b3eb23b9926aef7ce1f1daa382b19f</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">returl</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"nl\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">resaulassalud</span><span class=\"mf\">.000</span><span class=\"n\">webhostapp</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">week</span><span class=\"p\">.</span><span class=\"n\">php</span><span class=\"vm\">?</span><span class=\"n\">area</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">&amp;</span><span class=\"n\">room</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"o\">&amp;</span><span class=\"nf\">year</span><span class=\"o\">=</span><span class=\"mi\">2020</span><span class=\"o\">&amp;</span><span class=\"nf\">month</span><span class=\"o\">=</span><span class=\"mi\">02</span><span class=\"o\">&amp;</span><span class=\"nf\">day</span><span class=\"o\">=</span><span class=\"mi\">16</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">create_by</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">salud</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_id</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">edit_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">series</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">name</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Docencia</span><span class=\"w\"> </span><span class=\"n\">en</span><span class=\"w\"> </span><span class=\"n\">Enfermer\u00eda</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">description</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">start_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">02</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">start_seconds</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">36000</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">end_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">02</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">end_seconds</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">46800</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rooms</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">confirmed</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_docentes_responsables</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_actividades</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_cod_materias</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">57</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_planes_materias</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1994</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_day</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_num_weeks</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_absolute</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_relative_ord</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_relative_day</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">TU</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_end_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">06</span><span class=\"o\">-</span><span class=\"mi\">28</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">SESSION</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">csrf_token</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">f0ad74263ae7172f6d2e1fcb01c9d0084b3eb23b9926aef7ce1f1daa382b19f</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">UserName</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">salud</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"n\">E_WARNING</span><span class=\"w\"> </span><span class=\"ow\">in</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">functions</span><span class=\"p\">.</span><span class=\"n\">inc</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"mi\">222</span><span class=\"w\"></span>\n<span class=\"n\">Cannot</span><span class=\"w\"> </span><span class=\"k\">modify</span><span class=\"w\"> </span><span class=\"n\">header</span><span class=\"w\"> </span><span class=\"n\">information</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">headers</span><span class=\"w\"> </span><span class=\"n\">already</span><span class=\"w\"> </span><span class=\"n\">sent</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">output</span><span class=\"w\"> </span><span class=\"n\">started</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">storage</span><span class=\"o\">/</span><span class=\"n\">ssd5</span><span class=\"o\">/</span><span class=\"mi\">030</span><span class=\"o\">/</span><span class=\"mi\">12000030</span><span class=\"o\">/</span><span class=\"n\">public_html</span><span class=\"o\">/</span><span class=\"n\">functions_error</span><span class=\"p\">.</span><span class=\"nl\">inc</span><span class=\"p\">:</span><span class=\"mi\">62</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">GET</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"nl\">POST</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">csrf_token</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">f0ad74263ae7172f6d2e1fcb01c9d0084b3eb23b9926aef7ce1f1daa382b19f</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">returl</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"nl\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">resaulassalud</span><span class=\"mf\">.000</span><span class=\"n\">webhostapp</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">week</span><span class=\"p\">.</span><span class=\"n\">php</span><span class=\"vm\">?</span><span class=\"n\">area</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">&amp;</span><span class=\"n\">room</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"o\">&amp;</span><span class=\"nf\">year</span><span class=\"o\">=</span><span class=\"mi\">2020</span><span class=\"o\">&amp;</span><span class=\"nf\">month</span><span class=\"o\">=</span><span class=\"mi\">02</span><span class=\"o\">&amp;</span><span class=\"nf\">day</span><span class=\"o\">=</span><span class=\"mi\">16</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">create_by</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">salud</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_id</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">edit_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">series</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">name</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Docencia</span><span class=\"w\"> </span><span class=\"n\">en</span><span class=\"w\"> </span><span class=\"n\">Enfermer\u00eda</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">description</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">start_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">02</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">start_seconds</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">36000</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">end_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">02</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">end_seconds</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">46800</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rooms</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">confirmed</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_docentes_responsables</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_actividades</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_cod_materias</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">57</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">f_planes_materias</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1994</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_day</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"o\">[</span><span class=\"n\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_num_weeks</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_type</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_absolute</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_relative_ord</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">month_relative_day</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">TU</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">rep_end_date</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2020</span><span class=\"o\">-</span><span class=\"mi\">06</span><span class=\"o\">-</span><span class=\"mi\">28</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">MRBS</span><span class=\"w\"> </span><span class=\"k\">SESSION</span><span class=\"err\">:</span><span class=\"w\"> </span><span class=\"k\">Array</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">csrf_token</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">f0ad74263ae7172f6d2e1fcb01c9d0084b3eb23b9926aef7ce1f1daa382b19f</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">UserName</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">salud</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>Then this message:</p>\n<p>Error: la base de datos no est\u00e1 disponible en este momento.</p>\n<p>Yesterday was working well. I'm ussing free web hosting 000webhost</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Was this a new series or were you editing an existing series?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Some more questions:</p>\n<ol>\n<li>Can you look at the repeat table using phpMyAdmin (or similar) and see if you have a row with id 27?</li>\n<li>Were there any other errors before this?</li>\n<li>Can you reproduce the problem?  If so, how?</li>\n</ol></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hello, </p>\n<p>I'm currently having the same issue, with version 1.6.1 and wordpress authentication. <br/>\nYour help would be very appreciated, thank you.</p>\n<p>Here is the error. </p>\n<div class=\"codehilite\"><pre><span></span>[10-Feb-2020 16:05:37 America/Santiago] \nE_NOTICE in /home/sctbcl/public_html/sitios/sctb.cl/wp-config.php at line 95\nConstant COOKIEPATH already defined\n\n[10-Feb-2020 16:05:37 America/Santiago] Uncaught exception 'MRBS\\DBException' in /home/sctbcl/public_html/sitios/reservas/lib/MRBS/DB.php at line 98\nSQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`sctbcl_reservas`.`cas_entry`, CONSTRAINT `cas_entry_ibfk_2` FOREIGN KEY (`create_by`) REFERENCES `cas_users` (`name`) ON UPDATE CASCADE)\nSQL: INSERT INTO cas_entry (`start_time`, `end_time`, `entry_type`, `repeat_id`, `room_id`, `create_by`, `modified_by`, `name`, `type`, `description`, `status`, `ical_uid`, `ical_sequence`, `ical_recur_id`, `galones`, `matricula`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\nParams: Array\n(\n    [0] =&gt; 1581462000\n    [1] =&gt; 1581465600\n    [2] =&gt; 0\n    [3] =&gt; \n    [4] =&gt; 36\n    [5] =&gt; alfredo@loot.cl\n    [6] =&gt; \n    [7] =&gt; asddsa\n    [8] =&gt; E\n    [9] =&gt; asdasdaa\n    [10] =&gt; 0\n    [11] =&gt; MRBS-5e41a981afa4b-3e316df6@reservas.sctb.cl\n    [12] =&gt; 0\n    [13] =&gt; \n    [14] =&gt; \n    [15] =&gt; \n)\n\n#0 /home/sctbcl/public_html/sitios/reservas/mrbs_sql.inc(755): MRBS\\DB-&gt;command('INSERT INTO cas...', Array)\n#1 /home/sctbcl/public_html/sitios/reservas/mrbs_sql.inc(786): MRBS\\mrbsCreateEntry('cas_entry', Array)\n#2 /home/sctbcl/public_html/sitios/reservas/mrbs_sql.inc(2032): MRBS\\mrbsCreateSingleEntry(Array)\n#3 /home/sctbcl/public_html/sitios/reservas/edit_entry_handler.php(713): MRBS\\mrbsMakeBookings(Array, NULL, false, NULL, NULL, true, 'series')\n#4 {main}\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [name] =&gt; asddsa\n    [description] =&gt; asdasdaa\n    [start_day] =&gt; 11\n    [start_month] =&gt; 2\n    [start_year] =&gt; 2020\n    [start_seconds] =&gt; 72000\n    [end_day] =&gt; 11\n    [end_month] =&gt; 2\n    [end_year] =&gt; 2020\n    [end_seconds] =&gt; 75600\n    [area] =&gt; 2\n    [rooms] =&gt; Array\n        (\n            [0] =&gt; 36\n        )\n\n    [type] =&gt; E\n    [f_galones] =&gt; \n    [f_matricula] =&gt; \n    [rep_type] =&gt; 0\n    [rep_day] =&gt; Array\n        (\n            [0] =&gt; 2\n        )\n\n    [rep_num_weeks] =&gt; 1\n    [month_type] =&gt; 0\n    [month_absolute] =&gt; 11\n    [month_relative_ord] =&gt; 2\n    [month_relative_day] =&gt; TU\n    [rep_end_day] =&gt; 11\n    [rep_end_month] =&gt; 2\n    [rep_end_year] =&gt; 2020\n    [returl] =&gt; https://reservas.sctb.cl/day.php?year=2020&amp;month=2&amp;day=11&amp;area=2&amp;room=37\n    [create_by] =&gt; alfredo@loot.cl\n    [rep_id] =&gt; 0\n    [edit_type] =&gt; series\n)\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-02-10</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Same questions as above, ie</p>\n<ol>\n<li>Can you look at the repeat table using phpMyAdmin (or similar) and see if you have a row with id 36?</li>\n<li>Were there any other errors before this?</li>\n<li>Can you reproduce the problem? If so, how?</li>\n</ol></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hello, thanks for your response.</p>\n<p>Yes, there is a row with ID 36 in the repeat table. <br/>\nI've deleted all of the repeat entries and I get this error: </p>\n<div class=\"codehilite\"><pre><span></span>[10-Feb-2020 16:29:34 America/Santiago] Uncaught exception 'MRBS\\DBException' in /home/sctbcl/public_html/sitios/reservas/lib/MRBS/DB.php at line 106\nSQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`sctbcl_reservas`.`cas_entry`, CONSTRAINT `cas_entry_ibfk_2` FOREIGN KEY (`create_by`) REFERENCES `cas_users` (`name`) ON UPDATE CASCADE)\nSQL: INSERT INTO cas_entry (`start_time`, `end_time`, `entry_type`, `repeat_id`, `room_id`, `create_by`, `modified_by`, `name`, `type`, `description`, `status`, `ical_uid`, `ical_sequence`, `ical_recur_id`, `galones`, `matricula`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\nParams: Array\n(\n    [0] =&gt; 1581462000\n    [1] =&gt; 1581465600\n    [2] =&gt; 0\n    [3] =&gt; \n    [4] =&gt; 37\n    [5] =&gt; alfredo@loot.cl\n    [6] =&gt; \n    [7] =&gt; joaquin\n    [8] =&gt; E\n    [9] =&gt; fdas\n    [10] =&gt; 0\n    [11] =&gt; MRBS-5e41af1e0be4d-fd412072@reservas.sctb.cl\n    [12] =&gt; 0\n    [13] =&gt; \n    [14] =&gt; \n    [15] =&gt; \n)\n\n##0 /home/sctbcl/public_html/sitios/reservas/mrbs_sql.inc(758): MRBS\\DB-&gt;command('INSERT INTO cas...', Array)\n#1 /home/sctbcl/public_html/sitios/reservas/mrbs_sql.inc(789): MRBS\\mrbsCreateEntry('cas_entry', Array)\n#2 /home/sctbcl/public_html/sitios/reservas/mrbs_sql.inc(2073): MRBS\\mrbsCreateSingleEntry(Array)\n#3 /home/sctbcl/public_html/sitios/reservas/edit_entry_handler.php(738): MRBS\\mrbsMakeBookings(Array, NULL, false, NULL, NULL, true, 'series')\n#4 {main}\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [name] =&gt; joaquin \n    [description] =&gt; fdas\n    [start_day] =&gt; 11\n    [start_month] =&gt; 2\n    [start_year] =&gt; 2020\n    [start_seconds] =&gt; 72000\n    [end_day] =&gt; 11\n    [end_month] =&gt; 2\n    [end_year] =&gt; 2020\n    [end_seconds] =&gt; 75600\n    [area] =&gt; 2\n    [rooms] =&gt; Array\n        (\n            [0] =&gt; 37\n        )\n\n    [type] =&gt; E\n    [f_galones] =&gt; \n    [f_matricula] =&gt; \n    [rep_type] =&gt; 0\n    [rep_day] =&gt; Array\n        (\n            [0] =&gt; 2\n        )\n\n    [rep_num_weeks] =&gt; 1\n    [month_type] =&gt; 0\n    [month_absolute] =&gt; 11\n    [month_relative_ord] =&gt; 2\n    [month_relative_day] =&gt; TU\n    [rep_end_day] =&gt; 11\n    [rep_end_month] =&gt; 2\n    [rep_end_year] =&gt; 2020\n    [returl] =&gt; https://reservas.sctb.cl/day.php?year=2020&amp;month=2&amp;day=11&amp;area=2&amp;room=37\n    [create_by] =&gt; alfredo@loot.cl\n    [rep_id] =&gt; 0\n    [edit_type] =&gt; series\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n</pre></div>\n<p>Before this, no error on saving, this started when started using wordpress authentication when I  upgraded to 1.6.1, now using 1.7.0.</p>\n<p>Also, for some reason, the cookie is not passing the logged in, so I must re log again with the wordpress credentials. </p>\n<p>thank you very much. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-02-10</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.   Is there a reason you are using 1.7.0 rather than the latest release (1.7.4.1)?</p>\n<p>Also, were you using Wordpress authentication when you were using 1.6.1?   If not, what authentication scheme were you using with 1.6.1?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>One more question: which version of MySQL are you using?   The information is on the MRBS Help page.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>When I try to upgrade to 1.7.4.1 I get a \"Wordpress critical error\" \"database is not available\" when updating the data base.<br/>\nWordpress is on the latest version. <br/>\nThe stable version that works for me now is 1.7.0</p>\n<p>I was using 1.4 before with db authentication, now I want clients to just log in one time in order to use all the services on the website. </p>\n<p>the MySql version is \"MySQL 10.2.31-MariaDB-cll-lve\"<br/>\nserver_software Apache<br/>\nPHP 7.3.14</p>\n<p>Thank you sir!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Joaquin Trujillo 2020-02-10</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I know it's probably nothing to do with the integrity constraint violation error, but what's the Wordpress critical error you get?   Is there any information in your PHP error log?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>When upgrading from 1.7.0 to 1.7.4.1 I get the following error: </p>\n<div class=\"codehilite\"><pre><span></span>Actualizando Base de Datos a versi\u00f3n: 55\nError: la base de datos no est\u00e1 disponible en este momento.\nThere has been a critical error on your website.\nLearn more about debugging in WordPress.\n\n0 /home/sctbcl/public_html/sitios/reservas/upgrade.inc(168): MRBS\\DB-&gt;query('\\nALTER TABLE ca...')\n1 /home/sctbcl/public_html/sitios/reservas/upgrade.inc(67): MRBS\\upgrade_database(false, '54', 59, Object(MRBS\\DB_mysql))\n2 /home/sctbcl/public_html/sitios/reservas/defaultincludes.inc(33): require_once('/home/sctbcl/pu...')\n3 /home/sctbcl/public_html/sitios/reservas/index.php(9): require('/home/sctbcl/pu...')\n4 {main}\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_NOTICE in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 61\nArray to string conversion\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 68\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_NOTICE in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 117\nArray to string conversion\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 121\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 128\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 137\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 128\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 137\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 128\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 137\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 128\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 137\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 128\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 137\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 128\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 137\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 128\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 137\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 128\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 137\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 128\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_WARNING in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 137\nmktime() expects parameter 4 to be int, array given\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n    [form_username] =&gt; sctbcl_reservas\n    [form_password] =&gt; ****PASSWORD HIDDEN****\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 9fc3b6db1b1621818fe093f5da0df2cae6e9f65218a8a64f2d91dd64427baefa\n)\n\n[10-Feb-2020 17:14:01 America/Santiago] \nE_NOTICE in /home/sctbcl/public_html/sitios/reservas/trailer.inc at line 173\nArray to string conversion\n\n[10-Feb-2020 17:14:01 America/Santiago] PHP Fatal error:  Uncaught Error: Unsupported operand types in /home/sctbcl/public_html/sitios/reservas/trailer.inc:180\nStack trace:\n0 /home/sctbcl/public_html/sitios/reservas/trailer.inc(217): MRBS\\generate_trailer()\n1 /home/sctbcl/public_html/sitios/reservas/functions_error.inc(124): MRBS\\output_trailer()\n2 /home/sctbcl/public_html/sitios/reservas/functions_error.inc(112): MRBS\\fatal_error('Error: la base ...')\n3 [internal function]: MRBS\\exception_handler(Object(MRBS\\DBException))\n4 {main}\n  thrown in /home/sctbcl/public_html/sitios/reservas/trailer.inc on line 180\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-02-10</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you reproduce this problem (ie the integrity constraint violation) reliably?  If so, how?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/456/", "title": "#456 weekly booking series is not displayed", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>when I try to insert a weekly booking, the repetition is not displayed.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Have you remembered to set the repeat end date?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>yes</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which release of MRBS are you using?    Can you post a screenshot please of the edit_entry page when you are making a booking just before you press Save?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>vers. 1.7.1</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  The reason the series is not showing is because you have set \"Numero di settimane\" to 3.   This is actually a bad translation.  In English it shows \"Repeat every\".  In other words this booking will repeat every 3 weeks, ie 15/02, 07/03, 28/03, etc.</p>\n<p>If you can suggest a better translation I will update the code.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-02-13</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>thank you so much.<br/>\ni'll send you a suggestion of translation:<br/>\n\"Ripeti ogni (n) settimane\"<br/>\nit's a litterally translation of \"repeat every (n) weeks\"<br/>\nthe language is italian<br/>\nbye</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  I'll update the code.  If you haven't already done so you can fix your system by adding the following to your config file:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$vocab_override['it']['rep_interval'] = 'Ripeti ogni';</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry, for version 1.7.1 the code should be</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$vocab_override['it']['rep_num_weeks'] = 'Ripeti ogni';</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed this in the mrbs_17_branch (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/1ae839a817ff5d4e5f545fb5b02e99429f1bbcae/\">1ae839</a>) and default (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/817b997a0d169290a51f44b9d128d2775f9f2e5f/\">817b99</a>) branches.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.8.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/455/", "title": "#455 Editing series with exceptions will overwrite exceptions", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When you create any event series with exceptions any editing of series will overwrite (elimate) all exceptions of this series.</p>\n<hr>\n<p><strong>How to reproduce:</strong><br>\n1. Add an event with a weekly series.<br>\n2. Remove a date from the series.<br>\n3. Check series is still there but with exception you created before. All is fine.<br>\n4. Edit first entry of same series (e.g. change title).<br>\n5. Go back to you exception and you will see that it has been overwritten (without any warning).</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>See also <a href=\"https://sourceforge.net/p/mrbs/support-requests/1726/.\">https://sourceforge.net/p/mrbs/support-requests/1726/.</a>   I agree though that what happens at the moment is probably not right.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/454/", "title": "#454  E-Mail broken", "status": "closed", "labels": "email (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,</p>\n<p>Thanks .</p>\n<p>I downloaded the latest version 1.8 downloaded on December 24, 2019. But when configuring email I found an error, I didn't know if it was the wrong configuration or the error. I have sent you 2 files. Please help me solve this.</p>\n<p>Uncaught exception 'Error' in C:\\xampp\\htdocs\\cbs2\\web\\functions_mail.inc at line 1155<br>\nE_WARNING in C:\\xampp\\htdocs\\cbs2\\web\\functions.inc at line 470<br>\nE_WARNING in C:\\xampp\\htdocs\\cbs2\\web\\functions.inc at line 457<br>\nE_WARNING in C:\\xampp\\htdocs\\cbs2\\web\\functions.inc at line 458</p></div></div>\n  \n    <strong class=\"grid-18\">2 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/454/attachment/1.PNG\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/454/attachment/1.PNG/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/454/attachment/1.PNG\">1.PNG</a>\n        </div>\n    \n        <div class=\"attachment_thumb\">\n          \n          <a href=\"/p/mrbs/bugs/454/attachment/111.txt\">111.txt</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.  Now fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/874df40dde84001f70b8001a5bd7ed9bf8db8bde/\">874df4</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi ,</p>\n<p>It seems that this error has not been completely fixed.</p>\n<p>Today I downloaded the latest version from the default branch and configured the error detection mail</p>\n<p><strong>Could not instantiate mail function.<br/>\n<span><span>[DEBUG]</span></span> Failed to send email: Could not instantiate mail function.</strong></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi,</p>\n<p>Please see the attached file below.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Delta 2020-01-16</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is not an MRBS problem.  See the section on \"Could not instantiate mail function\" in this <a class=\"\" href=\"https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\" rel=\"nofollow\">PHPMailer wiki</a>.</p>\n<p>I would try changing the backend to using SMTP:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$mail_settings['admin_backend'] = 'smtp';</span>\n</pre></div>\n<p>The default SMTP settings normally work.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes. Thank you very much. :D</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.8.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/453/", "title": "#453 booking resize possible indicator not shown when admin", "status": "closed", "labels": "resize (1)", "priority": "2", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi<br>\nWhen a booking is made by a non-admin user, the booking shows in week view at the bottom right edge of the booking block some kind of an indicator to show that it is possible to resize the booking with the mouse. This indicator is missing, when the booking is made by an admin user, although the resize is possible also for the admin.<br>\nHanspeter</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>forgot to mention ystem info:</p>\n<p>Configuration details MRBS version MRBS 1.7.4<br/>\n$auth<span>['type']</span>   db<br/>\n$auth<span>['session']</span>    php<br/>\nServer details Datenbank    MySQL 5.5.57-MariaDB<br/>\nSystem  Linux NASTS251 4.14.24-qnap #1 SMP Sat Nov 9 01:47:00 CST 2019 x86_64<br/>\nServerzeit  Thu Dec 12 13:35:38 2019<br/>\nServer software Apache<br/>\nPHP 7.3.7</p>\n<p>Hanspeter</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this.  Have you made any changes to MRBS?  Are you getting any error messages in your browser's JavaScript console in Developer Tools?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No changes made to mrbs so far, except added custom.css to fix a truncation problem:<br/>\nIn Module: \\NASTS251\\Web\\room\\css\\custom.css with<br/>\ncontent:     #colour_key td {   width: 8em;  // 8em should be enough for your descriptions }<br/>\nThe problem shows with firefox 71.0 (64bit) as well as with Chrome Version 79.0.3945.79 (Offizieller Build) (64-Bit)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Hanspeter Hiltbrunner 2019-12-13</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>In the screenshots I see that you are logged in as Harald.  Is Harald an admin?   If not, then Harald will not be able to change Hanspeter's booking.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have just noticed that you have already said that Harald is a user.  That is why he cannot resize Hanspeter's booking.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>That makes sense, but when logged in as  admin no indicators are shown at all, although as admin I can resize all bookings. Maybe this is works as designes because admins are allowed to change everything...see the new attachments</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No, it's not as designed.  There should be resize indicators.  But I still can't reproduce the problem.  I've tried logging in as an admin on my test system and I see resize indicators on bookings made by ordinary users.  I'll have a look at the code to see if there are any clues.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>From those cryptic console messages, which I do not understand, my guess is, that the problem is related to CSS....maybe?<br/>\nforge.css:1:167926 Unbekannte Eigenschaft '-moz-border-radius-topleft'. Deklaration ignoriert. <br/>\nforge.css:1:168719 Unbekannte Eigenschaft '-moz-border-radius-topright'. Deklaration ignoriert. <br/>\nforge.css:1:168813 Unbekannte Eigenschaft '-moz-border-radius-bottomleft'. Deklaration ignoriert. <br/>\nforge.css:1:170008 Unbekannte Eigenschaft '-moz-border-radius-bottomright'. Deklaration ignoriert. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No, I don't think it's to do with CSS, at least not to do with those messages.  They are just saying that some CSS properties - which are now redundant - are being ignored.</p>\n<p>To help me narrow the problem down can you please inspect the <code>&lt;td&gt;</code> element that contains the booking that shows the problem (or else view the page source).  It should have the class 'writable'.   If it does then it means that it's a JavaScript/CSS problem.   If it doesn't it means that it's a PHP problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Seems to be writable, but the td element looks different between user and admin being logged in...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Better Inspector captures same field Harald booking logged in as user and as admin...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, many thanks.  I can now reproduce the bug and can see what's causing it.  If I'm right then you will have</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$auth['only_admin_can_book_repeat'] = true;</span>\n</pre></div>\n<p>in your config file.  Please confirm.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>yes, true</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The fix to the problem is to change line 1131 of js/resizable.js.php from</p>\n<div class=\"codehilite\"><pre><span></span>            <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">args</span><span class=\"p\">.</span><span class=\"nx\">isAdmin</span><span class=\"p\">)</span>\n</pre></div>\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span>            <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">args</span><span class=\"p\">.</span><span class=\"nx\">isAdmin</span><span class=\"p\">)</span>\n</pre></div>\n<p>However, when you've done that you'll probably think there's a problem when you are logged in as a user, eg Harald.   That's because the \"resizable indicator\" is just something that appears in order to show that you can resize in the south-east direction (ie either south or east).  Because ordinary users are not allowed to book repeats you can't resize (in the week view) in the east or west directions, so the icon doesn't appear.  But when you hover over the north or south edges the cursor should change.</p>\n<p>I agree that the user interface is confusing and I'll have a think about how it could be improved.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You also need to change line 622 in the same way.  This fixes a slightly different problem: if you are an ordinary user and you are not allowed to make repeat bookings then you should not be able to select empty cells in the week view by dragging across a day boundary.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have now committed these fixes to the mrbs_17_branch.  They had already been fixed in the default branch.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks a lot Campbell! I have tested the patches and the  southeast handle has now disappeared for normal users and is there for all bookings when admin. I find that logig more clear now. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>These lines are missing when logged in as admin:</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Incidentally, I see that your dates are in English not German.  This is probably because MRBS was unable to set a German locale on your server - probably because it is not installed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes I know that. My QNAP NAS firmware has the german locals not installed. I am investigating but it does not seem easy and I am not sure if after a firmware update the locals stay or diappear.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.8.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/452/", "title": "#452 how to config  more OU in $ldap_base_dn?", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>we have 2 different  OU, how to config it let all user can login? current only 1 OU user can login. <br>\nexample: i add aaa and bbb but not work.<br>\n$ldap_base_dn = \"dc=test,dc=cn\";<br>\n$ldap_base_dn = \"OU=aaa,dc=test,dc=cn\";<br>\n$ldap_base_dn = \"OU=bbb,dc=test,dc=cn\";</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/451/", "title": "#451 A source code spelling error report for MRBS", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The FOSS server fossies.org offers a new feature \"Source code misspelling reports\":</p>\n<p><a href=\"https://fossies.org/features.html#codespell\" rel=\"nofollow\">https://fossies.org/features.html#codespell</a></p>\n<p>Although such reports are normally only generated on request, as Fossies administrator I have just created  (for testing purposes) an analysis for the new MRBS release 1.7.4.1:</p>\n<p><a href=\"https://fossies.org/linux/www/mrbs/codespell.html\" rel=\"nofollow\">https://fossies.org/linux/www/mrbs/codespell.html</a></p>\n<p>That version-independent URL should redirect always to the last report (if available), so currently to</p>\n<p><a href=\"https://fossies.org/linux/www/mrbs-1.7.4.1.tar.gz/codespell.html\" rel=\"nofollow\">https://fossies.org/linux/www/mrbs-1.7.4.1.tar.gz/codespell.html</a></p>\n<p>Although already some obviously wrong matches (false positives) are prefiltered (ignored) please inform me if you find more of them so that I can force a new improved check.</p>\n<p>Just for information there are also two supplemental pages</p>\n<p><a href=\"https://fossies.org/linux/www/mrbs/codespell_conf.html\" rel=\"nofollow\">https://fossies.org/linux/www/mrbs/codespell_conf.html</a></p>\n<p>showing some used codespell configurations and</p>\n<p><a href=\"https://fossies.org/linux/www/mrbs/codespell_fps.html\" rel=\"nofollow\">https://fossies.org/linux/www/mrbs/codespell_fps.html</a></p>\n<p>showing all resulting obvious False Positives.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for doing that.  I've now (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/4f962c65c4768e3ed7dcc835c224701aa12cc664/\">4f962c</a>) fixed in the default branch those errors that aren't in third-party libraries.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.8.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/450/", "title": "#450 1.7.4: ldap-problems", "status": "closed", "labels": "LDAP (3)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi there,</p>\n<p>we use LDAP-Authentification against an AD-Server. With the update to 1.7.4 this stopped working, because of the new wrapper-function used for ldap_bind. As I understand it, it is planned to use mrbs_ldap_bind in the (near?) future, but it is not implemented in 1.7.4. Somehow the call to mrbs_ldap_bind slipped into this relase.</p>\n<p>The workaround is simple: In line 436 of web/auth/auth_ldap.inc ldap_bind should be used.</p>\n<p>Thanks for this very helpful piece of software!</p>\n<p>-- <br>\n    - Jens -</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.  Yes, mrbs_ldap_bind() will appear in 1.8.0 and a call to the function accidentally slipped into the mrbs_17_branch.</p>\n<p>Now fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/745d9a061114d938d723b7232f26bf750f86781b/\">745d9a</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>There is now a 1.7.4.1 release which fixes the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/449/", "title": "#449 bookingtype text truncated at a blank between 2 textstrings", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi<br>\nI have booking types overridden in lang.de file. See vocab overrides in first attachment and resulting display in all views (day, week etc.) at the bottom below the calendar entries as explanation of the color used for the booking. See second attachment.<br>\nthe type A entry works ok, although it consists of two text strings separated by a blank. For the  type C entry only the first text string up to the blank is displayed. Hoovering over the type C field displays both strings correct. <br>\nI am using mrbs 1.7.4 with  PHP Version 7.3.7</p></div></div>\n  \n    <strong class=\"grid-18\">2 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/449/attachment/LangDEDefinition.PNG\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/449/attachment/LangDEDefinition.PNG/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/449/attachment/LangDEDefinition.PNG\">LangDEDefinition.PNG</a>\n        </div>\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/449/attachment/missingTextt.PNG\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/449/attachment/missingTextt.PNG/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/449/attachment/missingTextt.PNG\">missingTextt.PNG</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The same error exist also in previous version 1.7.3</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you provide your booking types as text please?  It will make it easier to test.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This problem has already been fixed in the default branch.  For MRBS 1.7 versions you can fix it by creating a custom CSS file (see systemdefaults.inc.php for how to do this) and adding the rule</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">#</span><span class=\"nn\">colour_key</span> <span class=\"nt\">td</span> <span class=\"p\">{</span>\n  <span class=\"k\">width</span><span class=\"p\">:</span> <span class=\"mi\">8</span><span class=\"kt\">em</span><span class=\"p\">;</span>  <span class=\"err\">//</span> <span class=\"err\">8em</span> <span class=\"err\">should</span> <span class=\"err\">be</span> <span class=\"err\">enough</span> <span class=\"err\">for</span> <span class=\"err\">your</span> <span class=\"err\">descriptions</span>\n<span class=\"p\">}</span>\n</pre></div>\n<p>Incidentally, you should really put the descriptions in your config file using the $vocab_override config setting, eg</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$vocab_override['de']['type.A'] = 'Privater Anlass';</span>\n<span class=\"x\">$vocab_override['de']['type.B'] = 'Fehlreservation';</span>\n<span class=\"x\">// etc</span>\n</pre></div>\n<p>That way you won't have to re-apply your changes to lang.de when you upgrade to the next versiuon of MRBS.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>ok, thank you. I will move the vocab overides to my config file. I downloaded and installed 1.7.4 only two days ago by using the download latest version button in Sourceforge. Sorry I do not understand the term default branch... are you saying there are newer files already somewhere to download?  I am a beginner...<br/>\nHanspeter</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The default branch is the latest and greatest code still in development.  It is less stable than the latest release and will form the basis of the next release.  If you want to try it out you can download it by following the Download Snapshot link on <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/default/tree/\">this page</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>ok, thanks. I will try to apply your CSS mod to fix the problemm. By the way, I think mrb is really great work you guys did. On the other hand, it is becoming more and more difficult to implement modifications I have made in a really old version still being used.  But I am migrating now to 1.7.4 and thre is so much code to look at, difficult to understand, although well documented. Probably easy for a professional but quite a challenge for an amateur programmer...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, and the more modifications you make the more difficult it will be to keep up.  And the default branch, which will form the basis of MRBS 1.8.0, has even more changes.</p>\n<p>Some things you can do to make upgrading as painless as possible are:</p>\n<ul>\n<li>try and minimise the number of modifications you make.  If at all possible it's better to keep MRBS as standard as possible</li>\n<li>if you really need a modifdication and you think it might be of general interest, see if you can persuade the MRBS development team to incorporate it in standard MRBS</li>\n<li>for modifications that you have to make, try and keep them as self-contained as possible, eg by putting them in include files</li>\n<li>if you can then start using a source code control system such as SVN, Mercurial or Git.  It'll be quite an investment of learning, but you will then be able to use the system's merge tools to make the job of upgrading easier.</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2019-12-02</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I followed your suggestion and the problem is now fixed. Thanks for your help.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for the hints above...<br/>\nA few modifications I had to make in the old version are now standard in 1.7.4 already e.g. booking restrictions. Others such as sending a confirmation sms to the bookerI really need. Also I need info emails to all users when a room booking is deleted. And an automatic fill of the short description with the bookers username...<br/>\nI will later detail these requirements as feature requests. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/448/", "title": "#448 Cross-Site Scripting: Reflected", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I'm using MRBS 1.7.3 (and php 7.1 on a Windows Server 2016 machine), and my web team is saying they won't allow * tcp 80 in until I fix my cross-site scripting critical issue (which happens for search.php, day.php, week.php, month.php, report.php, view_entry.php, edit_entry.php, help.php, and admin.php); they use Fortify Software Security Center by Micro Focus; hoping one of their request/responses can help you (help me! please; sorry/thank you).</p>\n<p>Request:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nf\">GET</span> <span class=\"nn\">/day.php/%37%36%37%32%33</span> <span class=\"kr\">HTTP</span><span class=\"o\">/</span><span class=\"m\">1.1</span>\n<span class=\"na\">Referer</span><span class=\"o\">:</span> <span class=\"l\">https://pre.calendar.neurobio.pitt.edu/month.php?year=2019&amp;month=09&amp;day=23&amp;area=2&amp;room=5</span>\n<span class=\"na\">Accept</span><span class=\"o\">:</span> <span class=\"l\">*/*</span>\n<span class=\"na\">Pragma</span><span class=\"o\">:</span> <span class=\"l\">no-cache</span>\n<span class=\"na\">Accept-Encoding</span><span class=\"o\">:</span> <span class=\"l\">gzip, deflate</span>\n<span class=\"na\">User-Agent</span><span class=\"o\">:</span> <span class=\"l\">Mozilla/5.0 (Windows NT 6.2; WOW64; rv:30.0) Gecko/20100101 Firefox/30.0</span>\n<span class=\"na\">Host</span><span class=\"o\">:</span> <span class=\"l\">pre.calendar.neurobio.pitt.edu</span>\n<span class=\"na\">Connection</span><span class=\"o\">:</span> <span class=\"l\">Keep-Alive</span>\n<span class=\"na\">X-WIPP</span><span class=\"o\">:</span> <span class=\"l\">AscVersion=19.1.0.311</span>\n<span class=\"na\">X-Scan-Memo</span><span class=\"o\">:</span> <span class=\"l\">Category=\"Audit.Attack\"; SID=\"5AE6AAF7B243EED3031E43D6A2A41368\"; PSID=\"1CF84C4C76DB345F21F5594AB0F5E3AA\"; SessionType=\"AuditAttack\"; CrawlType=\"None\"; AttackType=\"UrlComponentManipulation\"; OriginatingEngineID=\"1354e211-9d7d-4cc1-80e6-4de3fd128002\"; AttackSequence=\"26\"; AttackParamDesc=\"\"; AttackParamIndex=\"1\"; AttackParamSubIndex=\"0\"; CheckId=\"5105\"; Engine=\"Cross+Site+Scripting\"; SmartMode=\"NonServerSpecificOnly\"; AttackString=\"%2537%2536%2537%2532%2533\"; AttackStringProps=\"Attack\"; ThreadId=\"166\"; ThreadType=\"AuditorStateRequestor\"; </span>\n<span class=\"na\">X-RequestManager-Memo</span><span class=\"o\">:</span> <span class=\"l\">sid=\"12920\"; smi=\"0\"; sc=\"1\"; ID=\"95f46801-168f-49b8-b94b-8b9263d47c87\"; </span>\n<span class=\"na\">X-Request-Memo</span><span class=\"o\">:</span> <span class=\"l\">ID=\"b7a024f3-bdd7-4df6-aacb-058afde99f8f\"; sc=\"1\"; tid=\"166\"; </span>\n<span class=\"na\">Cookie</span><span class=\"o\">:</span> <span class=\"l\">CustomCookie=WebInspect0;MRBS_SESSID=ofi1rrv2o3n0f2lqgaieiga66o;TS018c07de=0134f538f17327295523ee841c20d66f1dd389bfa69ece299714a90b946cf4c9fcc96db0ee8d99a1638e12c9362ab29d176e925667;TS018c07de_26=0197b4c8ca6b6c045da5a03d31d5f7612f9bef15d1d3e8e2918c3f7fc5c44653531f36dae2e0e4196eb68b493c5ac42597348742e62025c2fd24c27a99bfe8a444352ea9af</span>\n</pre></div>\n\n\n<p>Response:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">HTTP</span><span class=\"o\">/</span><span class=\"mf\">1.1</span> <span class=\"mi\">200</span> <span class=\"n\">OK</span>\n<span class=\"n\">Cache</span><span class=\"o\">-</span><span class=\"nl\">Control</span><span class=\"p\">:</span> <span class=\"n\">no</span><span class=\"o\">-</span><span class=\"n\">store</span><span class=\"p\">,</span> <span class=\"n\">no</span><span class=\"o\">-</span><span class=\"n\">cache</span><span class=\"p\">,</span> <span class=\"n\">must</span><span class=\"o\">-</span><span class=\"n\">revalidate</span>\n<span class=\"nl\">Pragma</span><span class=\"p\">:</span> <span class=\"n\">no</span><span class=\"o\">-</span><span class=\"n\">cache</span>\n<span class=\"n\">Content</span><span class=\"o\">-</span><span class=\"nl\">Type</span><span class=\"p\">:</span> <span class=\"n\">text</span><span class=\"o\">/</span><span class=\"n\">html</span><span class=\"p\">;</span> <span class=\"n\">charset</span><span class=\"o\">=</span><span class=\"n\">utf</span><span class=\"o\">-</span><span class=\"mi\">8</span>\n<span class=\"nl\">Expires</span><span class=\"p\">:</span> <span class=\"n\">Mon</span><span class=\"p\">,</span> <span class=\"mi\">26</span> <span class=\"n\">Jul</span> <span class=\"mi\">1997</span> <span class=\"mo\">05</span><span class=\"o\">:</span><span class=\"mo\">00</span><span class=\"o\">:</span><span class=\"mo\">00</span> <span class=\"n\">GMT</span>\n<span class=\"n\">X</span><span class=\"o\">-</span><span class=\"n\">Frame</span><span class=\"o\">-</span><span class=\"nl\">Options</span><span class=\"p\">:</span> <span class=\"n\">SAMEORIGIN</span>\n<span class=\"nl\">Date</span><span class=\"p\">:</span> <span class=\"n\">Tue</span><span class=\"p\">,</span> <span class=\"mi\">24</span> <span class=\"n\">Sep</span> <span class=\"mi\">2019</span> <span class=\"mo\">01</span><span class=\"o\">:</span><span class=\"mo\">06</span><span class=\"o\">:</span><span class=\"mi\">50</span> <span class=\"n\">GMT</span>\n<span class=\"n\">Content</span><span class=\"o\">-</span><span class=\"nl\">Length</span><span class=\"p\">:</span> <span class=\"mi\">5745</span>\n<span class=\"n\">Set</span><span class=\"o\">-</span><span class=\"nl\">Cookie</span><span class=\"p\">:</span> <span class=\"n\">TS018c07de</span><span class=\"o\">=</span><span class=\"mf\">0134f538f</span><span class=\"mi\">17327295523</span><span class=\"n\">ee841c20d66f1dd389bfa69ece299714a90b946cf4c9fcc96db0ee8d99a1638e12c9362ab29d176e925667</span><span class=\"p\">;</span> <span class=\"n\">Path</span><span class=\"o\">=/</span>\n<span class=\"n\">Set</span><span class=\"o\">-</span><span class=\"nl\">Cookie</span><span class=\"p\">:</span> <span class=\"n\">TS018c07de_26</span><span class=\"o\">=</span><span class=\"mo\">01</span><span class=\"mi\">97</span><span class=\"n\">b4c8cacafc7e8a76503d42ebc56f8cd2e4dab1d3e8e2918c3f7fc5c44653531f36dae2da6ec48e57ed52b9bdc2acab5ec0d6539fd0fc7d2b66aa32e4a72ba20610c4c5</span><span class=\"p\">;</span> <span class=\"n\">Path</span><span class=\"o\">=/</span>\n\n<span class=\"o\">&lt;!</span><span class=\"n\">DOCTYPE</span> <span class=\"n\">html</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;!--</span><span class=\"p\">[</span><span class=\"k\">if</span> <span class=\"n\">lte</span> <span class=\"n\">IE</span> <span class=\"mi\">9</span><span class=\"p\">]</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">html</span> <span class=\"n\">lang</span><span class=\"o\">=</span><span class=\"s\">\"en\"</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"unsupported_browser\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;!</span><span class=\"p\">[</span><span class=\"n\">endif</span><span class=\"p\">]</span><span class=\"o\">--&gt;</span>\n<span class=\"o\">&lt;!--</span><span class=\"p\">[</span><span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">IE</span><span class=\"p\">)</span><span class=\"o\">|</span><span class=\"p\">(</span><span class=\"n\">gt</span> <span class=\"n\">IE</span> <span class=\"mi\">9</span><span class=\"p\">)]</span><span class=\"o\">&gt;&lt;!--&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">html</span> <span class=\"n\">lang</span><span class=\"o\">=</span><span class=\"s\">\"en\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;!--&lt;!</span><span class=\"p\">[</span><span class=\"n\">endif</span><span class=\"p\">]</span><span class=\"o\">--&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">head</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">meta</span> <span class=\"n\">charset</span><span class=\"o\">=</span><span class=\"s\">\"utf-8\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">meta</span> <span class=\"n\">http</span><span class=\"o\">-</span><span class=\"n\">equiv</span><span class=\"o\">=</span><span class=\"s\">\"X-UA-Compatible\"</span> <span class=\"n\">content</span><span class=\"o\">=</span><span class=\"s\">\"IE=edge\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">meta</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"csrf_token\"</span> <span class=\"n\">content</span><span class=\"o\">=</span><span class=\"s\">\"106377b90dceb592aeb5d437871b8e260675ed93909d1e63ac6009f8173bb3f2\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">title</span><span class=\"o\">&gt;</span><span class=\"n\">Meeting</span> <span class=\"n\">Room</span> <span class=\"n\">Booking</span> <span class=\"n\">System</span><span class=\"o\">&lt;/</span><span class=\"n\">title</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"n\">link</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"jquery/ui/css/jquery-ui.structure.min.css\"</span> <span class=\"n\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/css\"</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"n\">link</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"jquery/ui/css/sunny/jquery-ui.theme.min.css\"</span> <span class=\"n\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/css\"</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"n\">link</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"jquery/datatables/css/jquery.dataTables.min.css\"</span> <span class=\"n\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/css\"</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"n\">link</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"jquery/datatables/css/buttons.dataTables.css\"</span> <span class=\"n\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/css\"</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"n\">link</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"jquery/datatables/css/fixedColumns.dataTables.min.css\"</span> <span class=\"n\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/css\"</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"n\">link</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"jquery/datatables/css/colReorder.dataTables.css\"</span> <span class=\"n\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/css\"</span><span class=\"o\">&gt;</span>\n\n    <span class=\"o\">&lt;</span><span class=\"n\">link</span> <span class=\"n\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"css/mrbs.css.php\"</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/css\"</span><span class=\"o\">&gt;</span>\n        <span class=\"o\">&lt;</span><span class=\"n\">link</span> <span class=\"n\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"n\">media</span><span class=\"o\">=</span><span class=\"s\">\"print\"</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"css/mrbs-print.css.php\"</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/css\"</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;!--</span><span class=\"p\">[</span><span class=\"k\">if</span> <span class=\"n\">IE</span><span class=\"p\">]</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">link</span> <span class=\"n\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"css/mrbs-ie.css\"</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/css\"</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;!</span><span class=\"p\">[</span><span class=\"n\">endif</span><span class=\"p\">]</span><span class=\"o\">--&gt;</span>\n        <span class=\"o\">&lt;</span><span class=\"n\">meta</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"robots\"</span> <span class=\"n\">content</span><span class=\"o\">=</span><span class=\"s\">\"noindex, nofollow\"</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"n\">script</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/javascript\"</span> <span class=\"n\">src</span><span class=\"o\">=</span><span class=\"s\">\"jquery/jquery-3.2.1.min.js\"</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">script</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">script</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/javascript\"</span> <span class=\"n\">src</span><span class=\"o\">=</span><span class=\"s\">\"jquery/jquery-migrate-3.0.0.min.js\"</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">script</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">script</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/javascript\"</span> <span class=\"n\">src</span><span class=\"o\">=</span><span class=\"s\">\"jquery/ui/jquery-ui.min.js\"</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">script</span><span class=\"o\">&gt;</span>\n\n<span class=\"o\">&lt;</span><span class=\"n\">script</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/javascript\"</span><span class=\"o\">&gt;</span>\n  <span class=\"c1\">//&lt;![CDATA[</span>\n    <span class=\"n\">function</span> <span class=\"n\">init</span><span class=\"p\">(</span><span class=\"n\">params</span><span class=\"p\">)</span>\n  <span class=\"p\">{</span>\n  <span class=\"p\">}</span>\n  <span class=\"c1\">//]]&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">script</span><span class=\"o\">&gt;</span>\n\n<span class=\"o\">&lt;</span><span class=\"n\">script</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/javascript\"</span> <span class=\"n\">src</span><span class=\"o\">=</span><span class=\"s\">\"js/functions.js.php?area=2\"</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">script</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">script</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/javascript\"</span> <span class=\"n\">src</span><span class=\"o\">=</span><span class=\"s\">\"js/datepicker.js.php?area=2\"</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">script</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">script</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/javascript\"</span> <span class=\"n\">src</span><span class=\"o\">=</span><span class=\"s\">\"js/general.js.php?area=2\"</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">script</span><span class=\"o\">&gt;</span>\n\n\n\n<span class=\"o\">&lt;!--</span><span class=\"p\">[</span><span class=\"k\">if</span> <span class=\"n\">lte</span> <span class=\"n\">IE</span> <span class=\"mi\">8</span><span class=\"p\">]</span><span class=\"o\">&gt;</span>\n      <span class=\"o\">&lt;</span><span class=\"n\">script</span> <span class=\"n\">src</span><span class=\"o\">=</span><span class=\"s\">\"js/html5shiv.min.js\"</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">script</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;!</span><span class=\"p\">[</span><span class=\"n\">endif</span><span class=\"p\">]</span><span class=\"o\">--&gt;</span>\n\n<span class=\"o\">&lt;</span><span class=\"n\">script</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/javascript\"</span><span class=\"o\">&gt;</span>\n\n<span class=\"c1\">//&lt;![CDATA[</span>\n\n\n<span class=\"err\">$</span><span class=\"p\">(</span><span class=\"n\">window</span><span class=\"p\">).</span><span class=\"n\">on</span><span class=\"p\">(</span><span class=\"err\">'</span><span class=\"n\">load</span><span class=\"err\">'</span><span class=\"p\">,</span> <span class=\"n\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n\n  <span class=\"n\">var</span> <span class=\"n\">args</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"nl\">area</span><span class=\"p\">:</span> <span class=\"sc\">'2'</span><span class=\"p\">,</span>\n              <span class=\"nl\">room</span><span class=\"p\">:</span> <span class=\"sc\">'5'</span><span class=\"p\">,</span>\n              <span class=\"nl\">page</span><span class=\"p\">:</span> <span class=\"err\">'</span><span class=\"mi\">76723</span><span class=\"err\">'</span><span class=\"p\">,</span>\n              <span class=\"nl\">page_date</span><span class=\"p\">:</span> <span class=\"err\">'</span><span class=\"mi\">2019</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">23</span><span class=\"err\">'</span><span class=\"p\">,</span>\n              <span class=\"nl\">isAdmin</span><span class=\"p\">:</span> <span class=\"nb\">false</span><span class=\"p\">};</span>\n    <span class=\"n\">init</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">);</span>\n\n<span class=\"p\">});</span>\n\n\n<span class=\"c1\">//]]&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">script</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">head</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">body</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"non_js 76723\"</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">script</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/javascript\"</span><span class=\"o\">&gt;</span>\n      <span class=\"c1\">//&lt;![CDATA[</span>\n      <span class=\"err\">$</span><span class=\"p\">(</span><span class=\"err\">'</span><span class=\"n\">body</span><span class=\"err\">'</span><span class=\"p\">).</span><span class=\"n\">addClass</span><span class=\"p\">(</span><span class=\"err\">'</span><span class=\"n\">js</span><span class=\"err\">'</span><span class=\"p\">).</span><span class=\"n\">removeClass</span><span class=\"p\">(</span><span class=\"err\">'</span><span class=\"n\">non_js</span><span class=\"err\">'</span><span class=\"p\">);</span>\n      <span class=\"c1\">//]]&gt;</span>\n    <span class=\"o\">&lt;/</span><span class=\"n\">script</span><span class=\"o\">&gt;</span> \n    <span class=\"o\">&lt;</span><span class=\"n\">div</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"unsupported_message\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">header</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"banner simple\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">nav</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">ul</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"company\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"logo\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"http://www.pitt.edu\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">img</span> <span class=\"n\">src</span><span class=\"o\">=</span><span class=\"s\">\"PittLogoSimple.png\"</span> <span class=\"n\">width</span><span class=\"o\">=</span><span class=\"s\">\"55\"</span> <span class=\"n\">height</span><span class=\"o\">=</span><span class=\"s\">\"55\"</span> <span class=\"n\">alt</span><span class=\"o\">=</span><span class=\"s\">\"Pitt\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span> <span class=\"kt\">id</span><span class=\"o\">=</span><span class=\"s\">\"more_info\"</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"http://www.neurobio.pitt.edu\"</span><span class=\"o\">&gt;</span><span class=\"n\">Neurobiology</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">br</span> <span class=\"o\">/&gt;&lt;</span><span class=\"n\">small</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">small</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"http://calendar.neurobio.pitt.edu\"</span><span class=\"o\">&gt;</span><span class=\"n\">calendar</span><span class=\"p\">.</span><span class=\"n\">neurobio</span><span class=\"p\">.</span><span class=\"n\">pitt</span><span class=\"p\">.</span><span class=\"n\">edu</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">small</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">small</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"mrbs\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"index.php\"</span><span class=\"o\">&gt;</span><span class=\"n\">Meeting</span> <span class=\"n\">Room</span> <span class=\"n\">Booking</span> <span class=\"n\">System</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">ul</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">nav</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">header</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"contents\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">p</span><span class=\"o\">&gt;</span><span class=\"n\">Unfortunately</span> <span class=\"n\">your</span> <span class=\"n\">browser</span> <span class=\"n\">isn</span><span class=\"err\">'</span><span class=\"n\">t</span> <span class=\"n\">supported</span> <span class=\"n\">by</span> <span class=\"n\">MRBS</span><span class=\"p\">.</span>  <span class=\"n\">You</span> <span class=\"n\">will</span> <span class=\"n\">need</span> <span class=\"n\">to</span> <span class=\"n\">upgrade</span> <span class=\"n\">to</span> <span class=\"n\">a</span> <span class=\"n\">more</span> <span class=\"n\">recent</span> <span class=\"n\">version</span><span class=\"p\">,</span> <span class=\"n\">or</span> <span class=\"k\">else</span> <span class=\"n\">use</span> <span class=\"n\">another</span> <span class=\"n\">browser</span><span class=\"p\">.</span><span class=\"o\">&lt;/</span><span class=\"n\">p</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">header</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"banner\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">nav</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">ul</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"company\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"logo\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"http://www.pitt.edu\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">img</span> <span class=\"n\">src</span><span class=\"o\">=</span><span class=\"s\">\"PittLogoSimple.png\"</span> <span class=\"n\">width</span><span class=\"o\">=</span><span class=\"s\">\"55\"</span> <span class=\"n\">height</span><span class=\"o\">=</span><span class=\"s\">\"55\"</span> <span class=\"n\">alt</span><span class=\"o\">=</span><span class=\"s\">\"Pitt\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span> <span class=\"kt\">id</span><span class=\"o\">=</span><span class=\"s\">\"more_info\"</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"http://www.neurobio.pitt.edu\"</span><span class=\"o\">&gt;</span><span class=\"n\">Neurobiology</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">br</span> <span class=\"o\">/&gt;&lt;</span><span class=\"n\">small</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">small</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"http://calendar.neurobio.pitt.edu\"</span><span class=\"o\">&gt;</span><span class=\"n\">calendar</span><span class=\"p\">.</span><span class=\"n\">neurobio</span><span class=\"p\">.</span><span class=\"n\">pitt</span><span class=\"p\">.</span><span class=\"n\">edu</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">small</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">small</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"mrbs\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"index.php\"</span><span class=\"o\">&gt;</span><span class=\"n\">Meeting</span> <span class=\"n\">Room</span> <span class=\"n\">Booking</span> <span class=\"n\">System</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">form</span> <span class=\"kt\">id</span><span class=\"o\">=</span><span class=\"s\">\"form_nav\"</span> <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s\">\"get\"</span> <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s\">\"day.php\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"csrf_token\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"106377b90dceb592aeb5d437871b8e260675ed93909d1e63ac6009f8173bb3f2\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"date\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"page_date\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"2019-09-23\"</span> <span class=\"n\">required</span> <span class=\"n\">data</span><span class=\"o\">-</span><span class=\"n\">submit</span><span class=\"o\">=</span><span class=\"s\">\"form_nav\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"submit\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"Go to\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">form</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"help.php?day=23&amp;amp;month=09&amp;amp;year=2019\"</span><span class=\"o\">&gt;</span><span class=\"n\">Help</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"admin.php?day=23&amp;amp;month=09&amp;amp;year=2019\"</span><span class=\"o\">&gt;</span><span class=\"n\">Rooms</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"report.php?day=23&amp;amp;month=09&amp;amp;year=2019\"</span><span class=\"o\">&gt;</span><span class=\"n\">Report</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">label</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"search.php?advanced=1\"</span><span class=\"o\">&gt;</span><span class=\"n\">Search</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">label</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">form</span> <span class=\"kt\">id</span><span class=\"o\">=</span><span class=\"s\">\"header_search\"</span> <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s\">\"post\"</span> <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s\">\"search.php\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"csrf_token\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"106377b90dceb592aeb5d437871b8e260675ed93909d1e63ac6009f8173bb3f2\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"day\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"23\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"month\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"09\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"year\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"2019\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"search\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"search_str\"</span> <span class=\"n\">required</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">form</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">li</span> <span class=\"kt\">id</span><span class=\"o\">=</span><span class=\"s\">\"logon_box\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"\"</span><span class=\"o\">&gt;</span><span class=\"n\">Unknown</span> <span class=\"n\">user</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">form</span> <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s\">\"post\"</span> <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s\">\"admin.php\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"csrf_token\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"106377b90dceb592aeb5d437871b8e260675ed93909d1e63ac6009f8173bb3f2\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"target_url\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"76723?\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"action\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"QueryName\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"submit\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"Log in\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">form</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">ul</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">nav</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">header</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"contents\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">p</span><span class=\"o\">&gt;</span><span class=\"n\">You</span> <span class=\"k\">do</span> <span class=\"n\">not</span> <span class=\"n\">have</span> <span class=\"n\">the</span> <span class=\"n\">necessary</span> <span class=\"n\">rights</span> <span class=\"n\">to</span> <span class=\"n\">view</span> <span class=\"n\">this</span> <span class=\"n\">page</span><span class=\"p\">.</span><span class=\"o\">&lt;/</span><span class=\"n\">p</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">form</span> <span class=\"k\">class</span><span class=\"o\">=</span><span class=\"s\">\"standard\"</span> <span class=\"kt\">id</span><span class=\"o\">=</span><span class=\"s\">\"logon\"</span> <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s\">\"post\"</span> <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s\">\"76723\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"csrf_token\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"106377b90dceb592aeb5d437871b8e260675ed93909d1e63ac6009f8173bb3f2\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"returl\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"target_url\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"76723?\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"action\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"SetName\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">fieldset</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">legend</span><span class=\"o\">&gt;</span><span class=\"n\">Please</span> <span class=\"n\">log</span> <span class=\"k\">in</span><span class=\"o\">&lt;/</span><span class=\"n\">legend</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">label</span> <span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s\">\"Name\"</span> <span class=\"k\">for</span><span class=\"o\">=</span><span class=\"s\">\"username\"</span><span class=\"o\">&gt;</span><span class=\"n\">User</span><span class=\"o\">&lt;/</span><span class=\"n\">label</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"text\"</span> <span class=\"kt\">id</span><span class=\"o\">=</span><span class=\"s\">\"username\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"username\"</span> <span class=\"n\">placeholder</span><span class=\"o\">=</span><span class=\"s\">\"Name\"</span> <span class=\"n\">required</span> <span class=\"n\">autofocus</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">label</span> <span class=\"k\">for</span><span class=\"o\">=</span><span class=\"s\">\"password\"</span><span class=\"o\">&gt;</span><span class=\"n\">Password</span><span class=\"o\">&lt;/</span><span class=\"n\">label</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"password\"</span> <span class=\"kt\">id</span><span class=\"o\">=</span><span class=\"s\">\"password\"</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s\">\"password\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">label</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">label</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">input</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"submit\"</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">\"Log in\"</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">fieldset</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">form</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;/</span><span class=\"n\">body</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">html</span><span class=\"o\">&gt;</span>\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have sent you a private message.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/447/", "title": "#447 E-Mail Message broken?", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,</p>\n<p>this is a quote of an e-mail content:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">An</span> <span class=\"n\">entry</span> <span class=\"n\">has</span> <span class=\"n\">been</span> <span class=\"n\">modified</span><span class=\"p\">,</span> <span class=\"n\">here</span> <span class=\"k\">are</span> <span class=\"n\">the</span> <span class=\"n\">details</span><span class=\"p\">:</span>\n\n<span class=\"n\">view_entry</span><span class=\"p\">.</span><span class=\"n\">php</span><span class=\"o\">?</span><span class=\"n\">id</span><span class=\"o\">=</span><span class=\"mi\">6</span>\n\n\n<span class=\"n\">Brief</span> <span class=\"n\">description</span><span class=\"p\">:</span> <span class=\"n\">Testbestellung</span>\n</pre></div>\n\n\n<p>May you can tell me, how to fix this URL?</p>\n<p>With best regards<br>\nMathias</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You need to set <code>$url_base</code> in your config file.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks, I overlooked it while reading.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/446/", "title": "#446 PHP update for version 1.6.1", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>We have upgrade our PHP from version 5.6.33 to 7.2.15. After finding  the Microsoft drivers for PHP and fixing a sql error. We now have a blank add entry page and veiw entry page.  Just looking for some help with solving this issue as I have not found any solutions yet. Attached you will find our Edit_Entry.php and some images of the issues.</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/446/attachment/edit_entry.PNG\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/446/attachment/edit_entry.PNG/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/446/attachment/edit_entry.PNG\">edit_entry.PNG</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>View_entry image</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Edit_entry.php</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Please update to MRBS 1.7.3, which <strong>does</strong> support PHP 7.2.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>MRBS 1.6.1 came out around 9 months before PHP 7.2 was even released.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/445/", "title": "#445 Scrollable cursors not working", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>This is a bug that doesn't affect any MRBS functionality, as far as I am aware, but is a bug in the DB and DBStatement classes.</p>\n<p>The bug is is that DBStatement-&gt;row ($i) and DBStatement-&gt;row_keyed ($i) ignore the value of $i, and just return rows in the order in which they appear in the query result.  Apart from the code for exporting iCalendars, which has now been fixed (see <a href=\"https://sourceforge.net/p/mrbs/support-requests/1865/\">https://sourceforge.net/p/mrbs/support-requests/1865/</a>), I don't think any MRBS code tries to do anything other than fetch the rows sequentially, so there aren't any defects in MRBS as a result.  However if someone tries to use these methods other than sequentially the results will be unexpected.</p>\n<p>I think there are two problems: (a) PDO::FETCH_ORI_ABS will only work if you \u201cset the PDO::ATTR_CURSOR attribute to PDO::CURSOR_SCROLL when you prepare the SQL statement\u201d (see <a href=\"https://www.php.net/manual/en/pdostatement.fetch.php\" rel=\"nofollow\">https://www.php.net/manual/en/pdostatement.fetch.php</a>), which we\u2019re not doing and (b) that as far as I can see scrollable cursors aren\u2019t supported by the PDO MySQL driver anyway and are just silently ignored.   That said, I couldn\u2019t get them to work with PostgreSQL either: setting the PDO::ATTR_CURSOR attribute to PDO::CURSOR_SCROLL just seemed to give me no rows returned at all from the query.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think when I first saw this behaviour in the MRBS DB abstraction I did consider it a bit odd, as other Db astractions I've used in the past only offer methods to get the <strong>next</strong> row, and don't rely upon the caller to step through the rows they want.</p>\n<p>I'm therefore not surprised that DB drivers (in this case PDO drivers) don't support this random access to query results - after all, the database does generally just return all the rows you ask it to in a very serial way, as I understand it.</p>\n<p>So, I'd agree that we should probably take the 'row' methods in DBStatement and just make them, say:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">-&gt;</span><span class=\"n\">next_row</span><span class=\"p\">()</span>\n<span class=\"o\">-&gt;</span><span class=\"n\">next_row_keyed</span><span class=\"p\">()</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: John Beranek 2019-10-10</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Now fixed in the default branch.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/444/", "title": "#444 WordPress unsets $theme variable", "status": "closed", "labels": "wordpress (1)\n          \n        \n          \n              theme (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><code>auth/cms/wordpress.inc</code> loads <code>wp-load.php</code> from WordPress, which in turn loads <code>wp-settings.php</code>.  <code>wp-settings.php</code> internally sets <code>$theme</code>, and unsets it when done.  The effect is that once MRBS comes back from <code>auth/cms/wordpress.inc</code>, <code>$theme</code> is no longer set and any theme configured in MRBS's <code>config.php.inc</code> is ignored.  The attached patch trivially addresses this issue, but there may very well be other variables similarly affected.</p>\n<p>I half suspect that <code>define('WP_USE_THEMES', false);</code> is supposed to prevent this; if this is indeed the case, then this appears to be a WordPress issue instead.</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n          <a href=\"/p/mrbs/bugs/444/attachment/wp-theme.patch\">wp-theme.patch</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Many thanks for this.  I have now committed the fix to the mrbs_17_branch (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/1766190a4cf64e8cc7efdccbcd1439f0cedacc90/\">176619</a>) and default (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/8e565c9d0bbf6b5ce428910c0607a98cabfe8bcd/\">8e565c</a>) branches.</p>\n<p><code>define('WP_USE_THEMES', false);</code> wasn't supposed to prevent this.  All it does is tell WP not to load a theme.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/443/", "title": "#443 SQL error: Data too long for column 'description'", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Using MRBS 1.8.0, I might have found a possible bug?<br>\nWhen trying to edit the description of a room (edit_room.php), I encounter the PHP error</p>\n<p><code>Uncaught exception 'MRBS\\\\DBException' in /var/www/html/mrbs/lib/MRBS/DB.php at line 109\\nSQLSTATE[22001]: String data, right truncated: 1406 Data too long for column 'description' at row 1</code></p>\n<p>The string I was about to enter had 67 characters. What's the current limit and why so little?<br>\nAnd shouldn't the textbox then be limited to the same number of chars?</p>\n<p>I'd like to add that the error message in the browser could be improved. Right now, it says 'database unavailable'' which sounds more serious than it really is.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The current limit is 60 characters. You can easily change that by changing the length of the description column in the room table.</p>\n<p>Yes, there should be a maxlength attribute on the field and I'll add one in.</p>\n<p>The \"database unavailable\" message is a generic message for any database exception. Normally this will only be if it really is unavailable. Bugs such as this one shouldn't be there! But you can change the message using the $vocab_override config setting.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now added a maxlength attribute in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/a89f844bfb39addbd45e7f9d1525e5f0a5b21cf5/\">a89f84</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Great, thanks!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/442/", "title": "#442 Overlapping bookings cause incorrect table views", "status": "closed", "labels": "None", "priority": "2", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The existence of overlapping bookings causes the tables for day and week views to be laid out incorrectly.  Bookings are rendered as <code>&lt;td&gt;</code> elements with incorrect rowspan attributes, such that bookings that occur later than the overlapped bookings may appear in the wrong column.  In day view, they appear in the wrong room; in week view, they appear on the wrong day.  The table may also have missing or protruding cells.</p>\n<h2 id=\"to-reproduce\">To reproduce</h2>\n<ol>\n<li>Using MRBS 1.5.0, with the default 30-minute resolution\u2026</li>\n<li>Create an area with three rooms (\"Alfa\", \"Bravo\", \"Charlie\").</li>\n<li>Make a booking (\"X\") in Alfa on October 15, 12:00 \u2013 13:00.</li>\n<li>Make a booking (\"Y\") in Bravo on October 15, 13:00 \u2013 14:00.</li>\n<li>Make a booking (\"Z\") in Alfa for 12:00 \u2013\u00a014:00 starting October 1, recurring weekly, ending October 8.</li>\n<li>Edit series, and change the recurrence end date to October 15.  (MRBS 1.5.0 allows this with no warnings.  MRBS 1.7.3 has fixed this conflict-detection bug, and won't allow it.)</li>\n</ol>\n<p>The resulting Day view for October 15 shows:</p>\n<ul>\n<li>A double-booking of X and Z for the 12:00 time slot in room Alfa (which was unfortunately allowed by MRBS 1.5.0, but at least it is correctly rendered).</li>\n<li>A double-booking of X and Z for the 12:30 time slot in Alfa\u2026 but only Z is labelled\u203d</li>\n<li>No indication that room Alfa is still booked for X from 13:00 to 14:00!</li>\n<li>Booking Y looks like it's in room Alfa from 13:00 to 14:00! (But if you click on it, it shows that it's for room Bravo, as it should be.)</li>\n<li>In the column for room Charlie, the 13:00 and 13:30 slots are missing their table cells!</li>\n</ul>\n<p>After upgrading to MRBS 1.7.3, the table remains incorrectly rendered.</p>\n<p>After upgrading to hg rev 5200:1a4495777121 (default branch), the Day view for October 15 is wrong in a different way:</p>\n<ul>\n<li>A double-booking of X and Z for the 12:00 time slot (unfortunate but correctly rendered)</li>\n<li>No booking at all for room Alfa for the 12:30 time slot!</li>\n<li>A continuation of booking Z in room Alfa during time slots 13:00 (correct), 13:30 (correct), and 14:00 (!)</li>\n<li>Booking Y in room Bravo from 13:00 to 14:00 (correct).</li>\n<li>An extra table cell past the right of room Charlie for the 14:00 time slot!</li>\n</ul></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The table layout code was buggy in 1.5.0.  It was revised sometime between 1.5.0 and 1.7.3, and is still buggy.  It has been revised again since 1.7.3 in the default branch, and is buggy in a different way.</p>\n<p>The fundamental problem is that the <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/ec44c6108a97f30e332b9a5daee106ac6e487b92/tree/web/functions_table.inc#l5\"><code>map_add_booking()</code></a> function is too complicated: it's trying to adjust entries to accommodate conflicts while it's building the <code>$column</code> data structure, before all of the entries have been laid out.  Considering all the types of interval overlaps that could occur (A starts in the middle of B, B starts in the middle of A, B resides entirely within A, B and C reside within A, etc.), it's impossible to figure out how to resolve the conflicts on the fly.</p>\n<p>A saner approach would be to fill out all the time slots with the relevant entries, then coalesce the entries that span consecutive time slots.  I've attached patches for MRBS 1.7.3 and for hg rev 5200 that fix the rendering.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  I'll take a look next week.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Here's a PHP page that works with MRBS 1.7.3 that displays future conflicts that went undetected in MRBS 1.5.0.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?php</span>\n\n<span class=\"k\">require_once</span> <span class=\"s2\">\"</span><span class=\"si\">$MRBS_ROOT</span><span class=\"s2\">/defaultincludes.inc\"</span><span class=\"p\">;</span>\n<span class=\"k\">require_once</span> <span class=\"s2\">\"</span><span class=\"si\">$MRBS_ROOT</span><span class=\"s2\">/mrbs_sql.inc\"</span><span class=\"p\">;</span>\n\n<span class=\"nv\">$future</span> <span class=\"o\">=</span> <span class=\"nx\">MRBS\\db</span><span class=\"p\">()</span><span class=\"o\">-&gt;</span><span class=\"na\">query</span><span class=\"p\">(</span><span class=\"s2\">\"</span>\n<span class=\"s2\">    SELECT id</span>\n<span class=\"s2\">        FROM </span><span class=\"si\">$tbl_entry</span><span class=\"s2\"></span>\n<span class=\"s2\">        WHERE start_time &gt;= extract(epoch FROM now())</span>\n<span class=\"s2\">        AND repeat_id IS NOT NULL</span>\n<span class=\"s2\">        ORDER BY start_time;</span>\n<span class=\"s2\">    \"</span><span class=\"p\">,</span> <span class=\"k\">array</span><span class=\"p\">());</span>\n\n<span class=\"nx\">MRBS\\print_header</span><span class=\"p\">();</span>\n<span class=\"k\">echo</span> <span class=\"s2\">\"&lt;ul&gt;</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span><span class=\"p\">;</span>\n<span class=\"k\">while</span> <span class=\"p\">((</span><span class=\"nv\">$id</span> <span class=\"o\">=</span> <span class=\"nv\">$future</span><span class=\"o\">-&gt;</span><span class=\"na\">row_keyed</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">))</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nv\">$id</span> <span class=\"o\">&amp;&amp;</span> <span class=\"p\">(</span><span class=\"nv\">$id</span> <span class=\"o\">=</span> <span class=\"nv\">$id</span><span class=\"p\">[</span><span class=\"s1\">'id'</span><span class=\"p\">]))</span> <span class=\"p\">{</span>\n    <span class=\"nv\">$booking</span> <span class=\"o\">=</span> <span class=\"nx\">MRBS\\get_entry_by_id</span><span class=\"p\">(</span><span class=\"nv\">$id</span><span class=\"p\">);</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nv\">$conflicts</span> <span class=\"o\">=</span> <span class=\"nx\">MRBS\\mrbsCheckFree</span><span class=\"p\">(</span><span class=\"nv\">$booking</span><span class=\"p\">,</span> <span class=\"nv\">$id</span><span class=\"p\">,</span> <span class=\"nv\">$booking</span><span class=\"p\">[</span><span class=\"s1\">'repeat_id'</span><span class=\"p\">]))</span> <span class=\"p\">{</span>\n        <span class=\"k\">echo</span> <span class=\"s2\">\"&lt;li&gt;Series &lt;a href=</span><span class=\"se\">\\\"</span><span class=\"si\">$url_base</span><span class=\"s2\">/view_entry.php?id=</span><span class=\"si\">$id\\</span><span class=\"s2\">\"</span><span class=\"o\">&gt;</span><span class=\"s2\">\"</span>\n<span class=\"s2\">           . htmlspecialchars(</span><span class=\"si\">$booking['name']</span><span class=\"s2\">)</span>\n<span class=\"s2\">           . \"</span><span class=\"o\">&lt;/</span><span class=\"nx\">a</span><span class=\"o\">&gt;</span> <span class=\"nx\">conflicts</span> <span class=\"nx\">with</span><span class=\"o\">:</span><span class=\"nx\">\\n</span><span class=\"s2\">\"</span>\n<span class=\"s2\">           . \"</span><span class=\"o\">&lt;</span><span class=\"nx\">ul</span><span class=\"o\">&gt;</span><span class=\"nx\">\\n</span><span class=\"s2\">\";</span>\n<span class=\"s2\">        foreach (</span><span class=\"si\">$conflicts</span><span class=\"s2\"> as </span><span class=\"si\">$c</span><span class=\"s2\">) {</span>\n<span class=\"s2\">            echo \"</span><span class=\"o\">&lt;</span><span class=\"nx\">li</span><span class=\"o\">&gt;</span><span class=\"nv\">$c</span><span class=\"o\">&lt;/</span><span class=\"nx\">li</span><span class=\"o\">&gt;</span><span class=\"nx\">\\n</span><span class=\"s2\">\";</span>\n<span class=\"s2\">        }</span>\n<span class=\"s2\">        echo \"</span><span class=\"o\">&lt;/</span><span class=\"nx\">ul</span><span class=\"o\">&gt;&lt;/</span><span class=\"nx\">li</span><span class=\"o\">&gt;</span><span class=\"nx\">\\n</span><span class=\"s2\">\";</span>\n<span class=\"s2\">    }</span>\n<span class=\"s2\">}</span>\n<span class=\"s2\">echo \"</span><span class=\"o\">&lt;/</span><span class=\"nx\">ul</span><span class=\"o\">&gt;</span><span class=\"nx\">\\n</span><span class=\"s2\">\";</span>\n<span class=\"s2\">unset(</span><span class=\"si\">$future</span><span class=\"s2\">);</span>\n<span class=\"s2\">MRBS\\print_footer();</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Many thanks.  I've now committed the fix to the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/897823e5b8f5102687e7ad12f34fb16b47d7fbab/\">897823</a>.  I haven't yet decided whether to commit the mrbs_17_branch patch.   I may leave it for the moment and if anybody sufffers from this bug they can upgrade to the default branch.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2019-10-07</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/441/", "title": "#441 Undefined index: tentative", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>We are using MRBS 1.7.3.</p>\n<p>I found this entry in /var/log/httpd/ssl_error_log.<br>\n  E_NOTICE in /.../functions_ical.inc at line 888<br>\n  Undefined index: tentative</p>\n<p>I can reappearance it that click \"Export Entry\" button<br>\nin view_entry.php page.</p>\n<p>Line 888 in functions_ical.inc is bellow,<br>\n$results[] = \"STATUS:\" . (($data<span>['tentative']</span>) ? \"TENTATIVE\" : \"CONFIRMED\");</p>\n<p>I fixed it that added under line before line 888,<br>\nunpack_status($data); </p>\n<p>Thanks,</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spoitting this.   I have now fixed it (though slightly differently) in the mrbs_17_branch (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/c2bce890cbd43c0345132182443c617ab8326361/\">c2bce8</a>) and default (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/3b70e61097f12409373063873a7baed31c712efb/\">3b70e6</a>) branches.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/440/", "title": "#440 Timezone data no longer updated, produces warning (fix inside)", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I've been receiving these warnings for a few months now:</p>\n<p>MRBS: <a href=\"http://tzurl.org/zoneinfo-outlook/Europe/Berlin\" rel=\"nofollow\">http://tzurl.org/zoneinfo-outlook/Europe/Berlin</a> did not contain a valid VTIMEZONE</p>\n<p>This is because the above URL now leads to an HTTP redirect which cURL is not configured to honor. This can be easily achieved by adding the following line about line 50ff. of web/functions_ical.inc:</p>\n<p>curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE);</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Many thanks for the fix.  I'd spotted the same errors myself but hadn't got around to investigating them.  The fix has now been committed to the default branch (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/0f4e02b3672c3aa93874ab9c003c3f0136512382/\">04fe02</a>) and also the mrbs_17_branch (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/a704a90d9a993c19708bb46631fca0607438dbbf/\">a704a9</a>).</p>\n<p>Thanks again.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in MRBS 1.8.0.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/439/", "title": "#439 URL not found if clicking timeslot before logging in", "status": "open", "labels": "None", "priority": "4", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><ol>\n<li>User visits MRBS site that uses CAS logins</li>\n<li>User clicks a timeslot to book a meeting, gets Access Denied message</li>\n<li>User clicks the Login in button, goes to the proper CAs login page for the CAS provider, puts in proper credentials</li>\n<li>User gets taken to the entry form for the timeslot they picked, fills out form and clicks the \"Save\" button</li>\n<li>User gets this message:  Not Found, The requested URL /login;jsessionid=CF05D3447A178D55D86D8CEC2C370FA1 was not found on this server.</li>\n<li>Reservation still goes through, admins get email</li>\n<li>If a user logs in BEFORE attempting to book a timeslot, everything goes fine after clicking save</li>\n<li>But if a user clicks the timeslot first, and then logs in, entry form breaks</li>\n</ol></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Unfortunately I don't have a CAS server to test against. Is there any chance you could grant me an MRBS login on your CAS server and send me via private message the MRBS login and CAS server details? If you aren't able to then I quite understand and I'll see if I can figure out another way of debugging this.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The CAS servers in use at Rutgers are outside my control and I'm unable to set you up.</p>\n<p>Maybe you could see if this same failure happens with other authentication methods?  Apache doesn't kick out any useful errors and if the user just visits the URL of my site manually after they are back in.  The reservation they attempted to book works as well, it just appears to be some kind of redirect error when you hit that save button.</p>\n<p>I can also tell you that in the steps I sent earlier, it's worth noting that once someone logs in it takes you to the entry form instead of the home page.  That may be the place to start, have the login always bring you to the home page and the user starts fresh again.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-10-11</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>If you're going to investigate this any further yourself, I'd suggest you look at the HTML source code of the CAS login page, and look for any form fields which look to hold something which looks like a redirect URL. Paste that URL here (with internal/private parts obfuscated if you like)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/438/", "title": "#438 Incorrect color of confirmed schedule", "status": "closed", "labels": "None", "priority": "9", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When you set a room to be booked and it's confirmed, the color in the calendar view is green, whereas the legend at the bottom of the calendar states that green (td class = \"I\") is tentative, teal (td class = \"E\") is confirmed. When a room is tentatively booked, it has a light green color (td class = \"I tentative writable\"). Not a biggie by any means, but wanted to share.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><blockquote>\n<p>whereas the legend at the bottom of the calendar states that green (td class = \"I\") is tentative, teal (td class = \"E\") is confirmed.</p>\n</blockquote>\n<p>It actually says that green is type Internal and teal External.   I think that what you mean is that when a booking is tentative it goes to light green for Internal and light teal for External.   Opacity is used by MRBS to modify the colours fot tentative bookings.</p>\n<p>We could expand the colour key to show the difference between confirmed and tentative bookings if you think it worth it?  The downside is it would clutter up the screen, but we could make it a config option for those that don't want it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/437/", "title": "#437 Missing Permissions when no administrator", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have a fresh 1.7.3 installation using ldap backend.</p>\n<p>Authentication works fine but I always receive the $vocab<span>[\"norights\"]</span> message. Tweaking the LDAP authentication authGetUserLevel() function  to always return   </p>\n<p>$user_levels<span>[$user]</span> = 2;</p>\n<p>Everything works as expected but of course everyon has administator permissions.</p>\n<p>Tweaking it to always return 1 I receive the same no permissions message.</p>\n<p>Do I miss something or is this indeed a bug?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Some questions:</p>\n<ol>\n<li>Is this when you login as an admin, or as an ordinary user? </li>\n<li>How are you defining admins?  Using the config file or $ldap_admin_group_dn?</li>\n<li>Which page gives you the \"norights\" message?</li>\n<li>What have you got $auth<span>['session']</span> set to?</li>\n</ol></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry fot the late response:</p>\n<ol>\n<li>This happens when I login as an ordinary user. Admin Users works fine</li>\n<li>I'm using the config file</li>\n<li>This happens to every page, right after the login i reiceive this message</li>\n<li>This is set to cookie.</li>\n</ol>\n<p>Please let me know if I can provide any further  details.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>What happens if you set $auth<span>['session']</span> to 'php'?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>There's one way I can see this behaviour happening and that is if <code>$_SERVER['PHP_SELF']</code> is not set or is empty on your system.   Can you run the attached test program to check please?   It should output 'test.php'.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Changing $auth<span>['session']</span> to 'php' didn't solve the issue.</p>\n<p>Running the test.php program I reveive the test.php output:</p>\n<p>root@mbrs:/var/www/html/web# sudo -u www-data php ./test.php<br/>\ntest.phproot@mbrs:/var/www/html/web# </p>\n<p>Theres one thing I missed to tell:<br/>\nThis is running on a php7 installation, could it have something to do with this?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No, I don't think it is to do with PHP 7. I think it is to do with <code>$_SERVER</code>. What happens when you run the test program in a browser rather than from the command line? </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This results in  </p>\n<p>Fatal error: Uncaught Error: Call to undefined function is_cli() in /var/www/html/web/test.php:7 Stack trace: #0 /var/www/html/web/test.php(18): this_page() #1 {main} thrown in /var/www/html/web/test.php on line 7</p>\n<p>I guess this has something todo with an sourcing error since is_cli() is not a core function, right? Sorry, php is not my strong suite. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry, here's another test program.  Could you run it in the browser and let me know what the output is please?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The fact that you got an error in the first test program shows that <code>$_SERVER['PHP_SELF']</code> is not set, which is what is causing the authentication problem.    The second test program will tell us if there are any other <code>$_SERVER</code> variables which could be used instead.  If so, then I can produce a fix for you.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hey there,</p>\n<p>This is the output I receive:</p>\n<p>$_SERVER<span>[\"ORIG_PATH_INFO\"]</span>: NULL<br/>\n$_SERVER<span>[\"URL\"]</span>: NULL<br/>\n$_SERVER<span>[\"SCRIPT_NAME\"]</span>: test2.php<br/>\n$_SERVER<span>[\"SCRIPT_FILENAME\"]</span>: test2.php<br/>\n$_SERVER<span>[\"REQUEST_URI\"]</span>: test2.php<br/>\n$_SERVER<span>[\"PATH_TRANSLATED\"]</span>: NULL<br/>\n$_SERVER<span>[\"PHP_SELF\"]</span>: </p>\n<p>so yes, you are right, the variable is empty. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Try using this version of grab_globals.inc.php which I hope should fix the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now commited this change to the mrbs_17_branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/bdb72a9768a7a9ad57dca8c930e4b9f827e3508f/\">bdb72a</a> and also made a similar fix in the default branch.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks a lot for your help!</p>\n<p>Using this grab_globals.inc.php seems to  provide all Information without beeing logged in at all...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Are you still using your modified mrbs_auth.inc?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No I changed it back before testing the new grab_globals.inc.php. Everything should be back to stock.</p>\n<p>I did not play around that much, theres just this line I added in lin 570 to auth_ldap.inc:</p>\n<p>559   elseif (authLdapIsAdmin($user))<br/>\n560   {<br/>\n561     $level = 2;<br/>\n562   }<br/>\n563   else  // Everybody else is access level '1'<br/>\n564   {<br/>\n565     $level = 1;<br/>\n566   }<br/>\n567 <br/>\n568   $user_levels<span>[$user]</span> = $level;<br/>\n569   // debug <br/>\n570   $user_levels<span>[$user]</span> = 2;<br/>\n571 <br/>\n572   return $user_levels<span>[$user]</span>;</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Strange.   Can you try clearing your browser cache please, or else using another browser?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>And that line </p>\n<div class=\"codehilite\"><pre><span></span>$user_levels[$user] = 2;\n</pre></div>\n<p>has now been put back to</p>\n<div class=\"codehilite\"><pre><span></span>$user_levels[$user] = $level;\n</pre></div>\n<p>?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thats of course what I did. In fact I just removed that line to get back the intended behaviour.</p>\n<p>I tried clearing the cache, using a different browser and the incognito mode. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Just to be absolutely sure, can you try using the standard auth_ldap.inc attached?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>When you say that all information is provided without being logged in, what do you mean?  Can you make a booking without being logged in?   Can you create a room without being logged in?  Or do you just mean that you can see the existing bookings in the calendar views?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2019-04-03</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Well this could be the right hint.</p>\n<p>Without beeing logged in I see the calendar, rooms etc.  But trying anything else I have to login.<br/>\nSo I think this is the expected behaviour? <br/>\nI assumed you cannot see any calendar without beeing logged in because this is what I saw before patching the grab_globals.inc.php.</p>\n<p>Okay, this is just a minor issue. Is it possible to configure mrbs to show no calendar wihout beeing logged in?</p>\n<p>But anyway, I think this is finally closed! Thanks a lot for your help! </p>\n<p>Best regards,<br/>\nPLanB2008</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, that's the way MRBS behaves.  But if you want users to have to login before seeing anything then set the following in your config file:</p>\n<div class=\"codehilite\"><pre><span></span>$auth['deny_public_access'] = true;\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2019-04-03</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Incidentally, although the patched version of MRBS should work on your system, it might be worth investigating why <code>$_SERVER['PHP_SELF']</code> is empty on your server.  It could affect the operation of other applications.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/436/", "title": "#436 CAS Login Requires Clicking Log In Button Twice", "status": "open", "labels": "CAS (3)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>We have tried changing our current install of MRBS to use CAS authentication, but something seems to be wrong. The first time a user clicks Log In, they are redirected to the CAS server, but when they are sent back to MRBS, they aren't actually logged in. When they click Log In a second time, then they are logged in. </p>\n<p>Has anyone seen this? If not, I can help troubleshoot, but I am not sure what to look for.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Accidentaly posted as anon - this was me.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which release of MRBS are you using?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>1.7.3</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Unfortunately I don't have a CAS server to test against.  Is there any chance you could grant me an MRBS login on your CAS server and send me via private message the MRBS login and CAS server details?   If you aren't able to then I quite understand and I'll see if I can figure out another way of debugging this (probably by asking you to insert debug code).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I tracked it down to something that might be specific to our CAS server, but it might be possible to fix it in MRBS. Our CAS server isn't returning a ticket under some circumstances (and we are fixing that). When this happens, most of our services just retry and get the CAS ticket the second time, and some others just show an error that they did not get a ticket back. I am not sure how to make MRBS do either of those things.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm not sure we can do much in MRBS, though it might be possible.  We use the <a class=\"\" href=\"https://github.com/apereo/phpCAS\" rel=\"nofollow\">phpCAS</a> library and just call phpCAS::forceAuthentication().  I don't see any options for retrying etc. and I suspect that any retries would have to be handled by the phpCAS library.</p>\n<p>Do you know what your other services are using for accessing the CAS server?   And have you tried setting</p>\n<div class=\"codehilite\"><pre><span></span>$auth['cas']['debug'] = true;\n</pre></div>\n<p>in the config file to get some more information about what's going on?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>We never figured this out, but it seems to be resolved and there are different CAS server issues now. Will open a new ticket.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/435/", "title": "#435 External Booking Changed to CLOSED", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi there! <br>\nMy external event on 2018 suddenly changed to <strong>CLOSED</strong>. Anyone can help how to fix and make all the booking history back? Thank you</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/435/attachment/MRBS%20Problem.PNG\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/435/attachment/MRBS%20Problem.PNG/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/435/attachment/MRBS%20Problem.PNG\">MRBS Problem.PNG</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Somebody must have edited your bookings, either via MRBS or directly in the database tables.   The only ways you can get your old bookings back are (1) by restoring your database backups, if you have any or (2) b y looking at your email notifications, if they were enabled.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thankss. But no one has edited the event desc or content. And suddenly it changed for all the external event on 2018, nothing left. Any others solution??</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I don't see how MRBS could have done this.   The word 'CLOSED' does not appear in MRBS.   O think it must have been caused by someone changing your data. Have a look at the 'create_by' , 'modified_by'' and 'timestamp' fields for the bookings to see if you can work out who might have changed them and when.</p>\n<p>Which version of MRBS are you using?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi thank you. i just check the last updated on each event, and there are no changes since the first booking (day before event held).  Please see the attached sample of reports.</p>\n<p>I use MRBS 1.6.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Have you got email notifications turned on so that you can look at the email notifications to see when it was changed?     Do you have backups of your database?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No, unfortunately my email notif turned off so we cannot check who's updating the content. And we have no backup database for sure.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Have you looked at the \"modified_by\" field to see if anybody has modified the entries?   Click on an entry to go to the view_entry page.</p>\n<p>The other thing that occurs to me is that somebody on your site might have modified MRBS so that entries in the past are displayed as 'CLOSED'.   It would be interesting to check the entries using phpMyAdmin to see if they also say 'CLOSED' in the database.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/434/", "title": "#434 $skip_default=true: no effect", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have set $skip_default=true; and added it to my config.inc.php file.</p>\n<p>However the \"Skip past conflicts\" box is not checked on edit_entry.php</p>\n<p>I searched the bugs forum for \"skip default\" and \"skip conflicts\" and did not see any other report on this. Thanks.</p>\n<p>My setup---<br>\nMRBS version    MRBS 1.7.3<br>\n$auth<span>['type']</span>   db<br>\n$auth<span>['session']</span>    php<br>\nDatabase    MySQL 5.6.41-84.1-log<br>\nSystem  Linux x86_64<br>\nServer time Thu 14 Feb 2019 07:22:32 PM EST<br>\nServer software Apache/2<br>\nPHP 5.6.30</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think you need to add the line</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">global $skip_default;</span>\n</pre></div>\n<p>at the top of the function get_field_skip_conflicts() in edit_entry.php, ie just after 954.</p>\n<p>I'll test it and check in a fix later.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, that fixes it.  I've committed it in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/155767f5c79f526bd248244cb152087769ac1adf/\">155767</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/433/", "title": "#433 complex custom field but facing problem", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have added a custom field to the user table, and I named it \"technician\"  tinyint(1) and it's become check mark and it's working fine.</p>\n<p>after that, I make SQL query in the config file to produce an array of technicians and add them to select options.</p>\n<p>its working fine but the problem is its printing the technician name plus array key, check the attached image</p>\n<p>and I want also to prevent users to see these options, I want only the admins can see these options while they approve the reservation.</p>\n<p>I am using the latest version</p>\n<p>Regards</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/433/attachment/mrbs.jpg\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/433/attachment/mrbs.jpg/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/433/attachment/mrbs.jpg\">mrbs.jpg</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>this is the code I have added to the config file</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">$</span><span class=\"nt\">sql</span> <span class=\"o\">=</span> <span class=\"s1\">'SELECT name FROM mrbs_users WHERE technician=1'</span><span class=\"o\">;</span>\n\n<span class=\"nt\">mysql_select_db</span><span class=\"o\">($</span><span class=\"nt\">db_database</span><span class=\"o\">);</span>\n<span class=\"o\">$</span><span class=\"nt\">retval</span> <span class=\"o\">=</span> <span class=\"nt\">mysql_query</span><span class=\"o\">(</span> <span class=\"o\">$</span><span class=\"nt\">sql</span><span class=\"o\">,</span> <span class=\"o\">$</span><span class=\"nt\">ccoonn</span> <span class=\"o\">);</span>\n<span class=\"nt\">if</span><span class=\"o\">(!</span> <span class=\"o\">$</span><span class=\"nt\">retval</span> <span class=\"o\">)</span>\n<span class=\"p\">{</span>\n  <span class=\"err\">die('Could</span> <span class=\"err\">not</span> <span class=\"err\">get</span> <span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"err\">'</span> <span class=\"o\">.</span> <span class=\"nf\">mysql_error</span><span class=\"p\">());</span>\n<span class=\"p\">}</span>\n<span class=\"o\">$</span><span class=\"nt\">technicians</span> <span class=\"o\">=</span> <span class=\"nt\">array</span><span class=\"o\">();</span>\n<span class=\"nt\">while</span><span class=\"o\">($</span><span class=\"nt\">row</span> <span class=\"o\">=</span> <span class=\"nt\">mysql_fetch_ASSOC</span><span class=\"o\">($</span><span class=\"nt\">retval</span><span class=\"o\">))</span>\n<span class=\"p\">{</span>\n<span class=\"err\">$technicians</span> <span class=\"cp\">[]</span> <span class=\"err\">=</span> <span class=\"err\">$row</span> <span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"o\">$</span><span class=\"nt\">select_options</span><span class=\"cp\">[</span><span class=\"s1\">'entry.technician_name'</span><span class=\"cp\">]</span> <span class=\"o\">=</span> <span class=\"o\">$</span><span class=\"nt\">technicians</span><span class=\"o\">;</span>\n\n<span class=\"nt\">mysql_close</span><span class=\"o\">($</span><span class=\"nt\">ccoonn</span><span class=\"o\">);</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The problem is that you are not creating a simple array, which is what I think you want, but an array of associative arrays, which MRBS treats as option groups in the select element.</p>\n<p>Instead of </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$technicians [] = $row ;</span>\n</pre></div>\n<p>you want</p>\n<div class=\"codehilite\"><pre><span></span>$technicians[] = $row['name'];\n</pre></div>\n<p>The other thing to note is that the <code>mysql_</code> functions are deprecated as of PHP 5.5.0 and removed as of PHP 7.0.0.  You should instead use mysqli or PDO.   The easiest thing to do would be to make use of MRBS's database abstraction class - look at how some other database queries are handled in MRBS - but to do this you will need to wait until they are available.   I'd suggest creating your own file called, for example, 'myconfig.inc', adding a <code>require_once 'myconfig.inc'</code> to the bottom of defaultincludes.inc and then putting your code to populate <code>$select_options['entry.technician_name']</code> in myconfig.inc.   It would look something like</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?php</span>\n<span class=\"nv\">$sql</span> <span class=\"o\">=</span> <span class=\"s2\">\"SELECT name FROM </span><span class=\"si\">$tbl_users</span><span class=\"s2\"> WHERE technician=1\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$select_options</span><span class=\"p\">[</span><span class=\"s1\">'entry.technician_name'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">db</span><span class=\"p\">()</span><span class=\"o\">-&gt;</span><span class=\"na\">query_array</span><span class=\"p\">(</span><span class=\"nv\">$sql</span><span class=\"p\">);</span>\n</pre></div>\n<p>And that's all the code you'd need (though I haven't tested it).    Note that I have used <code>$tbl_users</code> instead of <code>mrbs_users</code> as that will cater for changes in the table prefix.  You might also want to order your array by changing your query to </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?php</span>\n<span class=\"nv\">$sql</span> <span class=\"o\">=</span> <span class=\"s2\">\"SELECT name FROM </span><span class=\"si\">$tbl_users</span><span class=\"s2\"> WHERE technician=1 ORDER BY name\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$select_options</span><span class=\"p\">[</span><span class=\"s1\">'entry.technician_name'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">db</span><span class=\"p\">()</span><span class=\"o\">-&gt;</span><span class=\"na\">query_array</span><span class=\"p\">(</span><span class=\"nv\">$sql</span><span class=\"p\">);</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2019-02-03</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>PS This isn't an MRBS bug.  It would be better to raise future such questions as Support Requests.   Thanks.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>To answer your last question, if you only want admins to be able to see the technician field on the edit_entry form, then you'll have to edit edit_entry.php and change line 1713 from:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">      $fieldset-&gt;addElement(get_field_custom($key));</span>\n</pre></div>\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">      if ($is_admin || ($key != 'technician_name'))</span>\n<span class=\"x\">      {</span>\n<span class=\"x\">        $fieldset-&gt;addElement(get_field_custom($key));</span>\n<span class=\"x\">      }</span>\n<span class=\"x\">      else</span>\n<span class=\"x\">      {</span>\n<span class=\"x\">        if ((isset($custom_fields[$key]))</span>\n<span class=\"x\">        {</span>\n<span class=\"x\">          $form-&gt;addHiddenInput(VAR_PREFIX . $key, $custom_fields[$key]);</span>\n<span class=\"x\">        }</span>\n<span class=\"x\">      }</span>\n</pre></div>\n<p>Ideally you'd also add some code in edit_entry_handler.php to guard against users changing the hidden input on the form.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Great<br/>\nworking fine, thanks mate</p>\n<p>and sorry for posting in the wrong section :)</p>\n<p>I found an extra bracket placed incorrectly in your last code</p>\n<div class=\"codehilite\"><pre><span></span>      if ($is_admin || ($key != 'technician_name'))\n      {\n        $fieldset-&gt;addElement(get_field_custom($key));\n      }\n      else\n      {\n        if (isset($custom_fields[$key])) // here\n        {\n          $form-&gt;addHiddenInput(VAR_PREFIX . $key, $custom_fields[$key]);\n        }\n      }\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I search in edit_entry_handler.php</p>\n<p>but I couldn't find where I have to prevent users from showing the hidden input.<br/>\nand I logged in as a user and inspect the page and didn't find hidden input, I think it's working fine \"what do you think?\"</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It depends on (a) how tech-savvy you think your users are and (b) the impact if they do manage to change the technician name.</p>\n<p>If you do want to put in a check then you should add the following code at line 435 of edit_entry_handler.php, ie at the beginning of the <code>if (isset($id))</code> block:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">  if (!$is_admin)</span>\n<span class=\"x\">  {</span>\n<span class=\"x\">    // Make sure the technician name hasn't been altered by the user</span>\n<span class=\"x\">    $custom_fields['technician_name'] = db()-&gt;query1(\"SELECT technician_name FROM $tbl_entry WHERE id=? LIMIT 1\", array($id));</span>\n<span class=\"x\">  }</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Do you mean like this?</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">if</span> <span class=\"o\">(</span><span class=\"nt\">isset</span><span class=\"o\">($</span><span class=\"nt\">id</span><span class=\"o\">))</span>\n<span class=\"p\">{</span>\n  <span class=\"err\">if</span> <span class=\"err\">(!$is_admin)</span>\n  <span class=\"err\">{</span>\n    <span class=\"err\">//</span> <span class=\"err\">Make</span> <span class=\"err\">sure</span> <span class=\"err\">the</span> <span class=\"err\">technician</span> <span class=\"err\">name</span> <span class=\"err\">hasn't</span> <span class=\"err\">been</span> <span class=\"err\">altered</span> <span class=\"err\">by</span> <span class=\"err\">the</span> <span class=\"err\">user</span>\n    <span class=\"err\">$custom_fields</span><span class=\"cp\">[</span><span class=\"s1\">'technician_name'</span><span class=\"cp\">]</span> <span class=\"err\">=</span> <span class=\"err\">db()-&gt;query1(\"SELECT</span> <span class=\"err\">technician_name</span> <span class=\"err\">FROM</span> <span class=\"err\">$tbl_entry</span> <span class=\"err\">WHERE</span> <span class=\"err\">id=?</span> <span class=\"err\">LIMIT</span> <span class=\"err\">1\",</span> <span class=\"err\">array($id))</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n  <span class=\"o\">//</span> <span class=\"nt\">Editing</span> <span class=\"nt\">an</span> <span class=\"nt\">existing</span> <span class=\"nt\">booking</span><span class=\"o\">:</span> <span class=\"nt\">get</span> <span class=\"nt\">the</span> <span class=\"nt\">room_id</span> <span class=\"nt\">from</span> <span class=\"nt\">the</span> <span class=\"nt\">database</span> <span class=\"o\">(</span><span class=\"nt\">you</span> <span class=\"nt\">can</span><span class=\"err\">'</span><span class=\"nt\">t</span>\n  <span class=\"o\">//</span> <span class=\"nt\">get</span> <span class=\"nt\">it</span> <span class=\"nt\">from</span> <span class=\"o\">$</span><span class=\"nt\">rooms</span> <span class=\"nt\">because</span> <span class=\"nt\">they</span> <span class=\"nt\">are</span> <span class=\"nt\">the</span> <span class=\"nt\">new</span> <span class=\"nt\">rooms</span><span class=\"o\">)</span>\n  <span class=\"o\">$</span><span class=\"nt\">target_room</span> <span class=\"o\">=</span> <span class=\"nt\">db</span><span class=\"o\">()</span><span class=\"nt\">-</span><span class=\"o\">&gt;</span><span class=\"nt\">query1</span><span class=\"o\">(</span><span class=\"s2\">\"SELECT room_id FROM $tbl_entry WHERE id=? LIMIT 1\"</span><span class=\"o\">,</span> <span class=\"nt\">array</span><span class=\"o\">($</span><span class=\"nt\">id</span><span class=\"o\">));</span>\n  <span class=\"nt\">if</span> <span class=\"o\">($</span><span class=\"nt\">target_room</span> <span class=\"o\">&lt;</span> <span class=\"nt\">0</span><span class=\"o\">)</span>\n  <span class=\"p\">{</span>\n    <span class=\"err\">//</span> <span class=\"err\">Ideally</span> <span class=\"err\">we</span> <span class=\"err\">should</span> <span class=\"err\">give</span> <span class=\"err\">more</span> <span class=\"err\">feedback</span> <span class=\"err\">to</span> <span class=\"err\">the</span> <span class=\"err\">user</span> <span class=\"err\">when</span> <span class=\"err\">this</span> <span class=\"err\">happens,</span> <span class=\"err\">or</span>\n    <span class=\"err\">//</span> <span class=\"err\">even</span> <span class=\"err\">lock</span> <span class=\"err\">the</span> <span class=\"err\">entry</span> <span class=\"err\">once</span> <span class=\"err\">a</span> <span class=\"err\">user</span> <span class=\"err\">starts</span> <span class=\"err\">to</span> <span class=\"err\">edit</span> <span class=\"err\">it.</span>\n    <span class=\"err\">$message</span> <span class=\"err\">=</span> <span class=\"err\">\"Tried</span> <span class=\"err\">to</span> <span class=\"err\">edit</span> <span class=\"err\">an</span> <span class=\"err\">entry</span> <span class=\"err\">that</span> <span class=\"err\">no</span> <span class=\"err\">longer</span> <span class=\"err\">exists</span> <span class=\"err\">-</span> <span class=\"err\">probably</span> <span class=\"err\">because</span> <span class=\"err\">\"</span> <span class=\"err\">.</span>\n               <span class=\"err\">\"somebody</span> <span class=\"err\">else</span> <span class=\"err\">has</span> <span class=\"err\">deleted</span> <span class=\"err\">it</span> <span class=\"err\">in</span> <span class=\"err\">the</span> <span class=\"err\">meantime.\"</span><span class=\"p\">;</span>\n    <span class=\"err\">trigger_error($message,</span> <span class=\"err\">E_USER_NOTICE)</span><span class=\"p\">;</span>\n    <span class=\"err\">header(\"</span><span class=\"n\">Location</span><span class=\"p\">:</span> <span class=\"err\">$</span><span class=\"n\">returl</span><span class=\"err\">\"</span><span class=\"p\">);</span>\n    <span class=\"err\">exit</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"err\">}</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/432/", "title": "#432 1.6.1 to 1.7.3", "status": "closed", "labels": "None", "priority": "9", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I was looking to move data from our MRBS install (1.6.1) to a new install 1.7.3. I get to the upgrade screen and it upgrades database versions until version 56 where it fails with this error:</p>\n<div class=\"codehilite\"><pre><span></span>Upgrading to database version: 56Uncaught exception 'MRBS\\DBException' in C:\\inetpub\\wwwroot\\mrbs\\lib\\MRBS\\DB.php at line 185\n SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'mrbs_sessions' already exists\n SQL: CREATE TABLE mrbs_sessions( id varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL, access int unsigned DEFAULT NULL, data text CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL, PRIMARY KEY (id), KEY idxAccess (access)) ENGINE=InnoDB DEFAULT CHARSET=utf8\n Params: Array\n (\n )\n\n#####  #0 C:\\inetpub\\wwwroot\\mrbs\\upgrade.inc(168): MRBS\\DB-&gt;query('\\nCREATE TABLE m...')\n#####  #1 C:\\inetpub\\wwwroot\\mrbs\\upgrade.inc(67): MRBS\\upgrade_database(false, '55', 59, Object(MRBS\\DB_mysql))\n#####  #2 C:\\inetpub\\wwwroot\\mrbs\\defaultincludes.inc(33): require_once('C:\\\\inetpub\\\\wwwr...')\n#####  #3 C:\\inetpub\\wwwroot\\mrbs\\index.php(9): require('C:\\\\inetpub\\\\wwwr...')\n#####  #4 {main}\n MRBS GET: Array\n (\n )\n MRBS POST: Array\n (\n     [csrf_token] =&gt; 1c140eb9d314f345f513c1d415d39036a828b4e612653cf2cb5be8231e296471\n     [form_username] =&gt; xxxx\n     [form_password] =&gt; xxxx\n )\n MRBS SESSION: Array\n (\n     [csrf_token] =&gt; 1c140eb9d314f345f513c1d415d39036a828b4e612653cf2cb5be8231e296471\n )\n</pre></div>\n\n\n<p>I did turn off display_errors in the php.ini file because I saw that in another post, but that didnt resolve the issue, unless I did something out of order after I turned that off.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I also wanted to note that if I delete the sessions table I then get an error saying it couldnt start sessions</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Strange.  I've just tried to reproduce this by installing 1.6.1 and then upgrading to 1.7.3 and I can't.  I'll have to have a think about what might be going wrong.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>So then maybe my steps were wrong. Ive tried it a bunch of ways, but what were your exact upgrade procedures?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Are you sure you had 1.6.1 installed originally?   Upgrading from 1.6.1 to 1.7.3 should take you from version 49 to 59.   But I see from the stacktrace above that you are going from 55 to 59.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The upgrade procedure is </p>\n<ol>\n<li>Back up your database and web folder</li>\n<li>Upload/copy the contents of the 1.7.3 web folder to your server, overwriting your existing folder</li>\n<li>Launch MRBS and then enter your database username and password when prompted.</li>\n</ol>\n<p>You shouldn't alter the database yourself - MRBS will do it all for you.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>So I guess technically not. Version 1.6.1 is the version installed on the other webserver. The new webserver had nothing installed on it. So I installed 1.7.3 and then migrated the database over. Which results in the could not start sessions error. I dont even get to see the db upgrade login prompt.</p>\n<p>Also when I create the sessions table using the create query in the tables.my.sql file I get to the db upgrade login prompt, and it starts at 49 and upgrades to 55, then errors on 56 because the sessions table was created</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>When you say you installed 1.7.3, did you just install the contents of the web folder, or did you also do something with the database?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think what you need to do if you want to move from one webserver to the other and upgrade is do these things separately.   So first of all move your 1.6.1 database and web folder to the new server and check it's working as a 1.6.1 system.    Then upgrade the new server to 1.7.3 as described above.  (I am assuming the two web servers you different MySQL servers).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Copied the contents of the web folder, but I got it working.</p>\n<p>I dropped the mrbs database on the new server to start fresh. Copied over the web folder from the other server and migrated the database. I was getting a MRBS server configuration file issue. I found out that the directory has to be manually created a writable, so once I did that I got the old version working on the new server. After that, I copied the 1.7.3 files over top of the 1.6.1 files and it all upgraded just fine. So I think that error above is related to my session directory not having been created or writable. I was trying to use a non-standard location.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>directory for PHP sessions, sorry about that mix up</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good, glad it's working now</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>For historical reference, if you want to move from one system to another system with newer PHP and different database server you should just be able to:</p>\n<p>1) Backup DB on old server<br/>\n2) Import DB on new server<br/>\n3) Install new MRBS on new server<br/>\n4) Access MRBS on the new server and let it update its database schema</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/431/", "title": "#431 extra fields", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi</p>\n<p>Is it possible to add a extra field to users information</p>\n<p>When a user is createt then must provide Name, e-mail and company name?</p>\n<p>/Bruno</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/431/attachment/Sk%C3%A6rmbillede%202019-01-16%20kl.%2020.07.52.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/431/attachment/Sk%C3%A6rmbillede%202019-01-16%20kl.%2020.07.52.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/431/attachment/Sk%C3%A6rmbillede%202019-01-16%20kl.%2020.07.52.png\">Sk\u00e6rmbillede 2019-01-16 kl. 20.07.52.png</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, you can add custom fields to the users table.  See the INSTALL document for details.</p>\n<p>If you are using MRBS 1.7.2 and the custom fields are checkboxes then note that there is a bug - see <a href=\"https://sourceforge.net/p/mrbs/bugs/429/\">https://sourceforge.net/p/mrbs/bugs/429/</a> for details and the fix.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/430/", "title": "#430 Upgarde from 1.4.9 to 1.7.1", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi<br>\nI want to upgrade from version 1.4.9 to 1.7.1, but by database update this error occurs.</p>\n<p>what can you do<br>\n/Bruno S.</p>\n<p>The database needs to be upgraded. Please backup your database before proceeding.</p>\n<p>Upgrading to database version: 31<br>\nOK</p>\n<p>Upgrading to database version: 32<br>\nOK</p>\n<p>Upgrading to database version: 33<br>\nOK</p>\n<p>Upgrading to database version: 34<br>\nOK</p>\n<p>Upgrading to database version: 35<br>\nOK</p>\n<p>Upgrading to database version: 36<br>\nOK</p>\n<p>Upgrading to database version: 37<br>\nOK</p>\n<p>Upgrading to database version: 38<br>\nOK</p>\n<p>Upgrading to database version: 39<br>\nOK</p>\n<p>Upgrading to database version: 40<br>\nOK</p>\n<p>Upgrading to database version: 41<br>\nOK</p>\n<p>Upgrading to database version: 42<br>\nOK</p>\n<p>Upgrading to database version: 43<br>\nOK</p>\n<p>Upgrading to database version: 44Uncaught exception 'MRBS\\DBException' in /home/frivindrosen/public_html/booking_2019/web/lib/MRBS/DB.php at line 182<br>\nSQLSTATE<span>[23000]</span>: Integrity constraint violation: 1062 Duplicate entry '' for key 'uq_name'<br>\nSQL: ALTER TABLE mrbs_users ADD UNIQUE INDEX uq_name (name)<br>\nParams: Array<br>\n(<br>\n)</p>\n<p>/home/frivindrosen/public_html/booking_2019/web/upgrade.inc(79): MRBS\\DB-&gt;query('\\n\\nALTER TABLE m...')<br>\n /home/frivindrosen/public_html/booking_2019/web/dbsys.inc(172): MRBS\\upgrade_database(false, '30', 53, Object(MRBS\\DB_mysql))<br>\n /home/frivindrosen/public_html/booking_2019/web/defaultincludes.inc(30): require_once('/home/frivindro...')<br>\n /home/frivindrosen/public_html/booking_2019/web/index.php(9): require('/home/frivindro...')<br>\n {main}<br>\nMRBS GET: Array<br>\n(<br>\n)<br>\nMRBS POST: Array<br>\n(<br>\n<span>[csrf_token]</span> =&gt; 00994dba8a713656acc10e84a6ef111b9045f1a3fdee81f0526212e197a5708a<br>\n<span>[form_username]</span> =&gt; frivindr_booking<br>\n<span>[form_password]</span> =&gt; MqA#I+4O0Q^V<br>\n)<br>\nMRBS SESSION: Array<br>\n(<br>\n<span>[csrf_token]</span> =&gt; 00994dba8a713656acc10e84a6ef111b9045f1a3fdee81f0526212e197a5708a<br>\n)<br>\nFatal error: unfortunately the database is not available at the moment.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Later versions of MRBS introduce a Unique Index for various columns, one of which is the username in the users table.   It sounds like you have two users with the same username.  You will need to rename one of them and try again.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Advice was given</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/429/", "title": "#429 custom field not working fine", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>i have add extra field to the entry table and same field to the repeat table as well, its type smallint(1) and its becom a checkbox and its Appear in the system </p>\n<p>but not working fine</p>\n<p>when make new booking and check the box its not entering in database even in edit page.</p>\n<p>i tried to change the value manually in database and check the view page and found it working will, but the edit page still not recalling the data from database</p>\n<p>using local server windows<br>\nAppServ Open Project - 8.4.0 for Windows<br>\nApache/2.4.18 <br>\nPHP/5.6.22<br>\nmysql/5.7.13</p>\n<p>Regards</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>i use the latest version MRBS 1.7.2</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed this in the mrbs_17_branch.   You can patch your MRBS 1.7.2 system by using these versions attached of</p>\n<p>edit_entry.php<br/>\nedit_entry_handler.php<br/>\nlib/MRBS/Form/Field.php</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2019-01-12</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have just noticed I had a typo in the paths above: \"Firm\" instead of \"Form\".   I have now edited it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>i found this error in both pages (new booking, edit booking)</p>\n<p>Fatal error: Call to undefined method MRBS\\Form\\FieldInputCheckbox::setControlChecked() in C:\\AppServ\\www\\mrbs\\web\\edit_entry.php on line 710</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Have you uploaded all three files?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>yes i upload it all but was confusing about the directory.</p>\n<p>thanks bro<br/>\nit's working fine now</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>mate i have faced the same problem with same field smallint(1) \"checkbox\" in Tables (rooms, users) could you help please</p>\n<p>its recall the data in view and edit pages but not inserting to database even in new rows</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Now fixed.  Here are two new versions of edit_users.php and edit_room_handler.php.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've discovered there's a major bug that was introduced in the version of edit_users.php above which caused admins to be downgraded to ordinary users when they edit themselves.  Here's a version which fixes it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>updated thanks a lot</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/428/", "title": "#428 1.7.1 to 1.7.2 update fails", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I am also having issues updating from 1.7.1 to 1.7.2. Issue relates to utf8mb4:</p>\n<p>Uncaught exception 'MRBS\\DBException' in D:\\www\\mrbs2\\web\\lib\\MRBS\\DB.php at line 78<br>\nSQLSTATE<span>[42000]</span>: Syntax error or access violation: 1115 Unknown character set: 'utf8mb4'<br>\nSQL: SET NAMES 'utf8mb4'<br>\nParams: Array<br>\n(<br>\n)</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MySQL are you running?  If you are running a version before 5.5.3 then unfortunately utf8mb4 isn't supported and you'll need to upgrade to a newer version of MySQL.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You are correct - MySQL is version 5.1.66</p>\n<p>Last year, I had to rebuild this system because it had completely deprecated</p>\n<p>With that said, is there a recommended version of MySQL, knowing that there are some very old services running on this server?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No, there's no particular recommended version - just 5.5.3 or later.</p>\n<p>If you find that there's not a version of MySQL that's compatible with both MRBS and also your old services, then one option might be to switch to PostgreSQL for MRBS, if you've got PostgreSQL available.   The migration wouldn't be trivial though.   There is an Export facility available on the report page of MRBS which will allow you to create a .ics file containing all your bookings.  You can then import it using the Import facility.   You'd have to re-create your areas and rooms first though and also your users if you're using the 'db' authentication scheme.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/427/", "title": "#427 Update From 1.7.1 to 1.7.2 session table does not exist", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>if i upgrade from 1.7.1 to 1.7.2 i get the following error. how do i create this session table? </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">E_USER_WARNING in example/init.inc at line 67</span>\n<span class=\"x\">MRBS: session table does not exist</span>\n<span class=\"x\">MRBS GET: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS POST: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n\n<span class=\"x\">E_USER_WARNING in example/init.inc at line 79</span>\n<span class=\"x\">Could not start DB sessions, trying ordinary PHP sessions. Note that this error will normally only occur if the sessions table doesn't exist, which will be the case when upgrading to database schema version 56. If it happens at any other time then something has gone wrong and it should be investigated.</span>\n<span class=\"x\">MRBS GET: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS POST: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n\n<span class=\"x\">E_WARNING in example/init.inc at line 84</span>\n<span class=\"x\">session_start(): Cannot send session cache limiter - headers already sent (output started at example/functions_error.inc:62)</span>\n<span class=\"x\">MRBS GET: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS POST: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS SESSION: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">    [csrf_token] =&gt; example</span>\n<span class=\"x\">    [UserName] =&gt; example</span>\n<span class=\"x\">)</span>\n<span class=\"x\">Uncaught exception 'Exception' in example/init.inc at line 93</span>\n<span class=\"x\">MRBS: could not start sessions</span>\n<span class=\"x\">#0 example/init.inc(116): MRBS\\init_sessions()</span>\n<span class=\"x\">#1 example/defaultincludes.inc(30): require_once('/www/htdocs/w01...')</span>\n<span class=\"x\">#2 example/index.php(9): require('/www/htdocs/w01...')</span>\n<span class=\"x\">#3 {main}</span>\n<span class=\"x\">MRBS GET: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS POST: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS SESSION: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">    [csrf_token] =&gt; example</span>\n<span class=\"x\">    [UserName] =&gt; example</span>\n<span class=\"x\">)</span>\n\n<span class=\"x\">E_WARNING in example/functions.inc at line 214</span>\n<span class=\"x\">Cannot modify header information - headers already sent by (output started at example/functions_error.inc:62)</span>\n<span class=\"x\">MRBS GET: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS POST: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS SESSION: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">    [csrf_token] =&gt; example</span>\n<span class=\"x\">    [UserName] =&gt; example</span>\n<span class=\"x\">)</span>\n\n<span class=\"x\">E_WARNING in example/functions.inc at line 201</span>\n<span class=\"x\">Cannot modify header information - headers already sent by (output started at example/functions_error.inc:62)</span>\n<span class=\"x\">MRBS GET: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS POST: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS SESSION: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">    [csrf_token] =&gt; example</span>\n<span class=\"x\">    [UserName] =&gt; example</span>\n<span class=\"x\">)</span>\n\n<span class=\"x\">E_WARNING in example/functions.inc at line 202</span>\n<span class=\"x\">Cannot modify header information - headers already sent by (output started at example/functions_error.inc:62)</span>\n<span class=\"x\">MRBS GET: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS POST: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">)</span>\n<span class=\"x\">MRBS SESSION: Array</span>\n<span class=\"x\">(</span>\n<span class=\"x\">    [csrf_token] =&gt; example</span>\n<span class=\"x\">    [UserName] =&gt; example</span>\n<span class=\"x\">)</span>\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The upgrade to 1.7.2 will create the session table, but unfortunately there is a bug which means that it can't be created if you have 'display_errors' set to '1' in your php.ini file.</p>\n<p>The solution is either to turn off 'display_errors' or else to use <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/mrbs_17_branch/tarball\">this 1.7.2+ release</a> which fixes the problem.</p>\n<p>Se also <a href=\"https://sourceforge.net/p/mrbs/support-requests/1658/.\">https://sourceforge.net/p/mrbs/support-requests/1658/.</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>thank\u00b4s a lot. the 1.7.2+ release works fine!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/426/", "title": "#426 no default LDAP auth logs", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>It's apparently necessary to set $ldap_debug in order to get the LDAP authorization code to log any errors. That's a bad thing not just from the basic debugging perspective, but it means it's that much harder to notice LDAP bruteforce attempts (and react to them using fail2ban or whatever).</p>\n<p>Please make the basic error messages distinct from debug messages there and log the former unconditionally.</p>\n<p>TIA.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Won't removing the error control operators (<a class=\"\" href=\"https://sourceforge.net/p/mrbs/bugs/425/\">Bugs #425</a>) solve this problem?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Protecting against brute-force attacks is up to the LDAP server, surely?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Having removed the suppression operator from the ldap_bind() I can see that it now raises errors for invalid credentials.   I think this is potentially a problem because</p>\n<ol>\n<li>It could possibly enable a DoS attack as the log file fills up with failed login attempts</li>\n<li>As things stand in MRBS the error message will also include the failed username and password, exposing the passwords of innocent users who accidentally make a small error in their credentials.</li>\n</ol>\n<p>I propose to restore the @ operator on ldap_bind() calls and then in the event of an error, call trigger_error() raising the original error, unless the original error was LDAP_INVALID_CREDENTIALS.     This would be the default behaviour but optionally you could configure MRBS to flag all ldap_bind() errors. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now committed this change in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/633efd4b48a3baea6da3be4c0b2864d335a912c0/\">633efd</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>(Missed this communication earlier, sorry.)</p>\n<p>Protecting against attacks on the machine with MRBS is much more useful because if you do it just on the LDAP server, whenever it would react, it would kill all LDAP connections from MRBS as a whole, and prevent both legitimate as well as abusive usage. Whereas, the MRBS log can point to the actual attacker's IP address which can then be blocked instead.</p>\n<p>Log-based DoS is a fact of life for any service that accepts and validates unknown input. If the attacker POSTs e.g. 20 bytes for the username field and 20 bytes for the password field, just logging the most basic sentence \"Access denied from 111.111.111.111\" with a timestamp has probably already caused more bytes to be logged than there were in the input. But that doesn't mean that hiding security incidents is a good idea for the users.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Presumably a log would also be useful for other authentication schemes?  Would it be better to have a new table, eg login_attempts, and record all login attempts there, including whether the login was successful or not and the associated IP address?  It should also have some kind of automatic pruning mechanism.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, it would probably be a good idea for all other authentication schemes, too.</p>\n<p>Extra SQL tables could be a good idea, too, though that does come with a fair bit of overhead - log files are very much a known quantity and automatic pruning mechanisms are par for the course, whereas with a custom SQL table it's not as easy to just offload it to standard logrotate.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/425/", "title": "#425 LDAP code error control abuse", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>When the ldap host variable is not set correctly, MRBS just croaks with a generic error message and there's nothing in the log. A quick look at the relevant code (at <a href=\"https://sourceforge.net/p/mrbs/hg-code/ci/default/tree/web/auth/auth_ldap.inc\">https://sourceforge.net/p/mrbs/hg-code/ci/default/tree/web/auth/auth_ldap.inc</a>) indicates that the MRBS code is intentionally hiding all error output from ldap_connect and all other ldap calls, using the @ error control operator (http://php.net/manual/en/language.operators.errorcontrol.php).</p>\n<p>This is an old anti-pattern in PHP code which assumed there's display_errors=on, which hasn't been true for basically decades on normal systems like Debian, with display_errors=off and log_errors=on.</p>\n<p>Please remove the hiding of valuable debug information from the logs.</p>\n<p>TIA.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed this in the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/93362c41b129bdf90ce59b3d439e706715f9d21a/\">93362c</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/424/", "title": "#424 Full name and not user name", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Not sure if a bug. When I use Joomla authentication the username is used around MRBS. Username is in most cases of no value as they in my installation is a random number.  I'd love to have an option in config file to change this to allow fullname in stead of user name. I read a thread about to to fix this some time ago but I never managed to sort out how to fix it. I'm running 1.7.2 og MRBS. Thansk!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>More of a feature request than a bug, but I'll take a look at adding this in over the next week or two.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This feature has been implemented in MRBS 1.9.2.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/423/", "title": "#423 Admin rights do not override Max duration in Firefox", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Greetings,</p>\n<p>I'm testing 1.7.1 for production and Firefox does not reflect the Admin rights for maximum duration. Put differently, when you go to reserve a room in Firefox as an Admin it limits reservations to the Max duration setting. This issue happens in Microsoft EDGE as well but not Chrome.  This is on Firefox 64.0 on PC and Mac</p>\n<p>Thanks for your help!<br>\nChristopher Schneider<br>\ncschneider1  /{AT}/ uchicago.edu</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think this is probably the same as <a href=\"https://sourceforge.net/p/mrbs/bugs/415/.\">https://sourceforge.net/p/mrbs/bugs/415/.</a>   In summary it is a caching problem and is fixed in the latest code in the default branch.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/422/", "title": "#422 Fatal Error", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>We get the following error when tryint to accss our MRBS install. We've been using it for 7+ years without issue</p>\n<p>Fatal error: Uncaught Error: Call to undefined function set_magic_quotes_runtime() in /home2/greenba7/public_html/staff/web/internalconfig.inc.php:181 Stack trace: #0 /home2/greenba7/public_html/staff/web/defaultincludes.inc(8): require_once() #1 /home2/greenba7/public_html/staff/web/index.php(10): require_once('/home2/greenba7...') #2 {main} thrown in /home2/greenba7/public_html/staff/web/internalconfig.inc.php on line 181</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS are you running (the answer is on the Help page)?   I suspect that you are using an old version of MRBS and that your server has just been changed to run PHP Version 7.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Of course, you may not be able to access your Help page.   In which case if you don't know your version of MRBS, then can you post your version of internalconfig.inc.php here.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't access any of the page on the site to check which version we have.  </p>\n<p>Our web server is using PHP version: 5.6.30</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Here is the file</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hee's a modified version of that file which should solve this particular problem.</p>\n<p>However it looks as though you are running a fairly old version of MRBS and I recommend that you upgrade to the latest version (MRBS 1.7.1).    I'm a little puzzled by this error appearing if you are running PHP 5.6.30.   The function set_magic_quotes_runtime() was only deprecated in PHP 5.6.30 and not removed until PHP 7 - see <a href=\"http://php.net/manual/en/function.set-magic-quotes-runtime.php.\" rel=\"nofollow\">http://php.net/manual/en/function.set-magic-quotes-runtime.php.</a>   If you are running PHP 7 and an old version of MRBS then there are a number of other things which won't work.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Now I get this error</p>\n<p>Fatal error: Uncaught Error: Call to undefined function mysql_pconnect() in /home2/greenba7/public_html/staff/web/mysql.inc:436 Stack trace: #0 /home2/greenba7/public_html/staff/web/mysql.inc(479): sql_mysql_connect('localhost', 'greenba7_web', 'Pr3ble_hornets1', 'greenba7_mrbs', 1) #1 /home2/greenba7/public_html/staff/web/dbsys.inc(664): sql_mysql_default_connect() #2 /home2/greenba7/public_html/staff/web/defaultincludes.inc(10): require_once('/home2/greenba7...') #3 /home2/greenba7/public_html/staff/web/index.php(10): require_once('/home2/greenba7...') #4 {main} thrown in /home2/greenba7/public_html/staff/web/mysql.inc on line 436</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Is there a way for me to upgrade and still keep all of the data that has already been entered?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I strongly suspect you are running PHP 7 and not PHP 5.6.30 as mysql_pconnect() was not removed until PHP 7.</p>\n<p>Yes, you can upgrade without losing your data.    There are full instructions in the UPGRADE file in the MRBS download.   The most important thing is to take a backup of your web files and also your database before you start - just in case of disaster. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2018-11-01</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you for your help.  I installed MRBS in 2010 and haven't done much with it since.   I will work on upgrading  </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/421/", "title": "#421 Empty or invalid search string", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Using the default branch code as of today, if you search for a string, are presented with a list of results and then delete one of those entries, you return to the search page with the message \"Empty or invalid search string\". </p>\n<p>I'll take a look over the weekend.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/d34ce063a263452c46cb31f32e9ba76a4a2dba83/\">d34ce0</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/420/", "title": "#420 Returns \"Invalid entry id\" when editing/saving an entry straight after login", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>First of all thank you very much for developing this MRBS system.</p>\n<p>I have found a bug on our installation, and could be reproduced on the sourceforge demo site:<br>\n-go to <a href=\"https://mrbs.sourceforge.io/mrbs\" rel=\"nofollow\">https://mrbs.sourceforge.io/mrbs</a><br>\n-Edit a booking (any booking will do)<br>\n-Will be prompted to log in, and log in using the admin account (therefore have the permission to edit).<br>\n-Edit Entry<br>\n-With or without anything, Click Save<br>\n-Returns \"Invalid entry id\" on the screen.</p>\n<p>(Note: this bug does not happen if the user was already logged in)</p>\n<p>With some initial debugging, it is because view_entry.php (between line 340-365), it relies on $HTTP_REFERER to return to the previous page, and if the user was prompted to login first, the \"returl\" on the view_entry.php is the current url (whereas if the user was already logged in, the \"retval\" would be the calendar view (e.g. day.php)); and as saving the entry would delete/re-add an entry (therefore having a new entry_id), the return url of view_entry.php with the previous entry_id would become invalid, and therefore returns \"Invalid entry id\" on the screen.</p>\n<p>I do not have a deep understanding of the MRBS system, and therefore not sure what the ideal fix is; in our local setup, I have just removed line 343-350,363 (in view_entry.php).</p>\n<p>May I please ask if you can take a look, and apply a proper fix in a minor release?</p>\n<p>Many thanks for your help,</p>\n<p>Ken Choi</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/420/attachment/mrbs.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/420/attachment/mrbs.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/420/attachment/mrbs.png\">mrbs.png</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Yes, I can reproduce the bug.  I'll take a look over the weekend.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed this in the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/78bdbdd868ad475db5027c533b24efe047eb8b11/\">78bdbd</a>.   The fix will appear in the next release. </p>\n<p>What I have done is to move the block of code that handles an empty $returl to before the authorisation check is made.   I think this is a slightly better fix than the one above because it means that you will return to the calendar view (day/week/month) that you started from, rather than the default view.   I don't know whether the fix will work in 1.7.1 because there have been a number of other changes since 1.7.1 in that area and I have just tested on the latest code in the default branch.</p>\n<p>Thanks again for reporting the problem and investigating.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi Campbell, many thanks for the quick reply and fix. Your explanation of the fix makes a lot of sense, and I've also tested that is fixes the problem on my local installation (some slight modifications from version 1.7.1). Please feel free to mark the ticket/issue as resolved :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/419/", "title": "#419 User can not edit own account due to error message", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,<br>\nI have a fresh install of 1.7.1 (cacec7 ).  When an admin role logs in they can edit accounts without issue. However if a user role logs in and tries to edit their email address etc, they are presented with an error message stating \"You must enter a name.\" when the form contents are validated.</p>\n<p>I am have 3 additional columns in my user table but I don't think that is causing the issue.</p>\n<p>Thanks<br>\nGerard</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK. I think I know what the problem is. Will take a look later. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Now fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/cb2378459f9b7bfe404d8a65e375b291d6798891/\">cb2378</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi Campbell, I'll give it a bash.   I was not aware disabled form elements did not POST.  Thanks again for the prompt reply and great support.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi Campbell, works a treat. Thanks.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/418/", "title": "#418 Editing series (repeat bookings) does not repopulate the days", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,<br>\nI've created a repeat booking to occur each week on Wed, Thurs, and Fri. When I open the booking to edit the series the days section is not prepopulated with the current booking settings.  Are you able to point me in the right direction regarding which file to look in to change this behaviour?<br>\nThanks</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.  Now fixed in the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/d246de90a776ce5df806ed9182f4b28b31e229a1/\">d246de</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>As always, thank you.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I still need to tidy up the behaviour on the edit_area form.   The default duration minutes field should really be disabled if All Day is checked.   I'll do that later.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now made the change to the edit_area form in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/112be64422fb6ae13a63cba0174a6099a6f2ca48/\">112be6</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/417/", "title": "#417 db_ext login fails when column_name_level is set", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, <br>\nI am running 2 MRBS sites dev3 and dev4.  Both are version 1.7.1.  I am trying to use the mrbs_users table to authenticate users logging into both sites.  That is, creating an account on dev3 will allow the same credentials to be used on both dev3 and dev4.</p>\n<p>Everything works correctly when using $auth<span>[\"type\"]</span>  = 'db_ext' in the dev 4 config.</p>\n<div class=\"codehilite\"><pre><span></span>$auth['type']  = 'db_ext';\n// 'auth_db_ext' configuration settings\n$auth['db_ext']['db_system'] = 'mysql';\n$auth['db_ext']['db_username'] = 'dbuser';  //&lt;-- not real\n$auth['db_ext']['db_password'] = 'dbpasswd';  //&lt;-- not real\n$auth['db_ext']['db_name'] = 'dbname';  //&lt;-- not real\n$auth['db_ext']['db_table'] = 'mrbs_users';\n// Either 'md5', 'sha1', 'crypt' or 'plaintext'\n$auth['db_ext']['column_name_username'] = 'name';\n$auth['db_ext']['column_name_password'] = 'password_hash';\n$auth['db_ext']['password_format'] = 'crypt';\n</pre></div>\n\n\n<p>However, when I define the column_name_level setting MRBS fails to load after a successful login.  The system seems to redirect to the day.php page but the page is blank with no source text and nothing in the php error_log.</p>\n<div class=\"codehilite\"><pre><span></span>$auth['type']  = 'db_ext';\n// 'auth_db_ext' configuration settings\n$auth['db_ext']['db_system'] = 'mysql';\n$auth['db_ext']['db_username'] = 'dbuser'; //&lt;-- not real\n$auth['db_ext']['db_password'] = 'dbpasswd';  //&lt;-- not real\n$auth['db_ext']['db_name'] = 'dbname';  //&lt;-- not real\n$auth['db_ext']['db_table'] = 'mrbs_users';\n// Either 'md5', 'sha1', 'crypt' or 'plaintext'\n$auth['db_ext']['column_name_username'] = 'name';\n$auth['db_ext']['column_name_password'] = 'password_hash';\n$auth['db_ext']['password_format'] = 'crypt';\n$auth['db_ext']['column_name_level'] = 'level';\n</pre></div>\n\n\n<p>Attepmting to load other pages by typing in the address e.g. help.php also display a blank page.<br>\nIf I comment out the column_name_level line the page loads correctly with the user correctly logged in but no auth level is evident.</p>\n<p>I added the following lines to config.inc.php and day.php in an attempt to produce some error logs.  Unfortunately nothing was recorded in the log file.</p>\n<div class=\"codehilite\"><pre><span></span>ini_set('display_startup_errors', 1);\nini_set('display_errors', 1);\nerror_reporting(-1);\n</pre></div>\n\n\n<p>Any ideas what I can do to narrow down the cause of this issue?</p>\n<p>Thanks</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Please hold off on this.  I may be using two different database versions.  I'll get back to you.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've confirmed both DBs are now at version 57. Source is V1.7.1 from tree  <a class=\"alink\" href=\"/p/mrbs/hg-code/ci/d64d31459af8e4385b42a38240b5cf5218ab1983/\">[d64d31]</a>. Still receiving a blank page.<br/>\nAny advice you can offer would be appreciated.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<h4>Related</h4>\n<p>\n<a href=\"/u/joehorn/mrbs/ci/d64d31459af8e4385b42a38240b5cf5218ab1983/\">Commit: [d64d31]</a><br/>\n</p>\n<br/><small>Last edit: GedM 2018-08-31</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>These lines</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">ini_set('display_startup_errors', '1');</span>\n<span class=\"x\">ini_set('display_errors', '1)';</span>\n<span class=\"x\">error_reporting(-1);</span>\n</pre></div>\n<p>should be added to the bottom of internalconfig.inc.php, not the config file, as internalconfig will override them.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks Campbell.  That's what I needed.</p>\n<div class=\"codehilite\"><pre><span></span>$db_ext_conn\n</pre></div>\n<p>is missing from the global declaration in function authGetUserLevel.<br/>\nLine  143 of auth_db_ext.inc.</p>\n<p>Cheers</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Now fixed in the default branch.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It won't be causing the problem, but I think you should also be using 'password_hash' instead of 'crypt' for the password format.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Without it I was getting</p>\n<div class=\"codehilite\"><pre><span></span>E_NOTICE in /home/xxxxxxx/public_html/dev4/auth/auth_db_ext.inc at line 170\nUndefined variable: db_ext_conn\n</pre></div>\n<p>Now it works correctly.  crypt is working correctly but I'll try password_hash as well.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>'password_hash' also works.  As per your advice, I'll leave it as that.<br/>\nThanks again.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/416/", "title": "#416 User bookings don't work with multiday restriction", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, I have a fresh install of MRBS 1.7.1.  I have set $auth<span>['only_admin_can_book_multiday']</span> = TRUE; in the config.inc.php.  Admin's can make bookings but when a user tries to make a booking the End Time field is not available on the edit_entry.php page. If a booking is attempted the booking is not displayed on the day.php page.  It seems to be unsuccessful.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.   I have now fixed it in the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/d64d31459af8e4385b42a38240b5cf5218ab1983/\">d64d31</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.   I have now fixed it in the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/d64d31459af8e4385b42a38240b5cf5218ab1983/\"></a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/415/", "title": "#415 Admin bookings are limitd to maximum duration", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, I have a fresh install of 1.7.1 and have configured a room with the maximum duration for a booking set to 2 hours. In previous versions (1.5.0) the administrator account was not limited by this setting.  When making a booking via the edit entry page a booking by an administrator account is limited by this setting however once the booking has been made it can be dragged to a longer duration in the day.php page.  Is there a way to override this limitation on Administrators when making a booking via the edit_entry.php page?<br>\nThanks</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think this is probably happening when you have switched from being logged in as an ordinary user to being logged in as an admin.  The problem is that the JavaScript, which is cached, is different depending on whether you are an admin or not.  Clearing the browser cache should allow you to make a booking longer than the maximum duration.  The behaviour is the same as in previous versions of MRBS.  I will try and fix it properly in the next few days.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi Campbell, thanks for the quick response. You are correct. Once I cleared the cache and logged in with the admin account it worked correctly.  I apologise for wasting your time.  I should have spotted that one.<br/>\nThanks again.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now committed to the default branch a change which ensures that the JavaScript now caters for both admin and non-admin users and so it doesn't matter whether a cached version is being used.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks Campbell, very much appreciated.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/414/", "title": "#414 update requirements in INSTALL", "status": "closed", "labels": "docs (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><code>INSTALL</code> says that PHP &gt;=5.3.3 is needed, but when I went to deploy, I got this error:</p>\n<p><code>MRBS requires PHP 5.4.0 or above. This server is running version 5.3.10-1ubuntu3.26.</code></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  I've now updated the INSTALL file.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/413/", "title": "#413 nav_improvements branch: public static function parseLocale($locale) appears twice", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Tried testing the new branch, got a 500 error. Found out public static function parseLocale($locale) was Locale.php twice, so I commented out one and it works fine now.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Now fixed in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/c2bd4d5b2bb92c81739c15ad51b38e54f2dc83c1/\">c2bd4d</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/412/", "title": "#412 use full name, not username in created by/modified by", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I use joomla authentication. Then all credentials (logged in username in header, event details: created by/modified by) are shown as username. This is in most cases useless info as username is not possible for other users to track. Who made the booking? User \"oppmo\" or \"teacher5666\". Could there be a config option to choose to get full name or mail address as user credentials instead of the username?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'd say this was a feature request, and not a bug...</p>\n<p>We'd need to add \"get user's name\" methods to all applicable auth methods (probably with a flag to enable/disable that support) and then call the \"get user's name\" method whenever a user's name is shown in the UI. Search support is another thing entirely, and would also need to be optional for each auth method.</p>\n<p>In short: not simple.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I made a hack to get this to work half a year ago. As far as I remember all info already exists. I had to replace some stuff around to replace username with full name. And you are right, a feature request and not a but. My mistake.</p>\n<p>I guess more than me want to have full name and not username visable to other users as the username an many cases are useless info. That is why I ask for such a feature. I'm not capable of supplying the required code quality to make this configurable, but as I said, I got it to work with help from Campbell Morrison (see tracker # <a href=\"https://sourceforge.net/p/mrbs/support-requests/1399/\">https://sourceforge.net/p/mrbs/support-requests/1399/</a>)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, lots of people want this feature and I guess it's pretty high on the to do list, after the GUI enchancements.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks Campbell! I have done a lot of testing of the new GUI. It looks very nice now. I have made some further tweaks like rounded corners of more elements. I have posted this request in the thread about the new nav/gui. Some ideas here: consigno.no/web</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The display name is used by default in the latest release of MRS (1.9.2).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/411/", "title": "#411 missing week number in first row when first columns are empty.", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Week number is missing from the first row in calendar when there are \"empty\" dates in the first columns. See screenshot.</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/411/attachment/Skjermbilde%202018-06-27%20kl.%2020.55.46.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/411/attachment/Skjermbilde%202018-06-27%20kl.%2020.55.46.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/411/attachment/Skjermbilde%202018-06-27%20kl.%2020.55.46.png\">Skjermbilde 2018-06-27 kl. 20.55.46.png</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/410/", "title": "#410 Created by to 'DefaultAppPool' instead of set to 'username'.", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>For some strange reason, our MRBS 1.7 installation has defaulted to setting the repeat type on each new user booking created by to 'DefaultAppPool' instead of set to 'username'.<br>\nHave you come across this before?<br>\nIs there an entry I can put in the config file to set it back to each username?<br>\nAny help you can offer will be gratefully received.</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/410/attachment/Roombooking_error.jpg\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/410/attachment/Roombooking_error.jpg/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/410/attachment/Roombooking_error.jpg\">Roombooking_error.jpg</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>What have you got $auth<span>['type']</span> and $auth<span>['session']</span> set to?  After you login, what username appears in the top right hand corner?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi,<br/>\nOur config.inc.php settings below:<br/>\n$auth<span>[\"session\"]</span>=\"nt\";<br/>\n$auth<span>[\"type\"]</span>=\"none\";<br/>\nAfter when I login, no username appears in the top right hand corner. Thanks for your help.</p>\n<p>Cheers,<br/>\nTom</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2018-06-26</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Assuming you are using IIS, then I think what you need to do is</p>\n<p><strong>1.  Enable Windows Authentication in IIS:</strong><br/>\n- Go to Control Panel<br/>\n-  Click Programs &gt;&gt; Programs and Features<br/>\n-  Select \"Turn Windows Features on or off\" from left side.<br/>\n-   Expand Internet Information Services &gt;&gt; World Wide Web Services &gt;&gt; Security<br/>\n-   Select Windows Authentication and click OK<br/>\n-   Restart Windows. </p>\n<p><strong>2.  Go to IIS Manager -&gt; Authentication:</strong><br/>\n- Enable Windows Authentication<br/>\n- Disable Anonymous Authentication<br/>\n- Restart IIS</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi Campbell,</p>\n<p>I will try your advice and Thanks very much for your help.<br/>\nCould you please have a look at our another settings for config.inc.php ok or not?<br/>\nThe settings below:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$auth[\"session\"]=\"http\";</span>\n<span class=\"x\">$auth[\"type\"] = \"ldap\";</span>\n<span class=\"x\">$auth[\"user\"][\"master\"] = \"xxxxxxxx\";</span>\n<span class=\"x\">$auth[\"admin\"][]=\"master\";</span>\n<span class=\"x\">$ldap_host = \"172.17.213.3\";</span>\n<span class=\"x\">$ldap_port = 389;</span>\n<span class=\"x\">$ldap_v3 = true;</span>\n<span class=\"x\">$ldap_tls = false;</span>\n<span class=\"x\">$ldap_base_dn = \"ou=Woolcock Staff List,dc=woolcock,dc=local\";</span>\n<span class=\"x\">$ldap_user_attrib = \"uid\";</span>\n<span class=\"x\">$ldap_dn_search_attrib = \"sAMAccountName\";</span>\n<span class=\"x\">$ldap_dn_search_dn = \"cn=administrator,cn=Users,dc=domain,dc=local\";</span>\n<span class=\"x\">$ldap_dn_search_password = \"xxxxxxxx\";</span>\n</pre></div>\n<p>Cheers,<br/>\nTom Li</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2018-10-19</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/409/", "title": "#409 $ldap_name_attrib not working (1.7.1)", "status": "closed", "labels": "ldap (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,<br>\nSince we got an additional mailserver (exchange) i have to switch to another authentication methode. I used imap before but now this wont work anymore for all users. Anyway, a good opportunity to switch to ldap. </p>\n<p>In my test environment everything is a clean 1.7.1 installation except and older updated database with entries from our production installation.</p>\n<p>Everything works great except the $ldap_name_attrib which as far is i understand should replace the username in mrbs with the value stored in the given attribute. <br>\nOur usernames look like this \"abc1234\" so replacing those with the real names would make a much nicer setup. </p>\n<div class=\"codehilite\"><pre><span></span>$ldap_get_user_email = true;\n$ldap_email_attrib = \"mailAliasAddress\";\n</pre></div>\n\n\n<p>Using the email attrib option works great but the name attrib option doesnt change anything for me. MRBS still shows the normal username (\"cn\"). </p>\n<p>Here is my full LDAP Conf:</p>\n<div class=\"codehilite\"><pre><span></span># Authentication\n$auth[\"realm\"] = \"MRBS\";\n$auth[\"type\"] = \"ldap\";\n$ldap_host = \"ldap.nds.our-org.org\";\n\n$ldap_debug = False;\n$ldap_port = 389;\n$ldap_v3 = false;\n$ldap_tls = false;\n\n$ldap_base_dn = array(\"OU=AA,OU=DEP,O=OUR-ORG\", \"OU=AB,OU=DEP,O=OUR-ORG\", \"OU=AC,OU=DEP,O=OUR-ORG\");\n\n$ldap_user_attrib = \"cn\";\n\n$ldap_get_user_email = true;\n$ldap_email_attrib = \"mailAliasAddress\";\n$ldap_name_attrib = \"fullName\";\n\n$ldap_dn_search_attrib = \"cn\";\n$ldap_dn_search_dn = \"cn=search_user,ou=AA,OU=DEP,O=OUR-ORG\"\";\n$ldap_dn_search_password = \"search_pw\";\n\n# Detect MRBS Admins\n$ldap_admin_group_dn = \"cn=it_mrbs,ou=GROUPS,OU=DEP,O=OUR-ORG\";\n$ldap_group_member_attrib = \"groupMembership\";\n</pre></div>\n\n\n<p>It tried replacing \"fullName\" with other attributes but this doesnt change anything.</p>\n<p>Anyone has an idea what could be the problem? Thanks for any support and Thanks for this great project!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>At the moment MRBS doesn't do anything with the $ldap_name_attrib.  It, and the function authLdapGetName(), are just there so that people who want to modify the code themselves to provide real names can do so.     Hopefully MRBS will do this in a future release, though there's nothing planned yet.</p>\n<p>See also <a href=\"https://sourceforge.net/p/mrbs/support-requests/1433/.\">https://sourceforge.net/p/mrbs/support-requests/1433/.</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Oh Ok, missed that. Sorry.<br/>\nI have read the thread you linked to and thought this was fully integrated now in 1.7.1. <br/>\nThanks for clearing this up!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I poked arround in the code a bit (not really a php coder) and found a few places where i could easily change the code to display the real name. </p>\n<p>For example: <br/>\ndetailed booking info, functions_view.inc, line 202<br/>\nname in logon box, sessions/functions_session.inc, line 99</p>\n<p>Anyone who has done this before and has more? <br/>\nOnly thing missing for me now to use this is the report output.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>There's also email notifications in functions_mail.inc.  Generally searching for 'create_by' will give you the places that need to be changed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks! Got most stuff translated now. <br/>\n(Email, Booking details, Pending approval, Loginbox).<br/>\nBut im still struggeling with the reports view.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>For reports, add the folowing three lines at line 746:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">      case 'create_by':</span>\n<span class=\"x\">        $value = authLdapGetName($value);</span>\n<span class=\"x\">        break;</span>\n</pre></div>\n<p>so that the code looks like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">    switch ($field)</span>\n<span class=\"x\">    {</span>\n<span class=\"x\">      case 'create_by':</span>\n<span class=\"x\">        $value = authLdapGetName($value);</span>\n<span class=\"x\">        break;</span>\n<span class=\"x\">      case 'end_time':</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you very much!<br/>\nYou saved me a lot of time. I suspected that the data was read out of the db in this case without being modified but it would have taken me a few hours to find this on my own. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The display name is now used by default in the latest release of MRBS (1.9.2).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2020-10-29</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/408/", "title": "#408 Can't login anymore", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>after upgrading to version 1.7.1 we ran into following error: Users with german umlauts e.g. \"\u00e4\", \"\u00fc\", etc. can't login anymore. The system reports that the users were unknown.</p>\n<p>Is this a known bug or just something we can fix by adjusting the systems settings?</p>\n<p>Thank you for your help in advance.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which authentication type are you using? Which version of MRBS have you upgraded from? Are the problem umlauts in the username, password or both? </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>We're using database authentication method and were upgrading from version 1.4.8. The problems are in username only. Having umlauts in passwords works perfectly fine.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>If you look in the database using phpMyAdmin, are the umlauts still there in the username?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can now reproduce this bug.   I'll take a look at fixing it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Actually, I don't think I can reproduce it.   I think the problem may be to do with extra whitespace being accidentally inserted at the end of the username and maybe it was just a coincidence that this happened when the user had an umlaut?  It's very easy to get extra whitespace, especially when using a mobile phone or tablet.</p>\n<p>The very latest code in the default branch, which you can get <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/default/tarball\">here</a> has some improvements over 1.7.1 in this respect because it will automatically trim any whitespace form the end of the username.  I suggest you try upgrading to that.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>We changed the collation of the table mrbs_users from latin1 to utf8 which solved this.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/407/", "title": "#407 Can't get dropdown boxes to work with custom fields", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi. I need to add some custom fields and I done that by  the instructions (https://mrbs.sourceforge.io/view_text.php?section=Documentation&amp;file=INSTALL). </p>\n<p>The fields I create at the database shows up on the system. But, I can't make them dropdown boxes.</p>\n<p>Systems where I tried<br>\nMRBS 1.6.1 and MRBS 1.7.1<br>\nMySQL 5.7.19-0ubuntu0.16.04.1<br>\nPHP: 7.0.22-0ubuntu0.16.04.1</p>\n<p>I have tried:<br>\n1 - ) I created at entry and repeat table<br>\nclasse varchar(80)<br>\n2 - ) Insert on config.inc.php<br>\n$select_options<span>['entry.classe']</span> = array('Physics', 'Chemistry', 'Biology');<br>\n3 - ) It didn't work</p>\n<p>1 - ) I created at entry and repeat table<br>\nclasse text<br>\n2 - ) Insert on config.inc.php<br>\n$select_options<span>['entry.classe']</span> = array('Physics', 'Chemistry', 'Biology');<br>\n3 - ) It didn't work</p>\n<p>Thank you</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suspect it's making them into textareas because they are long fields.   You can either make them varchar(70) (or less) or set in your config file:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$text_input_max = 80;  // characters</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you. It worked. </p>\n<p>But, is there a way to allow more than 80 characters and still show the dropdown boxes?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, just increase the value of $text_input_max.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The other way, which might be better, is to use an associative array, eg</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$select_options['entry.classe'] = array('a' =&gt; 'Physics', 'b' =&gt; 'Chemistry', 'c' =&gt; 'Biology');</span>\n</pre></div>\n<p>This has two advantages: (a) you just need a CHAR(1) in the database table and (b) it's easy to change the description without updating the database.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Nice.</p>\n<p>Thank you very much.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/406/", "title": "#406 Skip and Book Issue", "status": "open", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When booking a reservation the \"skip and book\" isn't working as planned.  It is actually still adding to the days with conflicts and bumping other things to \"yellow\" boxes beside the columns.  I can't remember which version I'm on, but if you tell me how to find out I'll inform you.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The version is on the Help page</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>About MRBS<br/>\nComputer Lab Reservation System:    MRBS 1.5.0<br/>\nDatabase:   MySQL 5.5.45<br/>\nSystem: Windows NT MNWEBSRV01 6.3 build 9600 (Windows Server 2012 R2 Datacenter Edition) i586<br/>\nServer time:    4/10/2018 10:03:33 AM<br/>\nPHP:    5.6.16</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suggest you upgrade to the latest version of MRBS as I suspect it's a bug in 1.5.0.   I can't reproduce the problem in 1.7.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ok, is that a straight foward update?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes.  It will involve a database upgrade, so backup your database first and take a copy of your web folder - just in case there's a problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Hope not too many DB changes.  I have a custom script entering data into the DB to automate our class creations.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No, very few, if any affecting the entry and repeat tables.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/405/", "title": "#405 edit_users.php?datatable=1 fails to show user lists", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Recently updated from mrbs 1.4.11 to 1.7.1 and using php 7.2.3 with MySQL 5.7.21. The \"?datatable=1\" is automatically added to the \"Users List\" link at the end. From what I can tell, this is intentional, but it causes the list of users to not populate. If I remove that addition such that it is just \"edit_users.php\" instead of \"edit_users.php?datatable=1\" the table populates perfectly fine.</p>\n<p>Nothing game-breaking in my opinion, but figured I'd let you guys know.</p>\n<p>If it helps, I'm using the latest Google Chrome version, not sure if it's a browser thing.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suspect you've got a JavaScript error of some sort.   As the JavaScript files are cached, the first thing to  do is to clear your browser cache to make sure you are using the latest versions.    If you are still getting the problem can you see if you are getting any error messages in the JavaScript console (open Developer Tools)?</p>\n<p>See also <a href=\"https://sourceforge.net/p/mrbs/support-requests/1316/\">https://sourceforge.net/p/mrbs/support-requests/1316/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/404/", "title": "#404 Uncaught exception 'MRBS\\DBException' in web/lib/MRBS/DB.php at line 182", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello, I just upgraded my MRBS system from 1.4.9 to 1.7.1</p>\n<div class=\"codehilite\"><pre><span></span>PHP message: Uncaught exception 'MRBS\\DBException' in /var/www/room/web/lib/MRBS/DB.php at line 182\nSQLSTATE[42S22]: Column not found: 1054 Unknown column 'month_absolute' in 'field list'\nSQL: SELECT rep_type, end_date, rep_opt, rep_num_weeks, month_absolute, month_relative,                        info_time AS repeat_info_time, info_user AS repeat_info_user, info_text AS repeat_info_text                        FROM mrbs_repeat WHERE id=? LIMIT 1\nParams: Array\n(\n    [0] =&gt; 1498 \n)\n\n#0 /var/www/room/web/mrbs_sql.inc(1406): MRBS\\DB-&gt;query('SELECT rep_type...', Array)\n#1 /var/www/room/web/view_entry.php(206): MRBS\\get_booking_info(28442, NULL)\n#2 {main}\nMRBS GET: Array\n(\n    [id] =&gt; 28442\n    [area] =&gt; 2 \n    [day] =&gt; 20\n    [month] =&gt; 3 \n    [year] =&gt; 2018 \n)\nMRBS POST: Array\n(\n)\nMRBS SESSION: Array\n(\n    [csrf_token] =&gt; 462ab1d9677622ade5a31fb9bf568e425905f9583c3b227bfd0e98f89972eaa8\n    [UserName] =&gt; cmstudent\n)\"\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It looks like something went wrong with the upgrade procedure.   Update 32 should have created the 'month_absolute'  column.  Unfortunately the fix isn't quite as simple as creating the column because it also has to be populated with the correct values using a PHP script.</p>\n<p>I suggest reverting to your 1.4.9 sysystem  if you are able to do and trying the upgrade again.</p>\n<p>Are you using MySQL or PostgreSQL and which version (the information is on the Help page when you are logged in as an admin).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hello, After inserting  <code>month_absolute</code> and  <code>month_relative</code> two column in <code>mrbs_repeat</code> table, my MRBS system can work!</p>\n<p>Thanks for your answer!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Although it's probably working for new bookings, you may have problems with existing monthly repeat bookings.     As I said above, the columns have to be populated with the correct values using a PHP script.</p>\n<p>If you are able to I would revert to your 1.4.9 system and database and try the upgrade again.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/403/", "title": "#403 Emojis and room bookings", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><span>[Transferred from the general mailing list]</span></p>\n<p>We are on version 1.4.2. Twice in the last little while we had someone use an emoji to book a study room.  The use of the emoji had a ripple effect.  The room the student booked could not be accessed (couldn\u2019t view, cancel it) via the front end of the software and it also resulted in phantom bookings being made in other rooms around the same time which again we were not able to access.</p>\n<p>Has anyone else encountered this issue?  Is this still an issue with the latest version of the software?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce the dire effects you saw in 1.4.2, but I think the 1.7.1 release could deal with emojis better.  In 1.7.1 they seem to get filtered out, leaving you with a blank booking.  I'll investigate some more.</p>\n<p>Which emoji was it?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I don't know which emoji it was but it was 2 different users so my guess it that they weren't the same emoji.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p><span>[From the mailing list]</span></p>\n<p>Thanks for the quick reply.  I don\u2019t know what emoji the students were using but it was two separate incidents/students so it is likely it wasn\u2019t the same emoji both times.</p>\n<p>When you say \u201cleave you with a blank booking\u201d, is the booking accessible?  Could we edit it if necessary?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, the booking is accessible and can be edited.   If you can I'd upgrade to 1.7.1 anyway, though I think 1.7.1 will need to be fixed one way or another.  The problem is that if you have a required field that is just filled with emojis, you end up with an empty field in the database.   So I think we need either to validate fields having first stripped out emojis, or else support emojis properly.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>To really fix this you will need to change the MYSQL database to allow for Four Character UTF characters, this is a know limitation of default MYSQL.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>A fix for this problem has been committed to the MRBS default branch.  However the fix depends on having MySQL 5.5.3 or above.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/402/", "title": "#402 Fatal error: unfortunately the database is not available at the moment.", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,</p>\n<p>I have got the error message mentioned in topic.</p>\n<p>In error log:</p>\n<div class=\"codehilite\"><pre><span></span>E_USER_NOTICE in /volume1/web/language.inc at line 865\nServer failed to set locale to 'en_GB.UTF-8'\nUncaught exception 'MRBS\\DBException' in /volume1/web/lib/MRBS/DB.php at line 75\ncould not find driver\nSQL: \nParams: \n######0 /volume1/web/lib/MRBS/DBFactory.php(25): MRBS\\DB-&gt;__construct('localhost', 'mrbs', 'mrbs-password', 'mrbs', false, 3306)\n####1 /volume1/web/dbsys.inc(46): MRBS\\DBFactory::create('mysql', 'localhost', 'mrbs', 'mrbs-password', 'mrbs', false, NULL)\n####2 /volume1/web/dbsys.inc(96): MRBS\\db()\n####3 /volume1/web/defaultincludes.inc(30): require_once('/volume1/web/db...')\n####4 /volume1/web/day.php(4): require('/volume1/web/de...')\n####5 {main}\nMRBS GET: Array\n(\n    [year] =&gt; 2018\n    [month] =&gt; 02\n    [day] =&gt; 21\n)\nMRBS POST: Array\n(\n)\nMRBS SESSION: Array\n(\n)\n</pre></div>\n\n\n<p>Thanks,<br>\nM.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Have you put your database name, username and password in the config file?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/ee781036/10c8/\"><div class=\"markdown_content\"><p>yes, changed, and value are correct. I have got the nearly same error. (just difference in values)</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">/*******************</span>\n<span class=\"x\"> * Database settings</span>\n<span class=\"x\"> ******************/</span>\n<span class=\"x\">// Which database system: \"pgsql\"=PostgreSQL, \"mysql\"=MySQL</span>\n<span class=\"x\">$dbsys = \"mysql\";</span>\n<span class=\"x\">// Hostname of database server. For pgsql, can use \"\" instead of localhost</span>\n<span class=\"x\">// to use Unix Domain Sockets instead of TCP/IP. For mysql \"localhost\"</span>\n<span class=\"x\">// tells the system to use Unix Domain Sockets, and $db_port will be ignored;</span>\n<span class=\"x\">// if you want to force TCP connection you can use \"127.0.0.1\".</span>\n<span class=\"x\">$db_host = \"localhost\";</span>\n<span class=\"x\">// If you need to use a non standard port for the database connection you</span>\n<span class=\"x\">// can uncomment the following line and specify the port number</span>\n<span class=\"x\">$db_port = \"3307\";</span>\n<span class=\"x\">// Database name:</span>\n<span class=\"x\">$db_database = \"mrbs\";</span>\n<span class=\"x\">// Schema name.  This only applies to PostgreSQL and is only necessary if you have more</span>\n<span class=\"x\">// than one schema in your database and also you are using the same MRBS table names in</span>\n<span class=\"x\">// multiple schemas.</span>\n<span class=\"x\">//$db_schema = \"public\";</span>\n<span class=\"x\">// Database login user name:</span>\n<span class=\"x\">$db_login = \"root\";</span>\n<span class=\"x\">// Database login password:</span>\n<span class=\"x\">$db_password = 'root';</span>\n<span class=\"x\">// Prefix for table names.  This will allow multiple installations where only</span>\n<span class=\"x\">// one database is available</span>\n<span class=\"x\">$db_tbl_prefix = \"mrbs_\";</span>\n<span class=\"x\">// Set $db_persist to TRUE to use PHP persistent (pooled) database connections.  Note</span>\n<span class=\"x\">// that persistent connections are not recommended unless your system suffers significant</span>\n<span class=\"x\">// performance problems without them.   They can cause problems with transactions and</span>\n<span class=\"x\">// locks (see http://php.net/manual/en/features.persistent-connections.php) and although</span>\n<span class=\"x\">// MRBS tries to avoid those problems, it is generally better not to use persistent</span>\n<span class=\"x\">// connections if you can.</span>\n<span class=\"x\">$db_persist = FALSE;</span>\n</pre></div>\n<p>databese is created, I can manage by phpMyAdmin.</p>\n<p>It seems I cannot connect somehow :(<br/>\nAny idea?</p>\n<p>M.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2018-02-22</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Is 3307 the correct port number?   If it is then you should use 127.0.0.1 instead of localhost (see the comment in the config section above).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/ee781036/30f4/\"><div class=\"markdown_content\"><p>yes, 3307 is correct (default MariaDB 10 port). I have already tryed to change localhost, same error.</p>\n<p>here is my current config:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">/*******************</span>\n<span class=\"x\"> * Database settings</span>\n<span class=\"x\"> ******************/</span>\n<span class=\"x\">// Which database system: \"pgsql\"=PostgreSQL, \"mysql\"=MySQL</span>\n<span class=\"x\">$dbsys = \"mysql\";</span>\n<span class=\"x\">// Hostname of database server. For pgsql, can use \"\" instead of localhost</span>\n<span class=\"x\">// to use Unix Domain Sockets instead of TCP/IP. For mysql \"localhost\"</span>\n<span class=\"x\">// tells the system to use Unix Domain Sockets, and $db_port will be ignored;</span>\n<span class=\"x\">// if you want to force TCP connection you can use \"127.0.0.1\".</span>\n<span class=\"x\">$db_host = \"127.0.0.1\";</span>\n<span class=\"x\">// If you need to use a non standard port for the database connection you</span>\n<span class=\"x\">// can uncomment the following line and specify the port number</span>\n<span class=\"x\">$db_port = 3307;</span>\n<span class=\"x\">// Database name:</span>\n<span class=\"x\">$db_database = \"mrbs\";</span>\n<span class=\"x\">// Schema name.  This only applies to PostgreSQL and is only necessary if you have more</span>\n<span class=\"x\">// than one schema in your database and also you are using the same MRBS table names in</span>\n<span class=\"x\">// multiple schemas.</span>\n<span class=\"x\">//$db_schema = \"public\";</span>\n<span class=\"x\">// Database login user name:</span>\n<span class=\"x\">$db_login = \"root\";</span>\n<span class=\"x\">// Database login password:</span>\n<span class=\"x\">$db_password = 'root';</span>\n<span class=\"x\">// Prefix for table names.  This will allow multiple installations where only</span>\n<span class=\"x\">// one database is available</span>\n<span class=\"x\">$db_tbl_prefix = \"mrbs_\";</span>\n<span class=\"x\">// Set $db_persist to TRUE to use PHP persistent (pooled) database connections.  Note</span>\n<span class=\"x\">// that persistent connections are not recommended unless your system suffers significant</span>\n<span class=\"x\">// performance problems without them.   They can cause problems with transactions and</span>\n<span class=\"x\">// locks (see http://php.net/manual/en/features.persistent-connections.php) and although</span>\n<span class=\"x\">// MRBS tries to avoid those problems, it is generally better not to use persistent</span>\n<span class=\"x\">// connections if you can.</span>\n<span class=\"x\">$db_persist = FALSE;</span>\n</pre></div>\n<p>current error:</p>\n<div class=\"codehilite\"><pre><span></span>E_USER_NOTICE in /volume1/web/language.inc at line 865\nServer failed to set locale to 'en_GB.UTF-8'\nUncaught exception 'MRBS\\DBException' in /volume1/web/lib/MRBS/DB.php at line 75\ncould not find driver\nSQL: \nParams: \n**#0 /volume1/web/lib/MRBS/DBFactory.php(25): MRBS\\DB-&gt;construct('127.0.0.1', 'root', 'root', 'mrbs', false, 3307)\n**#1 /volume1/web/dbsys.inc(46):** MRBS\\DBFactory::create('mysql', '127.0.0.1', 'root', 'root', 'mrbs', false, 3307)\n**#2 /volume1/web/dbsys.inc(96): MRBS\\db()**\n**#3 /volume1/web/defaultincludes.inc(30):** require_once('/volume1/web/db...')\n**#4 /volume1/web/index.php(9):** require('/volume1/web/de...')\n**#5 {main}**\nMRBS GET: Array\n(\n)\nMRBS POST: Array\n(\n)\nMRBS SESSION: Array\n(\n)\n</pre></div>\n<p>localhost without port number also not works.</p>\n<p>If I stop the DB service, I have got the exatly same error, so there is no connection to mysql. <br/>\nI cant figure out how to fix it :( (I have use Synology DSM 6.2)</p>\n<p>Thanks,<br/>\nM.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2018-10-19</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ah, sorry, I've just spotted that the error message says \"could not find driver\".   This probably means that the PDO MySQL driver hasn't been enabled in your Synology. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/ee781036/6065/\"><div class=\"markdown_content\"><p>Ok. I will find out how to do that.<br/>\nThanks, will contact you.</p>\n<p>M.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It's normally a setting in your php.ini file.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/ee781036/cd35/\"><div class=\"markdown_content\"><p>OK, enabled in extensions, seems working!</p>\n<p>Thank you for your suport!</p>\n<p>M.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/ee781036/341f/\"><div class=\"markdown_content\"><p>Hello,</p>\n<p>One two qouestion. H<br/>\now can I change \"Your Company Meeting Room Booking System\" title, and tart week with Monday in calendar?</p>\n<p>Thanks,<br/>\nM.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>See all the possible config settings in systemdefaults.inc.php.  But don't edit systemdefaults - instead copy the setting into the config file.    For changing the week start you need $weekstarts.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/ee781036/764d/\"><div class=\"markdown_content\"><p>OK! thanks!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/401/", "title": "#401 username containing only numbers not working with joomla", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I get an error \"no permission\" when I try to create a booking after logging in with joomla authentication when my username contains numbers only, e.g. username=1234. As soon as I change username to start with a letter, e.g. a1234 it works. Running MRBS 1.7.0.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Just to be clear - presumably that's a Joomla username you're talking about?   Which version of Joomla are you running?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/97e88eab/ed76/\"><div class=\"markdown_content\"><p>Yes, a joomla user. Very latest joomla version 3.8.3.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can reproduce the problem.  Will investigate later.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The attached version of lib/MRBS/JFactory.php should fix the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/97e88eab/dcd0/\"><div class=\"markdown_content\"><p>Thanks a lot! It works as expected now!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fix committed to the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/add3b82efa00a391bbc9623b8ff1d21ae73d35b6/\">add3b8</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/400/", "title": "#400 Joomla auth not working when I use https", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have set up MRBS 1.7.0 and joomla and it work as expected when I run it with <a href=\"http://www.mydomain....\" rel=\"nofollow\">http://www.mydomain....</a> The user authenticate against joomla and all works fine.</p>\n<p>As soon as I swich my joomla installation to use https the authentication does not work anymore. I'm told I have to log in, as expected if I'm not logged in. MRBS installation no longer recognize me in an https envirmonment. In config file I use <br>\n$auth<span>[\"session\"]</span> = \"joomla\";<br>\n$auth<span>[\"type\"]</span> = \"joomla\"; <br>\n$auth<span>['joomla']</span><span>['rel_path']</span> = '../consigno';</p>\n<p>My MRBS installation runs as an iFame in joomla, which works very fine without https. Any suggestions? </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/326bc430/dacc/\"><div class=\"markdown_content\"><p>Found the solution: Turn on SEO in joomla, making the index.php to disappear from the URL. Turn on in joomla config and rename htaccess.txt -&gt; .htaccess</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/399/", "title": "#399 JS Datepicker failing to acquire timezone.", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have a new 1.7.0 installation and booking single entries works, but repeats fail because there is no datepicker for the repeat end date. (Reports also have no datepickers.) </p>\n<p>I've double-checked the config.inc.php file and the databsae, and timezones are set correctly.</p>\n<p>mysql&gt; select timezone from mrbs_zoneinfo;<br>\n+------------------+<br>\n| timezone         |<br>\n+------------------+<br>\n| America/New_York |<br>\n+------------------+<br>\n1 row in set (0.00 sec)</p>\n<p>mysql&gt; select timezone from mrbs_area;<br>\n+------------------+<br>\n| timezone         |<br>\n+------------------+<br>\n| America/New_York |<br>\n+------------------+<br>\n1 row in set (0.00 sec)</p>\n<p>Is there a way to remove the js_hidden tag and force MRBS to show the old datepicker when the javascript one fails?</p>\n<p>Installation: Centos 6, Remi PHP 5.6.32. Except for config.inc.php, all files are symlinks to /usr/local/share/mrbs/web/*</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm a bit confused by the description of the problem.  Is it (a) that there are no datepickers produced or (b) that there are datepickers but that that they are in the wrong timezone?</p>\n<p>Anyway, can you have a look in your browser's console (accessed through Developer Tools) and see if you are getting any error messages?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Also, have you just upgraded to 1.7.0, or is this a new installation?   If you have just upgraded can you clear your browser's cache because the CSS and JavaScript files are cached and so you may still be using the old ones.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>See also <a href=\"https://sourceforge.net/p/mrbs/support-requests/1397/.\">https://sourceforge.net/p/mrbs/support-requests/1397/.</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It looks like it may be an include path problem.  See <a href=\"https://sourceforge.net/p/mrbs/support-requests/1397/.\">https://sourceforge.net/p/mrbs/support-requests/1397/.</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/398/", "title": "#398 After update to 1.7.0 from 1.6.1 it fails to login", "status": "closed", "labels": "1.7.0 (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi!</p>\n<p>I updated from a functional instalation (1.6.1) to 1.7.0 and now I keep failing to login. Everything were working fine. It uses LDAP. </p>\n<p>It keeps giving the message \"Your session has expired.\" immediately after login. There is nothing on /var/log/error.log and access.log. I tried multiple browsers.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\"># LDAP ---------------------------------</span>\n<span class=\"x\">$auth[\"type\"] = \"ldap\";</span>\n<span class=\"x\">$auth[\"admin\"][] = \"admin-mrbs\";</span>\n<span class=\"x\">$ldap_port = 389;</span>\n<span class=\"x\">$ldap_v3 = true;</span>\n\n<span class=\"x\">$ldap_tls = false;</span>\n<span class=\"x\">$ldap_base_dn = \"ou=Pessoas,dc=mac,dc=usp,dc=br\";</span>\n<span class=\"x\">$ldap_user_attrib = \"cn\";</span>\n\n<span class=\"x\">$ldap_admin__group_dn = \"cn=mrbs_admins,ou=Grupos,dc=mac,dc=usp,dc=br\";</span>\n<span class=\"x\">$ldap_group_member_attrib = \"memberof\";</span>\n\n<span class=\"x\">$ldap_filter_base_dn = \"ou=Grupos,dc=mac,dc=usp,dc=br\";</span>\n<span class=\"x\">$ldap_filter = \"cn=AGENDA\";</span>\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Try changing your session scheme from 'php' to 'cookie'. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I did change to cookie session, but it didn't work too.</p>\n<p>I access the site and it asks for the database login and password then after login it goes straight to a screen with the messages: \"You need to update your database\" and \"Your session has expired.\"</p>\n<p>To change the session I have added to the config file:</p>\n<div class=\"codehilite\"><pre><span></span>$auth[\"session\"] = \"cookie\";\n$auth[\"session_cookie\"][\"secret\"] = \"new thing\";\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Did you give it the database username and password?   Note that you need to give the <em>database</em> username and password and not your MRBS ones.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, I did. The database login and password. It is the equal to the phpmyadmin. I tried in another browser too. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>And then what is the message that you get having entered your database username and password?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The result is the same. \"You need to update your database\" and \"Your session has expired.\"</p>\n<p>I attached the screens. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Could you try the attached diagnostic version of lib/MRBS/Form/Form.php and let me know what the output is then please?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I did. This is the output:</p>\n<div class=\"codehilite\"><pre><span></span>A base de dados necessita de uma atualiza\u00e7\u00e3o de vers\u00e3o. (the database needs to be updated)\n\n7.0.22-0ubuntu0.16.04.1NULL string(64) \"83ebf3a52efeb46fa81bf526eeb7dd9bb23dd59e29e4d86fbc1b10e1703bc12c\"\n\nYour session has expired.\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>... and if you switch back to</p>\n<div class=\"codehilite\"><pre><span></span>$auth['session'] = 'php';\n</pre></div>\n<p>?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>... and can you try temporarily adding the following lines to the bottom of internalconfig.inc.php</p>\n<div class=\"codehilite\"><pre><span></span>error_reporting(-1);\nini_reporting('display_errors', '1');\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>After I added the 2 lines to internalconfig.inc.php the site stopped to load. </p>\n<p>Page output:</p>\n<div class=\"codehilite\"><pre><span></span>Esta p\u00e1gina n\u00e3o est\u00e1 funcionando (This page is not working)\n\nwww2.mac.usp.br n\u00e3o consegue atender a esta solicita\u00e7\u00e3o no momento. (can not meet this request at this time.)\nHTTP ERROR 500\n</pre></div>\n<p>The error.log:<br/>\n<code>[Wed Dec 06 15:22:34.467003 2017] [:error] [pid 29444] [client 10.2.1.29:38898] PHP Fatal error:  Uncaught Error: Call to undefined function MRBS\\\\mrbs_default_timezone_set() in /var/www/agendamentomac_170_configurado/web/functions_error.inc:40\\nStack trace:\\n#0 /var/www/agendamentomac_170_configurado/web/functions_error.inc(99): MRBS\\\\output_error('Uncaught except...', 'Call to undefin...', true)\\n#1 [internal function]: MRBS\\\\exception_handler(Object(Error))\\n#2 {main}\\n  thrown in /var/www/agendamentomac_170_configurado/web/functions_error.inc on line 40</code></p>\n<p>The access.log:<br/>\n<code>10.2.1.29 - - [06/Dec/2017:15:23:56 -0200] \"GET /agendamentomac_170_configurado/web/ HTTP/1.1\" 500 185 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36\"</code></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you try re-uploading the MRBS 1.7.0 distribution please - all files and folders except the config file?   Just to make sure that everything has been uploaded properly.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ok.</p>\n<p>I did:<br/>\n<code>wget https://downloads.sourceforge.net/project/mrbs/mrbs/MRBS%201.7.0/mrbs-1.7.0.zip?r=https%3A%2F%2Fsourceforge.net%2Fprojects%2Fmrbs%2Ffiles%2F&amp;ts=1512581958&amp;use_mirror=ufpr</code></p>\n<p>Then, I create a new database. I imported table.sql.</p>\n<p>Then, I set up the config file with the timezone and database login and password.</p>\n<p>Then, I accessed the site and went to user list to create a new admin user. Immediately after a clicked create it goes to a screen with \"Your session has expired.\" message</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>For some reason your system is not storing / retrieving session information. The new release of MRBS creates a unique token as part of the form data and stores this value in the session data so that the two can be compared when the form is submitted. When MRBS tries to retrieve the token it just gets NULL. I will do some thinking to see if I can work out what might be going wrong or what diagnostics would help. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2017-12-06</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>There is a 1.6.1 mrbs version in production on the same server. The problem only happens with 1.7.0.</p>\n<p>Thank you very much for your help.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Could you try the attached diagnostic version of Form.php please on your 1.7.0 system?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi.</p>\n<p>I did on the clean database version and didn't get any output. There is nothing on error.log too.</p>\n<hr/>\n<p>I did on the with the old instalation and in the database access form a got:</p>\n<div class=\"codehilite\"><pre><span></span>Reserva de Salas\n\nA base de dados necessita de uma atualiza\u00e7\u00e3o de vers\u00e3o. (The database needs a version update.)\n\nPor favor insira um nome de usu\u00e1rio e senha de acesso com direitos de administra\u00e7\u00e3o. (Please enter an access username and password with admin rights.)\n\nSe n\u00e3o \u00e9 o administrador deste sistema entre em contato com Your Administrator. (If you are not the administrator of this system please contact Your Administrator.)\n\nstring(64) \"6b770add3e2935d666a11981cf75bc5c2bd94fb0ff42e3c7da538394f830b895\" array(1) { [\"csrf_token\"]=&gt; string(64) \"6b770add3e2935d666a11981cf75bc5c2bd94fb0ff42e3c7da538394f830b895\" }\n</pre></div>\n<p>Then I put the login and password of the database and got the same of before. </p>\n<div class=\"codehilite\"><pre><span></span>A base de dados necessita de uma atualiza\u00e7\u00e3o de vers\u00e3o. (The database needs a version update.)\n\nYour session has expired.\n</pre></div>\n<hr/>\n<p>My system is:</p>\n<div class=\"codehilite\"><pre><span></span>PHP 7.0.22-0ubuntu0.16.04.1 (cli) ( NTS )\nCopyright (c) 1997-2017 The PHP Group\nZend Engine v3.0.0, Copyright (c) 1998-2017 Zend Technologies\n    with Zend OPcache v7.0.22-0ubuntu0.16.04.1, Copyright (c) 1999-2017, by Zend Technologies\n</pre></div>\n<div class=\"codehilite\"><pre><span></span>DISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=16.04\nDISTRIB_CODENAME=xenial\nDISTRIB_DESCRIPTION=\"Ubuntu 16.04.3 LTS\"\nNAME=\"Ubuntu\"\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\nID=ubuntu\nID_LIKE=debian\nPRETTY_NAME=\"Ubuntu 16.04.3 LTS\"\nVERSION_ID=\"16.04\"\nHOME_URL=\"http://www.ubuntu.com/\"\nSUPPORT_URL=\"http://help.ubuntu.com/\"\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\nVERSION_CODENAME=xenial\nUBUNTU_CODENAME=xenial\n</pre></div>\n<div class=\"codehilite\"><pre><span></span>Server version: Apache/2.4.18 (Ubuntu)\nServer built:   2017-07-27T14:34:01\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Here's another diagnostic version of Form.php to use.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I did on the updated version. </p>\n<p>Before login:</p>\n<div class=\"codehilite\"><pre><span></span>Por favor insira um nome de usu\u00e1rio e senha de acesso com direitos de administra\u00e7\u00e3o.\n\nSe n\u00e3o \u00e9 o administrador deste sistema entre em contato com Your Administrator.\n\narray(0) { }\n</pre></div>\n<p>After login:</p>\n<div class=\"codehilite\"><pre><span></span>A base de dados necessita de uma atualiza\u00e7\u00e3o de vers\u00e3o.\narray(0) { }\nYour session has expired.\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  Another version of Form.php to try.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Before login (There is nothing new):</p>\n<div class=\"codehilite\"><pre><span></span>A base de dados necessita de uma atualiza\u00e7\u00e3o de vers\u00e3o.\n\nPor favor insira um nome de usu\u00e1rio e senha de acesso com direitos de administra\u00e7\u00e3o.\n\nSe n\u00e3o \u00e9 o administrador deste sistema entre em contato com Your Administrator.\n</pre></div>\n<p>After login (nothing new too:</p>\n<div class=\"codehilite\"><pre><span></span>A base de dados necessita de uma atualiza\u00e7\u00e3o de vers\u00e3o.\n\nYour session has expired.\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Mmmm. I'm puzzled.  It looks like your PHP sessions aren't working.    But the evidence of your 1.6.1 installation suggests otherwise.   In your 1.6.1 installation what is $auth<span>['session']</span> set to?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>There is no $auth<span>['session']</span> on my 1.6.1 config file. It is on default.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It is using a proxy. The 1.6.1 and 1.7.0 are on the private server 0.0.0.0 and they are accessed through a public server 0.0.0.1. It is done with the /etc/apache2/sites-enabled/000-default on the public server</p>\n<p>1.6.1</p>\n<div class=\"codehilite\"><pre><span></span>RewriteRule ^/agendamentomac$        /agendamentomac/ [R=permanent]\nRewriteRule ^/agendamentomac/(.*)        to://0.0.0.0/agendamentomac/$1\nRewriteRule ^to://([^/]+)/(.*)  http://$1/$2 [E=SERVER:$1,P,L]\nProxyPassReverse /agendamentomac/  http://0.0.0.0/agendamentomac/\n</pre></div>\n<p>1.7.0</p>\n<div class=\"codehilite\"><pre><span></span>RewriteRule ^/agendamentomac_170_configurado$        /agendamentomac_170_configurado/web [R=permanent]\nRewriteRule ^/agendamentomac_170_configurado/(.*)        to://0.0.0.0/agendamentomac_170_configurado/web/$1\nRewriteRule ^to://([^/]+)/(.*)  http://$1/$2 [E=SERVER:$1,P,L]\nProxyPassReverse /agendamentomac_170_configurado/  http://0.0.0.0/agendamentomac_170_configurado/web\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Bruno Calado 2017-12-07</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you try this version of init.inc and see what happens?  I have disabled sessions in this version.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/397/", "title": "#397 Flag \"All day\" adds an extra full day to end date of entry on each edit this entry", "status": "closed", "labels": "all_day end_date (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS-Version of ticketed behavior: 1.7.0<br>\nBehavior has been observed when: creating/editing a non-repeating, non-periods, all-day entry</p>\n<p>Hi folks,</p>\n<p>like written above, whenever creating or editing an entry with the boolean flag \"All day\" enabled, the end date is being wrongly calculated as exactly one day too far beyond the submitted end_date.</p>\n<p>Reproducible steps and data example:<br>\n1. Open form to create a new entry or to modify any existing entry.<br>\n2. Enter both start and end date as the same date, e.g. \"2017-11-26\".<br>\n3. Enable the flag \"All day\" to make this entry last the whole given day.<br>\n4. Save this new (or modified) entry.<br>\n5. View it in the room schedule or re-open it in edit form to verify...:<br>\na) ...the correctly taken start date, e.g. \"2017-11-26\"<br>\nb) ...the mistakenly calculated end date as a one-off-failure, e.g. \"2017-11-27\", when it actually should be (the evening's end of) \"2017-11-26\"</p>\n<p>When re-editing this same entry and saving without any manual modification, the date is going to be moved another one into the future, e.g. now \"2017-11-28\". And this goes on for every consecutive re-open/re-save.</p>\n<p>As a quick fix (as in \"works for me\") I disabled the following source code block that stretches the end of the entry by an additional (and unnecessary?) full day into the future:</p>\n<p>Original file \"edit_entry_handler.php\" at line 395 (here commented to disable):<br>\n// if (day_past_midnight())<br>\n// {<br>\n//   $end_seconds += SECONDS_PER_DAY;<br>\n// }</p>\n<p>Although that seems to work for me now, I do not know of any pitfalls and possible side effects from this modification.<br>\nTherefore I'd appreciate someone feeling closer to the code base to verify or deny this quick fix and implement an appropriate official fix to the source tree.</p>\n<p>Thanks,<br>\nRainer</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The fix is certainly safe, provided that you don't have any areas where the booking day stretches past midnight.    Those four lines were introduced in Release 1.7.0 as a fix for another problem to do with the all day checkbox - see <a href=\"https://sourceforge.net/p/mrbs/patches/62/.\">https://sourceforge.net/p/mrbs/patches/62/.</a>  Commenting out those four lines just takes you back to the behaviour of 1.6.1.</p>\n<p>However, I can't reproduce the behaviour that you are seeing.   Can you tell me please the following information, both for the area that you are seeing the problem with and also the default settings from your config file:</p>\n<p>(a) the start of the first slot (or $morningstarts and $morningstarts_minutes)<br/>\n(b) the resolution<br/>\n(c) the start of the last slot (or $eveningends and $eveningends_minutes)<br/>\n(d) the timezone</p>\n<p>Thanks</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/aaf5a6ce/7178/\"><div class=\"markdown_content\"><p>Sure, here it is:</p>\n<p>(a) 08:00 (= specified by local config)<br/>\n(b) 30 minutes (= inherited from distribution config)<br/>\n(c) 23:30 (= specified by local config)<br/>\n(d) Europe/Berlin (= specified by local config)</p>\n<p>All those configuration values had been set before the creation of the rooms some years ago and never changed since.</p>\n<p>Additionally here is a full diff (sensitive values being replaced by \"local_value\" strings) between the originally downloaded distribution file \"config.inc.php\" and the locally used config file.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">#</span> <span class=\"nt\">diff</span> <span class=\"o\">~/</span><span class=\"nt\">Downloads</span><span class=\"o\">/</span><span class=\"nt\">mrbs-1</span><span class=\"p\">.</span><span class=\"nc\">7</span><span class=\"p\">.</span><span class=\"nc\">0</span><span class=\"o\">/</span><span class=\"nt\">web</span><span class=\"o\">/</span><span class=\"nt\">config</span><span class=\"p\">.</span><span class=\"nc\">inc</span><span class=\"p\">.</span><span class=\"nc\">php</span> <span class=\"o\">./</span><span class=\"nt\">webroot</span><span class=\"o\">/</span><span class=\"nt\">mrbs</span><span class=\"o\">/</span><span class=\"nt\">config</span><span class=\"p\">.</span><span class=\"nc\">inc</span><span class=\"p\">.</span><span class=\"nc\">php</span>\n<span class=\"nt\">35c35</span>\n<span class=\"o\">&lt;</span> <span class=\"o\">//$</span><span class=\"nt\">timezone</span> <span class=\"o\">=</span> <span class=\"s2\">\"Europe/London\"</span><span class=\"o\">;</span>\n<span class=\"nt\">---</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">timezone</span> <span class=\"o\">=</span> <span class=\"s2\">\"Europe/Berlin\"</span><span class=\"o\">;</span>\n<span class=\"nt\">42c42</span>\n<span class=\"o\">&lt;</span> <span class=\"o\">$</span><span class=\"nt\">dbsys</span> <span class=\"o\">=</span> <span class=\"s2\">\"mysql\"</span><span class=\"o\">;</span>\n<span class=\"nt\">---</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">dbsys</span> <span class=\"o\">=</span> <span class=\"s2\">\"pgsql\"</span><span class=\"o\">;</span>\n<span class=\"nt\">52c52</span>\n<span class=\"o\">&lt;</span> <span class=\"o\">$</span><span class=\"nt\">db_database</span> <span class=\"o\">=</span> <span class=\"s2\">\"mrbs\"</span><span class=\"o\">;</span>\n<span class=\"nt\">---</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">db_database</span> <span class=\"o\">=</span> <span class=\"s2\">\"local_database_name\"</span><span class=\"o\">;</span>\n<span class=\"nt\">58c58</span>\n<span class=\"o\">&lt;</span> <span class=\"o\">$</span><span class=\"nt\">db_login</span> <span class=\"o\">=</span> <span class=\"s2\">\"mrbs\"</span><span class=\"o\">;</span>\n<span class=\"nt\">---</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">db_login</span> <span class=\"o\">=</span> <span class=\"s2\">\"local_database_user\"</span><span class=\"o\">;</span>\n<span class=\"nt\">60c60</span>\n<span class=\"o\">&lt;</span> <span class=\"o\">$</span><span class=\"nt\">db_password</span> <span class=\"o\">=</span> <span class=\"s1\">'mrbs-password'</span><span class=\"o\">;</span>\n<span class=\"nt\">---</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">db_password</span> <span class=\"o\">=</span> <span class=\"s1\">'local_database_password'</span><span class=\"o\">;</span>\n<span class=\"nt\">76a77</span><span class=\"o\">,</span><span class=\"nt\">97</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">url_base</span> <span class=\"o\">=</span> <span class=\"s2\">\"https://lindeserver.linde.linde-kirchheim.de/raum\"</span><span class=\"o\">;</span>\n<span class=\"o\">&gt;</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">morningstarts</span>         <span class=\"o\">=</span> <span class=\"nt\">8</span><span class=\"o\">;</span>   <span class=\"o\">//</span> <span class=\"nt\">must</span> <span class=\"nt\">be</span> <span class=\"nt\">integer</span> <span class=\"nt\">in</span> <span class=\"nt\">range</span> <span class=\"nt\">0-23</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">morningstarts_minutes</span> <span class=\"o\">=</span> <span class=\"nt\">0</span><span class=\"o\">;</span>   <span class=\"o\">//</span> <span class=\"nt\">must</span> <span class=\"nt\">be</span> <span class=\"nt\">integer</span> <span class=\"nt\">in</span> <span class=\"nt\">range</span> <span class=\"nt\">0-59</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">eveningends</span>           <span class=\"o\">=</span> <span class=\"nt\">23</span><span class=\"o\">;</span>  <span class=\"o\">//</span> <span class=\"nt\">must</span> <span class=\"nt\">be</span> <span class=\"nt\">integer</span> <span class=\"nt\">in</span> <span class=\"nt\">range</span> <span class=\"nt\">0-23</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">eveningends_minutes</span>   <span class=\"o\">=</span> <span class=\"nt\">30</span><span class=\"o\">;</span>   <span class=\"o\">//</span> <span class=\"nt\">must</span> <span class=\"nt\">be</span> <span class=\"nt\">integer</span> <span class=\"nt\">in</span> <span class=\"nt\">range</span> <span class=\"nt\">0-59</span>\n<span class=\"o\">&gt;</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">weekstarts</span> <span class=\"o\">=</span> <span class=\"nt\">1</span><span class=\"o\">;</span>        <span class=\"o\">//</span><span class=\"nt\">1</span><span class=\"o\">=</span><span class=\"nt\">Monday</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">dateformat</span> <span class=\"o\">=</span> <span class=\"nt\">1</span><span class=\"o\">;</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">mincals_week_numbers</span> <span class=\"o\">=</span> <span class=\"nt\">TRUE</span><span class=\"o\">;</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">default_view</span> <span class=\"o\">=</span> <span class=\"s2\">\"week\"</span><span class=\"o\">;</span>\n<span class=\"o\">&gt;</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">max_rep_entrys</span> <span class=\"o\">=</span> <span class=\"nt\">9999</span> <span class=\"o\">+</span> <span class=\"nt\">1</span><span class=\"o\">;</span>   <span class=\"o\">//</span> <span class=\"nt\">maximum</span> <span class=\"nt\">repeating</span> <span class=\"nt\">entries</span> <span class=\"nt\">per</span> <span class=\"nt\">series</span><span class=\"o\">,</span> <span class=\"nt\">creates</span> <span class=\"nt\">policy</span> <span class=\"nt\">warning</span> <span class=\"nt\">when</span> <span class=\"nt\">limit</span> <span class=\"nt\">is</span> <span class=\"nt\">reached</span>\n<span class=\"o\">&gt;</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">auth</span><span class=\"cp\">[</span><span class=\"s2\">\"session\"</span><span class=\"cp\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"cookie\"</span><span class=\"o\">;</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">auth</span><span class=\"cp\">[</span><span class=\"s2\">\"session_cookie\"</span><span class=\"cp\">][</span><span class=\"s2\">\"secret\"</span><span class=\"cp\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"this was secret and no longer is\"</span><span class=\"o\">;</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">auth</span><span class=\"cp\">[</span><span class=\"s2\">\"session_cookie\"</span><span class=\"cp\">][</span><span class=\"s2\">\"session_expire_time\"</span><span class=\"cp\">]</span> <span class=\"o\">=</span> <span class=\"o\">(</span><span class=\"nt\">60</span><span class=\"o\">*</span><span class=\"nt\">60</span><span class=\"o\">*</span><span class=\"nt\">24</span><span class=\"o\">);</span> <span class=\"o\">//</span> <span class=\"nt\">1</span> <span class=\"nt\">day</span>\n<span class=\"o\">&gt;</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">auth</span><span class=\"cp\">[</span><span class=\"s2\">\"type\"</span><span class=\"cp\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"db\"</span><span class=\"o\">;</span>\n<span class=\"o\">&gt;</span>\n<span class=\"o\">&gt;</span> <span class=\"o\">$</span><span class=\"nt\">auth</span><span class=\"cp\">[</span><span class=\"s1\">'only_admin_can_book'</span><span class=\"cp\">]</span> <span class=\"o\">=</span> <span class=\"nt\">TRUE</span><span class=\"o\">;</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: John Beranek 2017-11-28</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/aaf5a6ce/bbaf/\"><div class=\"markdown_content\"><p>(Sorry for the unintentional formatting accident I didn't know in advance:<br/>\nObviously some special characters from the original shell output  are interpreted as special format commands.<br/>\nThere is the hash from the bash command and the \"triple dash\" as well as the \"greater than\" that build a headline and both horizontal divider lines and vertical reply lines.<br/>\nSo keep it in mind when reading the diff paragraph.)</p>\n<p>Thanks for your assistence so far,<br/>\nRainer</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/aaf5a6ce/8183/\"><div class=\"markdown_content\"><p>(yes, the \"now not so secret anymore\" session cookie that I forgot to mask has just already been burnt and replaced. <em>sic</em>)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks. I can reproduce the problem now and understand what is going wrong. I will think about the best way to fix it. In the meantime you are safe with commenting out those lines. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have now committed a proper fix in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/2dc6c2eb300b2bab6a5c9e096d95fe4283393eb3/\">2dc6c2</a></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">    if ($end_seconds &lt;= $start_seconds)</span>\n<span class=\"x\">    {</span>\n<span class=\"x\">      $end_seconds += SECONDS_PER_DAY;</span>\n<span class=\"x\">    }</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/aaf5a6ce/622d/\"><div class=\"markdown_content\"><p>Looks absolutely reasonable.<br/>\nI have put your patch into my system and after testing a little bit around everything still feels right.<br/>\nThis ticket may now become officially closed. :)</p>\n<p>Thank you very much, Campbell.</p>\n<p>Rainer</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/396/", "title": "#396 view_entry.php?id=xx", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, I have a problem, when I make a reservation in my mrbs the system send me a mail with detail of reservation but in the mail body show the title of reservation is a link to view_entry.php?id=19. How I can Remove this link and only show de title .</p>\n<p>Thanks</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Please see <a href=\"https://sourceforge.net/p/mrbs/support-requests/1354/\">https://sourceforge.net/p/mrbs/support-requests/1354/</a> - I moved your previous bug there, as it wasn't a bug</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/394/", "title": "#394 Remove unused jquery-1.11.0.min.js", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>There's a stale copy of jquery-1.11.0.min.js in web/jquery. It is disabled in web/js.inc.<br>\nIs that wanted or just a leftover ?</p>\n<p>Regards,<br>\nXavier</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n          <a href=\"/p/mrbs/bugs/394/attachment/mrbs-1.6.1-Remove_stale_copy_of_jquery_1_11_0_min_js.patch\">mrbs-1.6.1-Remove_stale_copy_of_jquery_1_11_0_min_js.patch</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It's not actually disabled, but in conditional comments and used if the browser is IE8 or less, as jQuery 2 and 3 only support IE9 and higher.    So I think it should remain.</p>\n<p>However, at the same time I'm wondering whether we should drop support for IE8 now altogether?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Both JQuery 1.x and IE 8 are not supported anymore, so I'd say yes.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>And nor is XP, but it's remarkable how many systems out there are still running XP!   We've been keeping support for IE8 in up and until now as it's been relatively easy to do, but it's now getting more and more difficult to support it.  I think I'll start a discussion on the MRBS-general mailing list to see if there are significant objections to dropping it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This file was removed in the 1.7.0 release.  Support for IE9 and below has now been dropped.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/393/", "title": "#393 Joomla auth not working", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello<br>\nThanks for that great script.<br>\nI try to use Joomla integration, but I have a 500 error, here is my setup : </p>\n<p>//JOOMLA AUTH<br>\n$auth<span>[\"type\"]</span> = \"Joomla\";<br>\n$auth<span>[\"session\"]</span> = \"Joomla\";<br>\n$auth<span>['joomla']</span><span>['rel_path']</span> = '../..';<br>\n$auth<span>['joomla']</span><span>['admin_access_levels']</span> = array(\"28\", \"8\");<br>\n$auth<span>['joomla']</span><span>['user_access_levels']</span> = array(\"11\", \"23\");</p>\n<p>Thanks for your help.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d8602dbe/3f06/\"><div class=\"markdown_content\"><p>Should I change something in Joomla files ?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No, there's no need to change anything in Joomla.</p>\n<p>What's the error that you are getting?  It should be in your PHP error log - normally a file called 'error_log' in your MRBS directory.   If you can't find it then you can force errors to be displayed in the browser by adding the following lines to the bottom of internalconfig.inc.php:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">error_reporting(-1);</span>\n<span class=\"x\">ini_set('display_errors', '1');</span>\n</pre></div>\n<p>Remember to remove them before putting it into production.</p>\n<p>The most likely cause is that 'rel_path' is wrong and so MRBS can't find the relevant Joomla files.   Where is your MRBS installation in relation to Joomla?   Where is the MRBS file 'systemdefaults.inc.php' in relation to the Joomla file 'configuration.php'?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/392/", "title": "#392 XSS in bundled jquery-ui", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>mrbs 1.6.1 is bundling jquery-ui 1.11.2 which is known to be vulnerable to an XSS.<br>\n<a href=\"http://www.cvedetails.com/cve/CVE-2016-7103/\" rel=\"nofollow\">http://www.cvedetails.com/cve/CVE-2016-7103/</a></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ok, thanks. I will take a look tomorrow. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have now fixed this in the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/f92a4e49899ba714e52b77aa27adef1bc92c5b35/\">f92a4e</a> by upgrading to jQuery UI 1.12.1 and jQuery 3.2.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you.<br/>\nAre you planning an mrbs release to fix this ?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, we'll be making a 1.6.2 release in the next couple of months.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The 1.6.2 release turned out to be the 1.7.0 release.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/391/", "title": "#391 $ max_booking_date_enabled BUG", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello MRBS developer,</p>\n<p>if $ max_booking_date_enabled = TRUE; then can still be booked with the regular appointments after the $ max_booking_date.</p>\n<p>Is it a function or a BUG? ;)</p>\n<p>If I have enabled the $ max_booking_date_enabled, then I expect I can not make postings after that date.</p>\n<p>Best regards,<br>\nMW</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this on 1.6.1. Are you sure that you are logged in as an ordinary user? The policy does not apply to admins. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2017-09-12</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/061424a8/6d4b/\"><div class=\"markdown_content\"><p>Yes im logged in as an ordinary user but it is an older version than 1.6.1. Thank you!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK.   If you have any problems on 1.6.1, then just let us know.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/390/", "title": "#390 Change to DD/MM/YYYY Date Format", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Dear Support,</p>\n<p>I would like to change the date from MM/DD/YYYY to DD/MM/YYYY. Can you please let me know how to do that? I changed the language on Firefox, Chrome. And they are working fine but I don\u2019t think that all users can do that on their laptop. I need to modify this in MRBS.<br>\nThank you.</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/390/attachment/MRBS161.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/390/attachment/MRBS161.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/390/attachment/MRBS161.png\">MRBS161.png</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Set the following in your config file:</p>\n<div class=\"codehilite\"><pre><span></span>$disable_automatic_language_changing = 1;\n$default_language_tokens = \"en-GB\";\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thansk you Campbell Morrison  This did the trick for me. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Does he/she not need to override locale? If so, it will depend on the OS the server runs on:</p>\n<p>Linux:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$override_locale = \"en_GB.UTF-8\";</span>\n</pre></div>\n<p>Windows:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$override_locale = \"eng\";</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, you might think so and that's what I thought at first.  But I tested the $override_locale change and that doesn't change the date format in the datepicker.    To make the datepicker change you have to change the language tokens.</p>\n<p>Whether that's the desired behaviour or not probably needs a bit of thought.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank You Campbell Morrison, this worked fro me.</p>\n<p>Cheers!!!!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/389/", "title": "#389 Email Body Issue", "status": "wont-fix", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, <br>\nI am working on a site for which the mrbs has already been implemented.However, I need to make a change in one of the component.<br>\nThe conference room calender sends out emails after a reservation, when it is approved or disapproved. In the email at the bottom is the following text:</p>\n<hr>\n<p>If you need to cancel your room reservation, please send an email to the<br>\nfollowing admins:<br>\nFor TAP Bldg: cpair@umd.edu<br>\nFor TVB Bldg: kasulliv@umd.edu</p>\n<hr>\n<p>I need to change one of the email ids but I not able to find this emailid anywhere in the files. I am not sure how is it being populated. I checked the database and there is no record of this emailid anywhere. Can you help me to find and edit the body of the mail which is generated so that I can edit this portion. TIA.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is non-standard text.  I would search the files for \"If you need to cancel\".  My guess is that is in (a) functions_mail.inc or (b) confic.inc.php or (c) one of the lang files.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; wont-fix</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have performed an exhaustive search in all the files for the text. Could not find anything. Any other ideas?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I would suggest looking at the code in functions_mail.inc and seeing when the text appears.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>where is the text for the custom_html variable entered ? I cannot find it in the lang file</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Custom HTML is an attribute of an area, configured via the \"Rooms\" button, and stored in the database</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>When the user makes a booking on the system..he receives an email.. Where can we set the text of that email? Can you help me out ?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The strings are in the lang files.  Search for 'mail'.    Don't edit the lang files, but instead use the $vocab_override setting in the config file.   See systemdefaults.inc.php for details of how to do this.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>So if I want to add some custom text in the approval mail which is sent, what attribute can I use from the lang files?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Have a look at emails that are sent out , work out which text you want to change and then find that text in the lang file.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/388/", "title": "#388 Report cannot search on associative field with integer keys", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>We have a custom field with select options that must have integer keys as they are defined by a custom table that has an autoincrement index field. This only seems to be a problem in report. When called with no parameters, report correctly loads the select options as a datalist. On the subsequent call, the URI is properly formed with match_fieldname=textvalue. However, because of the following code, $match_fieldname gets the value zero from get_form_var because $var_type takes on the value 'integer' from the MYSQL field properties.</p>\n<div class=\"codehilite\"><pre><span></span>// Get the custom form inputs\nforeach ($custom_fields as $key =&gt; $value)\n{\n$var = \"match_$key\";\nif (($field_natures[$key] == 'integer') &amp;&amp; ($field_lengths[$key] &gt; 2))\n{\n$var_type = 'int';\n}\nelse\n{\n$var_type = 'string';\n}\n$$var = get_form_var($var, $var_type);\n}\n</pre></div>\n\n\n<p>I'm wondering if a configuration setting such as </p>\n<div class=\"codehilite\"><pre><span></span>$force_assoc['fieldname']=TRUE;\n</pre></div>\n\n\n<p>would be a viable solution to this and ticket 387</p>\n<div class=\"codehilite\"><pre><span></span>// Get the custom form inputs\nforeach ($custom_fields as $key =&gt; $value)\n{\n$var = \"match_$key\";\nif (($field_natures[$key] == 'integer') \n        &amp;&amp; ($field_lengths[$key] &gt; 2)\n        &amp;&amp; (!$force_assoc[$key])\n{\n$var_type = 'int';\n}\nelse\n{\n$var_type = 'string';\n}\n$$var = get_form_var($var, $var_type);\n}\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/387/", "title": "#387 is_assoc function only true if array is pure associative", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have a custom field with select option keys that are mostly, but not entirely, numeric. is_assoc will return false unless ALL keys are strings. I think that the method of vhermecz at ixpert dot hu is more appropriate for MRBS and I am now using that instead.</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/386/", "title": "#386 End date before Start date when using periods?", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>We are using MRBS for some years now, but after updating to 1.6.1 there is some strange behaviour. We are using periods, by the way.<br>\nWhen a user wants to enter a booking the end date is one day before the start date, disabling the Slot selectors and also effectively prevents the use of $multipleday_allow=FALSE.<br>\nAfter correcting the end date the end slot selector defaults to the last period of the day, which is undesirable: I would rather have the end slot be the same as the start slot by default.</p>\n<p>In the old version (1.2.3+) the use of periods worked flawlessly ... Is this a bug or am I miconfiguring somewhere??</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think this is a bug.   There have been a number of fixes in this area since 1.6.1.   Can you try updating to the latest version of the code in the default branch and see if you still see the problem.   You can get the code <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/default/tarball\">here</a>.   Treat it like an upgrade.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9de83659/8605/\"><div class=\"markdown_content\"><p>Tried the upgrade, database got updated, but after that got a 500 error returning to the main page, so had to roll back... Frustrating!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, I will take a look (at both problems).   Do you know what the 500 error was?  Anything in the error log?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2017-05-31</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9de83659/359f/\"><div class=\"markdown_content\"><p>Sorry, my fault ... forgot to import my homemade AD auth module ... Now it is working, and the bug is gone! Thanks for your input, and keep up the good work: MRBS is a great piece of software!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good, glad it is working.   By the way, one new feature you get with the latest software that you may be interested in is the ability to define different periods for each area.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9de83659/3d46/\"><div class=\"markdown_content\"><p>One more question: where can one set $multiday_allowed ? I tried setting it in config.inc.php, but that doesn't work ... I can only get it to work by hacking it into the create_field_entry_end_date function, but that is not the way it supposed to work, I assume?!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The config setting is</p>\n<div class=\"codehilite\"><pre><span></span>$auth['only_admin_can_book_multiday'] = false;\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9de83659/9d93/\"><div class=\"markdown_content\"><p>Thanks, that did it. Found another minor bug: when logged in, the text above the logout-button reads \"You are 1\" , no matter who is logged in. Otherwise everything is working fine now!</p>\n<p>Feature request: is it possible to incorporate the settings max_booking_date and min_booking_date somewhere in the GUI (area settings?), so that an admin can set these without server access? In our situation the people responsible for the school timetable would be the ones to set these dates and they are not to be trusted on the server cli ... :-)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce the \"You are 1\" problem.  It may be to do with your AD auth module?</p>\n<p>I'll have a think about those two config settings.    I think they are probably going to be global settings rather than area settings (if they are area settings you'll have to keep on changing them for every area).  In which case they'd need a config GUI, which we don't have at the moment.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9de83659/89de/\"><div class=\"markdown_content\"><p>Unless something changed in the handling of user names between the auth modules and the rest of the system it should not be the modified AD module; it worked just fine untill the last update to the 1.6.1+ version... I also noticed now that the user is not recognized anymore: a user can't change his/her bookings anymore and an admin is also not recognized as such ... <br/>\nCan it be a change in session handling???</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, the session code has changed in the 1.6.1+ version.   It sounds like the function getUserName() is not returning what it should be.   What have you got $auth<span>['session']</span> set to?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9de83659/82a1/\"><div class=\"markdown_content\"><p>$auth<span>['session']</span> is set to php </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ah, OK, I see the problem.   Yes, you are right, the interface to the auth modules has changed.  authValidateUser() should now return as follows:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cm\">/* authValidateUser($user, $pass)</span>\n<span class=\"cm\"> * </span>\n<span class=\"cm\"> * Checks if the specified username/password pair are valid</span>\n<span class=\"cm\"> * </span>\n<span class=\"cm\"> * $user  - The user name</span>\n<span class=\"cm\"> * $pass  - The password</span>\n<span class=\"cm\"> * </span>\n<span class=\"cm\"> * Returns:</span>\n<span class=\"cm\"> *   false    - The pair are invalid or do not exist</span>\n<span class=\"cm\"> *   string   - The validated username</span>\n<span class=\"cm\"> */</span><span class=\"w\"></span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9de83659/633e/\"><div class=\"markdown_content\"><p>I solved my problem by using ldap authentication, so I don't need the custom mod anymore! Better so, this way there will be less things to remember when upgrading in future! Thanks for your input anyway!</p>\n<p>Still hope there will be a GUI for  setting max and min booking dates in future...:-)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/385/", "title": "#385 Mrbs and joomla 3.7", "status": "open", "labels": "Joomla 3.7 (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi</p>\n<p>I upgraded Joomla to 3.7, but now MRBS i just showing HTTP ERROR 500 page.<br>\nIs MRBS 1.5 not working with 3.7 ?</p>\n<p>Best regrads<br>\nBruno S\u00f8rensen</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suspect you are using the MRBS - Joomla bridge, which is a separate project.  I know there were some issues with the Joomla bridge and some versions of Joomla.</p>\n<p>If you upgrade to MRBS 1.6.1 you will find that Joomla has now been added to standard MRBS as a fully supported authentication method.   Details of how to configure MRBS for Joomla can be found in systemdefaults.inc.php.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/384/", "title": "#384 Changed behavior for connecting to PostgreSQL through a UNIX socket", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Since MRBS 1.6, it is no longer possible to connect to PostgreSQL through a UNIX socket by leaving $db_host empty - the DSN passed to PDO is invalid. Instead, I have to explicitly set it to the path where the socket resides.</p>\n<p>The comments in the sample config file still refer to the old behavior. At the very least, the documentation should be updated, but being able to use the old behavior (which was more portable by using the system's default location) would be even better.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for the report, checked in a fix as <a class=\"alink\" href=\"/p/mrbs/hg-code/ci/0fe8e6c91c84a32c7fd1255f362fa8622e90bc4d/\">[hg-code:0fe8e6]</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<h4>Related</h4>\n<p>\n<a href=\"/u/joehorn/mrbs/ci/0fe8e6c91c84a32c7fd1255f362fa8622e90bc4d/\">Commit: [0fe8e6]</a><br/>\n</p>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>and <a class=\"alink\" href=\"/p/mrbs/hg-code/ci/e9376b765aa2420ec2347628e57040877c0a7a42/\">[hg-code:e9376b]</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<h4>Related</h4>\n<p>\n<a href=\"/u/joehorn/mrbs/ci/e9376b765aa2420ec2347628e57040877c0a7a42/\">Commit: [e9376b]</a><br/>\n</p>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Works as expected. Thank you!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/383/", "title": "#383 404 Error after saving reservation with Windows 7 IE browser", "status": "open", "labels": "404 (1)\n          \n        \n          \n              windows 7 (1)\n          \n        \n          \n              internet explorer (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,</p>\n<p>I've found a bug when using Windows 7 with Internet Explorer. After saving a new meeting it was redirected to a 404 page.<br>\nAfter same research I found out, that the \"if\" in the file edit_entry_handler.php (on line 580) made the error come up. This if resolved to false and the else part returned an invalid url.<br>\nI've commented this if out and now everything works as excepted.</p>\n<p>It would be nice if this error could be corrected in a futur release.</p>\n<p>Greetings, Andr\u00e9</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS are you looking at?   I can't see an if else at line 580 in 1.6.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, sorry, I missed the else.   I assume you mean the one at 579 in 1.6.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I couldn't reproduce the problem, but I've rewritten the code anyway.   See <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/6960bb03364720a843f41e4ffffb405e1f0564f8/\">6960bb</a>.   The new section of code is below.  Maybe you could try it on your system and see if it fixes the problem?   If it doesn't fix the problem, maybe you could post the $returl that is causing the problem (having removed any domain names etc.).</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">// First get the return URL basename, having stripped off the old query string</span>\n<span class=\"x\">//   (1) It's possible that $returl could be empty, for example if edit_entry.php had been called</span>\n<span class=\"x\">//       direct, perhaps if the user has it set as a bookmark</span>\n<span class=\"x\">//   (2) Avoid an endless loop.   It shouldn't happen, but just in case ...</span>\n<span class=\"x\">//   (3) If you've come from search, you probably don't want to go back there (and if you did we'd</span>\n<span class=\"x\">//       have to preserve the search parameter in the query string)</span>\n<span class=\"x\">if (isset($returl) &amp;&amp; ($returl !== ''))</span>\n<span class=\"x\">{</span>\n<span class=\"x\">  $returl = parse_url($returl, PHP_URL_PATH);</span>\n<span class=\"x\">  if ($returl !== false)</span>\n<span class=\"x\">  {</span>\n<span class=\"x\">    $returl = explode('/', $returl);</span>\n<span class=\"x\">    $returl = end($returl);</span>\n<span class=\"x\">  }</span>\n<span class=\"x\">}</span>\n\n<span class=\"x\">if (empty($returl) || </span>\n<span class=\"x\">    in_array($returl, array('edit_entry.php',</span>\n<span class=\"x\">                            'edit_entry_handler.php',</span>\n<span class=\"x\">                            'search.php')))</span>\n<span class=\"x\">{</span>\n<span class=\"x\">  switch ($default_view)</span>\n<span class=\"x\">  {</span>\n<span class=\"x\">    case 'month':</span>\n<span class=\"x\">      $returl = 'month.php';</span>\n<span class=\"x\">      break;</span>\n<span class=\"x\">    case 'week':</span>\n<span class=\"x\">      $returl = 'week.php';</span>\n<span class=\"x\">      break;</span>\n<span class=\"x\">    default:</span>\n<span class=\"x\">      $returl = 'day.php';</span>\n<span class=\"x\">      break;</span>\n<span class=\"x\">  }</span>\n<span class=\"x\">}</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0a9d932f/b9ec/\"><div class=\"markdown_content\"><p>Hello,</p>\n<p>unfortunately it has not resolved the problem.<br/>\nThe returl has the following value:<br/>\n/mrbs/edit_entry.php?area=1&amp;room=11&amp;hour=10&amp;minute=0&amp;year=2017&amp;month=03&amp;day=27</p>\n<p>In addition I found out, that the problem is due to the fact, that I use an iframe to include the MRBS.<br/>\nWhen removing the iframe the error does not occur.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, thanks, that's useful information.   I'll see if I can reproduce it using an iframe.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I did manage to reproduce it once, but not again.  However searching on the net I think the problem is that IE8 doesn't like relative URLs.   Could you try it again with the following piece of code underneath the section I gave you above:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">// Turn the location into an absolute location, to keep IE8 happy.</span>\n<span class=\"x\">$scheme = (isset($_SERVER['HTTPS']) &amp;&amp; ($_SERVER['HTTPS'] !== 'off')) ? 'https' : 'http';</span>\n<span class=\"x\">$host = $HTTP_HOST;</span>\n<span class=\"x\">$dir = dirname($PHP_SELF);</span>\n<span class=\"x\">$returl = \"$scheme://$host$dir/$returl\";</span>\n</pre></div>\n<p>I have committed this change to the default branch in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/ebe0e8bd02a1b90309e7df9126c85b1cdf2c2152/\">ebe0e8</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now reverted this change in the default branch as it didn't solve the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>If this fixes the problem then I think there are a number of other places in the code where you'll meet the same problem.  For example try clicking on the \"Edit\" icon to edit an area's settings on the \"Rooms\" page.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0a9d932f/cb30/\"><div class=\"markdown_content\"><p>Unfortunately that did not fix the problem either.<br/>\nThe Internet Explorer version I use is 11.0.9600.18499 so it is not IE8 related.<br/>\nThe \"Edit\" from a room does work like suspected and I did not find anything else than is not working. Also the reservation is executed i.e. when I can see the reservation created it's only that I am redirected to the wrong site after the creation of the reservation.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Does it work with other browsers?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0a9d932f/1cec/\"><div class=\"markdown_content\"><p>I've tried with Firefox and there it is working.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2017-03-30</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The only other suggestion I've found on the net is that there's something weird going on with caching.  Can you try adding the following lines at the top of edit_entry_handler.php, just after the 'require' statements:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">header</span><span class=\"o\">(</span><span class=\"s2\">\"Pragma: no-cache\"</span><span class=\"o\">);</span>                          <span class=\"o\">//</span> <span class=\"nt\">HTTP</span> <span class=\"nt\">1</span><span class=\"p\">.</span><span class=\"nc\">0</span>\n<span class=\"nt\">header</span><span class=\"o\">(</span><span class=\"s2\">\"Expires: Mon, 26 Jul 1997 05:00:00 GMT\"</span><span class=\"o\">);</span>    <span class=\"o\">//</span> <span class=\"nt\">Date</span> <span class=\"nt\">in</span> <span class=\"nt\">the</span> <span class=\"nt\">past</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0a9d932f/f3e5/\"><div class=\"markdown_content\"><p>That didn't work neither :-(</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm not quite sure what to do next.   If you were willing to give me (via private message) a link to your system and a user login then I might be able to get some more information.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0a9d932f/6e52/\"><div class=\"markdown_content\"><p>No, that's not possible the MRBS is running in the closed environment of our enterprise.<br/>\nWell I think I stick with my solution to comment the \"IF\" out until all our Windows 7 machines are upgraded to Windows 10.</p>\n<p>Nevertheless, thanks for your help</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, does it not happen on Windows 10?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>One thing that might give me a clue is if you could send me a private message with the value of $returl just before that if block.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0a9d932f/5f54/\"><div class=\"markdown_content\"><p>On Windows 10 there is no problem.<br/>\nThe returl I gave you is the one how it is before the block.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've managed to reproduce this one more time and got some information from the 404 page.  My suspicion is that in some circumstances the server variable 'HTTP_REFERER' is being taken from the src attribute of the iframe element.  In my case I had the src attribute just pointing to the directory that contained MRBS, eg src=\"foo/bar/mrbs/\".</p>\n<p>Unfortunately I can't work out how to reproduce the problem reliably.   However, if my suspicion is correct, then changing the src attribute to \"foo/bar/mrbs/index.php\" might solve the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2017-03-31</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry, I meant \"foo/bar/mrbs/index.php\", ie add \"index.php\".  I have edited the post above to correct it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0a9d932f/b4f3/\"><div class=\"markdown_content\"><p>This looked very promising but unfortunately it didn't helped.<br/>\nFor me the 404 page is shown every time I try it's not randomly that I get it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2017-03-31</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/382/", "title": "#382 Logging in when viewing booking details breaks prev link", "status": "open", "labels": "None", "priority": "3", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>At the following URL (or similar)<br>\n/mrbs/web/view_entry.php?id=22438&amp;area=1&amp;day=7&amp;month=2&amp;year=2017<br>\nLogin or logout (i.e. if you're logged in then logout, if you're logged out, then login).</p>\n<p>Then click the link 'Return to previous page'. You will notice that it takes you to the wrong page, i.e. it doesn't take you to the previous page.</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/381/", "title": "#381 Viewing Booking Details Time includes seconds", "status": "open", "labels": "None", "priority": "4", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The start and end time displayed by: /mrbs/web/view_entry.php?id=18968&amp;area=1&amp;day=15&amp;month=3&amp;year=2017 include seconds, for example:</p>\n<p>Start time: 13:00:00 - Wednesday 15 March 2017<br>\nDuration:   3 hours<br>\nEnd time:   16:00:00 - Wednesday 15 March 2017</p>\n<p>It is more human-readable without the seconds.</p>\n<p>On a Mac running OSX 10.11.6, and using latest version of Chrome.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'd hardly say it's a bug and it's a config setting anyway, but I have changed the default setting in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/06606446e393e432786662c0f8253a5d60fa0e0d/\">066064</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/380/", "title": "#380 Markup in \"fulldescription\" vocabulary displayed in hover box when entry.description is mandatory", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,<br>\nWhilst configuring version 1.6.0 I noticed after setting $is_mandatory_field<span>['entry.description']</span> = true; that hovering over the full description text box in edit_entry.php displays a hover box tooltip stating:</p>\n<blockquote>\n<p>\"Full description:<br>\u00a0\u00a0(Number of people,<br>\u00a0\u00a0Internal/External etc.)\" is a mandatory field, please supply a value.</p>\n</blockquote>\n<p>i.e. the <br> tags and \u00a0 spaces used in the lang file to make the field description sit nicely next to the text box are shown in the hover box. Picture attached.<br>\nThe version I'm upgrading from (1.4.10) just shows \"This is a required field\".</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/380/attachment/mandatory_tip.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/380/attachment/mandatory_tip.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/380/attachment/mandatory_tip.png\">mandatory_tip.png</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Oh, shouldn't have used the quote tag as it's tidied it up when displayed here!</p>\n<p>The hover box contains:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"s2\">\"Full description:&lt;br&gt;&amp;nbsp;&amp;nbsp;(Number of people,&lt;br&gt;&amp;nbsp;&amp;nbsp;Internal/External etc.)\"</span> <span class=\"nt\">is</span> <span class=\"nt\">a</span> <span class=\"nt\">mandatory</span> <span class=\"nt\">field</span><span class=\"o\">,</span> <span class=\"nt\">please</span> <span class=\"nt\">supply</span> <span class=\"nt\">a</span> <span class=\"nt\">value</span><span class=\"o\">.</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, this has been fixed in the default branch (yesterday in fact!).   The default label has been changed to just \"Full Description\", so you won't get the problem in future.  (The rest of the label was less than helpful as there's a separate field for Internal/External).   You could patch your existing system by adding to your config file:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">$vocab_override['en']['fulldescription'] = \"Full description\";</span>\n</pre></div>\n<p>As a precaution I'll also change the code to strip out any HTML tags etc., just in case there are any other labels with HTML in them.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now changed the code in the default branch to strip out HTML tags and entities.  See <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/40312b9f58a0edfb370138561df47afd32de37dc/\">40312b</a>.</p>\n<p>If you want to patch a 1.6.1 system then change line 269 of js/edit_entry.js.php from</p>\n<div class=\"codehilite\"><pre><span></span>        validationMessages.vocab[key] = label.html();\n</pre></div>\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span>        validationMessages.vocab[key] = label.text();\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Another brilliantly prompt respone. Thanks very much.<br/>\nI haven't gone live with 1.6.0 yet so I'll replace it with 1.6.1 and make that change.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/379/", "title": "#379 report.php table issue", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Picture the scenario:</p>\n<p>When running a report via report.php and selecting a date range of say 01st Dec 2016 to 31st Dec 2016 and pressing Run Report or the Enter key I receive:</p>\n<blockquote>\n<p>208 entries found<br>\n\"THE TABLE OUTPUT\"<br>\nShowing 1 to 25 of 208 entries</p>\n</blockquote>\n<p>So that all looks correct.</p>\n<p>I now want to filter the results by using 'Match brief description:'. I use the word 'age' and run the report and I receive:</p>\n<blockquote>\n<p>3 entries found<br>\n\"THE TABLE OUTPUT\"<br>\nShowing 1 to 25 of 208 entries</p>\n</blockquote>\n<p>3 entries found is correct but it still outputs the previous table contents with all 208 entries. If I now press Ctrl + F5 to refrsh the page I get the expected results of:</p>\n<blockquote>\n<p>3 entries found<br>\n\"THE TABLE OUTPUT\"<br>\nShowing 1 to 3 of 3 entries</p>\n</blockquote>\n<p>Now if I go to report.php and then search via the date range and the word 'age' at the same time I receive:</p>\n<blockquote>\n<p>3 entries found<br>\n\"THE TABLE OUTPUT\"<br>\nShowing 1 to 25 of 381 entries</p>\n</blockquote>\n<p>This appears to be all forward dated entries from the report date as of today rather than the selected date range on the form. Again if I Ctrl + F5 this I get the correct result of:</p>\n<blockquote>\n<p>3 entries found<br>\n\"THE TABLE OUTPUT\"<br>\nShowing 1 to 3 of 3 entries</p>\n</blockquote>\n<p><strong>Any ideas welcome!?</strong></p>\n<p>I did think maybe this was a caching issue but I have disabled all caching that I know of on the server and no difference. I also tried pushing no-cache via HTTP headers but that also didn't help.</p>\n<p>System:</p>\n<p>Meeting Room Booking System:    MRBS 1.6.1<br>\nDatabase:   MySQL 10.0.27-MariaDB-cll-lve<br>\nSystem: Linux ing.co.uk 3.10.0-427.36.1.lve1.4.37.el7.x86_64 #1 SMP Sat Feb 4 07:05:07 EST 2017 x86_64<br>\nServer Time:    Mon 27 Feb 2017 18:36:13 GMT<br>\nPHP:    7.1.2</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think it's a caching issue with the version of js/report.js.php.    Can you try running the attached version and see if it fixes the problem?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think it's the same sort of problem that was being seen with Search in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/support-requests/1142/\">Support Request 1142</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes that does sound familiar - I'm just going to check the same things you asked GedM to check and report back.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>That fixes it - very quick response - awesome!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good, glad it's fixed.   What I haven't been able to work out is why your system is ignoring the cache instructions on that file.    You're going to see a similar problem with Search and also Edit_users (if you use the 'db' authentication scheme), and so you will need these two files as well.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks. Is there anything I can do to try and help at all?</p>\n<p>EDIT: The site is fully SSL / HTTPS if that helps spot differences?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Alex Haines 2017-02-27</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, one thing that would be very useful to know is if you are seeing the same symptoms that we were seeing in 1142 when you use the unmodified version of report.js.php.   What does the Cache Expiry date look like in the Response Headers?   In 1142 we were seeing something like</p>\n<div class=\"codehilite\"><pre><span></span>Wed, 22 Feb 2017 13:31:24 GMT, Wed, 15 Feb 2017 13:31:24 GMT\n</pre></div>\n<p>instead of</p>\n<div class=\"codehilite\"><pre><span></span>Wed, 15 Feb 2017 13:31:24 GMT\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>One other to check if you get a chance please.   Do you have any mod_expires directives in your site's .htaccess file?  For example</p>\n<div class=\"codehilite\"><pre><span></span>ExpiresDefault \"access plus 1 month\"\n</pre></div>\n<p>It looks to me as though something on the server is inserting Cache-Control and Expires headers.   Although mod_expires seems to say that if there are existing Expires headers it won't modify them, it may be that something is going wrong somewhere (possibly because MRBS is issuing its headers in the wrong way and these are actually being appended to the headers issued by the server).</p>\n<p>Another test would be to add the following line to the .htaccess file in the MRBS directory:</p>\n<div class=\"codehilite\"><pre><span></span>ExpiresActive Off\n</pre></div>\n<p>and then see if you get the problem using the unmodified version of report.js.php.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The .htaccess was pretty simple and just redirected all non ssl traffic to HTTPS along with www to non www.</p>\n<div class=\"codehilite\"><pre><span></span># Deny access to inc files\n<span class=\"nt\">&lt;Files</span> <span class=\"err\">~</span> <span class=\"err\">\"\\.inc$\"</span><span class=\"nt\">&gt;</span>\n   Order allow,deny\n   Deny from all\n<span class=\"nt\">&lt;/Files&gt;</span>\n\n# MRBS Testing for Cache Issues\nExpiresActive Off\n\n# SEO URL Settings\nRewriteEngine On\n\n# Logging - normally disabled\n#LogLevel info rewrite:info\n\n# Redirect www traffic to non www\nRewriteCond \"%{HTTP_HOST}\" \"^www\\.(.+)$\" [NC]\nRewriteRule \"^(.*)$\" \"https://%1/$1\" [R=301,L]\n\n# Redirect all traffic to HTTPS\nRewriteCond \"%{HTTPS}\" \"!=on\"\nRewriteRule \"^\" \"https://%{HTTP_HOST}%{REQUEST_URI}\" [R=301,L]\n</pre></div>\n<p>With the modded .htaccess and the original report.js.php files I now get expected results:</p>\n<div class=\"codehilite\"><pre><span></span>HTTP/1.1 200 OK\nContent-Type: application/x-javascript\nExpires: Mon, 27 Feb 2017 22:04:20 GMT\nPragma: cache\nCache-Control: max-age=0\nContent-Length: 1728\nContent-Encoding: gzip\nVary: Accept-Encoding\nDate: Mon, 27 Feb 2017 22:04:20 GMT\nAccept-Ranges: bytes\nX-Varnish: 17971372\nAge: 0\nX-Cache: MISS\nConnection: keep-alive\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Alex Haines 2017-02-27</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Assuming within Chrome Developer Tools you meant in Network -&gt; report.js.php -&gt; Response Headers then as follows (otherwise let me know where to look):</p>\n<p>Without the modded file:</p>\n<div class=\"codehilite\"><pre><span></span>HTTP/1.1 200 OK\nCache-Control: public, max-age=604800, max-age=0\nExpires: Mon, 06 Mar 2017 21:55:32 GMT\nContent-Type: application/x-javascript\nExpires: Mon, 27 Feb 2017 21:55:32 GMT\nPragma: cache\nContent-Length: 1727\nContent-Encoding: gzip\nVary: Accept-Encoding\nDate: Mon, 27 Feb 2017 21:55:32 GMT\nAccept-Ranges: bytes\nX-Varnish: 19340255\nAge: 0\nX-Cache: MISS\nConnection: keep-alive\n</pre></div>\n<p>With the modded file:</p>\n<div class=\"codehilite\"><pre><span></span>HTTP/1.1 200 OK\nCache-Control: no-store, no-cache, must-revalidate\nContent-Type: application/x-javascript\nPragma: no-cache\nExpires: Mon, 26 Jul 1997 05:00:00 GMT\nContent-Length: 1727\nContent-Encoding: gzip\nVary: Accept-Encoding\nDate: Mon, 27 Feb 2017 21:58:41 GMT\nAccept-Ranges: bytes\nX-Varnish: 19858906\nAge: 0\nX-Cache: MISS\nConnection: keep-alive\n</pre></div>\n<p>Looks like the Expires is duplicated in the unmodded file and then with the modded file it is correctly set it the past.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Alex Haines 2017-02-27</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>What leaps out to be are the \"Varnish\" headers - your MRBS pages are being served through a Varnish reverse proxy/caching layer, which could undoubtably change expiry behaviour...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've tried mod_expires on my own vanilla Apache 2.4 configuration, and it works appropriately and only applies Expires headers on URLs which had no Expires header already.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>From the test results above it looks like adding</p>\n<div class=\"codehilite\"><pre><span></span>ExpiresActive Off\n</pre></div>\n<p>to the .htaccess file solves the problem?  In which case is this not the fix for MRBS?  That is to add it to the .htaccess file in the MRBS directory?</p>\n<p>Looking at 1142's headers (I still have a login) there's no Varnish, though I do see that the server is LiteSpeed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I set:</p>\n<div class=\"codehilite\"><pre><span></span>ExpiresActive on\nExpiresDefault \"access plus 1 month\"\n</pre></div>\n<p>and for the Ajax search page mrbs/search.php?search_str=another&amp;day=27&amp;month=2&amp;year=2017&amp;area=10&amp;room=19&amp;datatable=1&amp;ajax=1 I get:</p>\n<div class=\"codehilite\"><pre><span></span>Cache-Control:no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nConnection:Keep-Alive\nContent-Length:261\nContent-Type:application/json\nDate:Mon, 27 Feb 2017 22:22:49 GMT\nExpires:Thu, 19 Nov 1981 08:52:00 GMT\nKeep-Alive:timeout=15, max=98\nPragma:no-cache\nServer:Apache/2.4.23 (Linux/SUSE)\n</pre></div>\n<p>Whereas for a bit of static content (mrbs/jquery/ui/jquery-ui.min.js), I get the expected Expires header:</p>\n<div class=\"codehilite\"><pre><span></span>Accept-Ranges:bytes\nCache-Control:max-age=2592000\nConnection:Keep-Alive\nContent-Length:140082\nContent-Type:application/javascript\nDate:Mon, 27 Feb 2017 22:05:09 GMT\nETag:\"22332-5221693367d80\"\nExpires:Wed, 29 Mar 2017 22:05:09 GMT\nKeep-Alive:timeout=15, max=100\nLast-Modified:Wed, 14 Oct 2015 20:40:38 GMT\nServer:Apache/2.4.23 (Linux/SUSE)\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, but although mod_expires is working correctly on your system, it seems that whatever's happening on Alex's system is cured by turning off ExpiresActive, if I understand it correctly (\"With the modded .htaccess and the original report.js.php files I now get expected results:\").</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2017-02-27</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes that is what I meant.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Alex Haines 2017-02-27</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Mmm, I wonder if there are particular Apache versions/configurations where mod_expires doesn't work properly for PHP pages defining their own Expires headers.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Maybe.  It'll be interesting to see if turning off ExpiresActive also cure's 1142's problem.  I'll send a DM.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Another belt and braces fix could be to add the line</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">header</span><span class=\"o\">(</span><span class=\"s2\">\"Pragma: no-cache\"</span><span class=\"o\">);</span> \n</pre></div>\n<p>to expires_header() if $seconds &lt;= 0?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Interesting, in that the MRBS code for seach.js.php is sending:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Pragma</span><span class=\"o\">:</span> <span class=\"n\">cache</span>\n</pre></div>\n<p>but my Chrome Dev Tools are showing:</p>\n<div class=\"codehilite\"><pre><span></span>Cache-Control:no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nConnection:Keep-Alive\nContent-Length:261\nContent-Type:application/json\nDate:Mon, 27 Feb 2017 22:22:49 GMT\nExpires:Thu, 19 Nov 1981 08:52:00 GMT\nKeep-Alive:timeout=15, max=98\nPragma:no-cache\nServer:Apache/2.4.23 (Linux/SUSE)\n</pre></div>\n<p>Where does the \"no-cache\" come from, and where does the 1981 date come from!?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><blockquote>\n<p>Where does the \"no-cache\" come from, and where does the 1981 date come from!?</p>\n</blockquote>\n<p>See <a href=\"http://stackoverflow.com/questions/8194481/why-is-expires-1981\" rel=\"nofollow\">http://stackoverflow.com/questions/8194481/why-is-expires-1981</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think what you are seeing are the headers on the Ajax response, which comes from report.php.  What I get there are:</p>\n<div class=\"codehilite\"><pre><span></span>Cache-Control:no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nConnection:close\nContent-Type:application/json\nDate:Tue, 28 Feb 2017 07:59:14 GMT\nExpires:Thu, 19 Nov 1981 08:52:00 GMT\nPragma:no-cache\nServer:Apache\nTransfer-Encoding:chunked\nVary:User-Agent\nX-Powered-By:PHP/5.4.45\n</pre></div>\n<p>As far as I can see the Ajax response is sent without any cache instructions (maybe it should be?).   However for report.js.php, I get what I'd expect:</p>\n<div class=\"codehilite\"><pre><span></span>Cache-Control:max-age=0\nConnection:close\nContent-Encoding:gzip\nContent-Length:670\nContent-Type:application/x-javascript\nDate:Tue, 28 Feb 2017 07:56:11 GMT\nExpires:Tue, 28 Feb 2017 7:56:11 GMT\nPragma:cache\nServer:Apache\nVary:User-Agent,Accept-Encoding\nX-Powered-By:PHP/5.4.45\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi guys,<br/>\nsorry I have not had a chance to test the vanilla install but I will definately do it tomorrow and get back to you ASAP. I thought it was interesting that the two expire dates in the headers in this bug were 7 days apart.<br/>\nExpires: Mon, 06 Mar 2017 21:55:32 GMT<br/>\nExpires: Mon, 27 Feb 2017 21:55:32 GMT</p>\n<p>This was the same issue in my headers.</p>\n<p>If the vanilla install displays the same behaviour, I will try the htaccess changes you have suggested.</p>\n<p>regards</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi,<br/>\nI set ExpiresActive Off in the htaccess file and restored the original search.js.php file.  The duplicated expires header problem no longer exists.</p>\n<p>The duplicated header used to appear on all the .js.php files. They all look correct now.</p>\n<p>Thanks</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Great - many thanks.   Just to be clear - which .htaccess file was that in?   Was it in the .htaccess that ships with MRBS and lives in the MRBS directory together with the config file etc.?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/378/", "title": "#378 table structure error?", "status": "open", "labels": "tables (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,<br>\nit seems that during install table structure is not correct.<br>\nJust downloaded package, buy many tables are wrong (p.e. this is query to edit area):</p>\n<p>UPDATE mrbs_area SET area_name='Sale',disabled=0,timezone='Europe/Rome',area_admin_email='',custom_html='',resolution=3600,default_duration=3600,default_duration_all_day=0,morningstarts=0,morningstarts_minutes=0,eveningends=23,eveningends_minutes=0,min_book_ahead_enabled=0,max_book_ahead_enabled=0,max_per_day_enabled=0,max_per_week_enabled=0,max_per_month_enabled=0,max_per_year_enabled=0,max_per_future_enabled=0,private_enabled=0,private_default=0,private_mandatory=0,private_override='none',approval_enabled=1,reminders_enabled=1,enable_periods=0,confirmation_enabled=0,confirmed_default=1 WHERE id=1 </p>\n<p>Aggiornamento area fallito: </p>\n<p>Warning: Unknown column 'min_book_ahead_enabled' in 'field list' in /var/www/clients/client503/web1675/web/booking/edit_area_room.php on line 560 Errore: 1</p>\n<p>this when adding a booking:</p>\n<p>Warning: Cannot add or update a child row: a foreign key constraint fails (<code>c503criferrara2</code>.<code>mrbs_entry</code>, CONSTRAINT <code>mrbs_entry_ibfk_2</code> FOREIGN KEY (<code>repeat_id</code>) REFERENCES <code>mrbs_repeat</code> (<code>id</code>) ON DELETE CASCADE ON UPDATE CASCADE) in /var/www/clients/client503/web1675/web/booking/mrbs_sql.inc on line 598 INSERT INTO mrbs_entry (<code>start_time</code>, <code>end_time</code>, <code>entry_type</code>, <code>repeat_id</code>, <code>room_id</code>, <code>create_by</code>, <code>modified_by</code>, <code>name</code>, <code>type</code>, <code>description</code>, <code>status</code>, <code>ical_uid</code>, <code>ical_sequence</code>, <code>ical_recur_id</code>) VALUES (1488434400, 1488438000, 0, 0, 1, 'fviali', '', 'atest', 'I', '', 0, 'MRBS-58b47547394f8-f21d57d0@criferrara.it', 0, '')</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you describe exactly what you did please?     Are you sure you are using the 1.6.1 release?   I don't think line 560 of edit_area_room.php in 1.6.1 could produce that error.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Wow, you're right.. it was a \"bad mix\" of versions</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/377/", "title": "#377 Auth LDAP cause a white screen on admin.php", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When ldap authentication is configured when logging in a white screen appears on url admin.php</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Are you running MRBS 1.6.0?  If so please see this <a class=\"\" href=\"https://sourceforge.net/p/mrbs/support-requests/1143/\">bug report and fix</a>.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/02c0051a/8635/\"><div class=\"markdown_content\"><p>Hi Campbell, </p>\n<p>I see the bug report and fix .  I added :</p>\n<p>$callback = <strong>NAMESPACE</strong> . '\\' . $callback;</p>\n<p>and worked perfectly. Thanks for the help.</p>\n<p>Att,<br/>\nHenri A Godoy.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This fix appears in MRBS 1.6.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/376/", "title": "#376 DB Password revealed when db server down", "status": "open", "labels": "password exposed (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi there,</p>\n<p>Today I tried to switch off the database server to know what will happen to the system and to my surprise, the password for my database is revealed!</p>\n<p>What can we do to prevent this from happening? From the server or the software side?</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/376/attachment/error-password-revealed.jpg\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/376/attachment/error-password-revealed.jpg/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/376/attachment/error-password-revealed.jpg\">error-password-revealed.jpg</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Make sure you have 'display_errors' set to '0' in your php.ini settings.   And/or add the following line at the bottom of internalconfig.inc.php</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">ini_set('display_errors', '0');</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/06e5b3d0/e967/\"><div class=\"markdown_content\"><p>Yep, precisely that works Campbell!</p>\n<p>Thanks much for your expert advice.. :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/375/", "title": "#375 Export Events shows wrong room", "status": "open", "labels": "export (1)\n          \n        \n          \n              Events (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If you have 2 rooms, when you export any events to .ics files, it shows wrong room on exported file. It shows correct on the screen.<br>\nFor Example<br>\n1. Click on any events<br>\n2. Click Export Entry<br>\nDownloaded file shows wrong room.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this.  Which version of MRBS are you using?   Does the problem only happen if you have two rooms (and not more)?   Can you give more precise steps to reproduce it please?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm using MRBS 1.4.7 <br/>\nI have 2 areas, 1 area got 2 rooms and other one with 1 room.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>MRBS 1.4.7 is very old now.  Can you upgrade to 1.6.0 please and see if the problem still happens?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/374/", "title": "#374 Colour key is duplicated", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>In version 1.6.0 the booking types colour key is duplicated i.e. it shows Internal/External twice. The section in my config.inc.php is the default \"Entry Types\" section copied from systemdefaults.inc.php. </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>In which page are you seeing this?</p>\n<p>I'm not seeing it on day/week/month view of our demo 1.6.0 installation:<br/>\n<a href=\"http://mrbs.sourceforge.net/mrbs/day.php?year=2017&amp;month=02&amp;day=13&amp;area=2202&amp;room=5437\">http://mrbs.sourceforge.net/mrbs/day.php?year=2017&amp;month=02&amp;day=13&amp;area=2202&amp;room=5437</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think that what is happening is that you have defined the booking types twice - once in systemdefaults and then again in the config file.   You should only put in the config file settings that you want to change.  If you are happy with the defaults then there is no need to do anything.  If you do want to change the booking types then you should add the line </p>\n<div class=\"codehilite\"><pre><span></span>unset($booking_types);\n</pre></div>\n<p>to your config file to get rid of the default types.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2017-02-13</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now (changeset 08582411d9fa) changed systemdefaults.inc.php in the default branch by adding an unset() to make it clearer how it works.</p>\n<p><a class=\"alink\" href=\"/p/mrbs/hg-code/ci/08582411d9fa7d908c8b2b9bbd1d19b9069b838c/\">[hg-code:085824]</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<h4>Related</h4>\n<p>\n<a href=\"/u/joehorn/mrbs/ci/08582411d9fa7d908c8b2b9bbd1d19b9069b838c/\">Commit: [085824]</a><br/>\n</p>\n<br/><small>Last edit: John Beranek 2017-02-13</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/3f27c622/0a2f/\"><div class=\"markdown_content\"><p>Yes, that was it, I had a second copy in the config file. Thanks for clearing that up!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/373/", "title": "#373 Outlook does not recognise fifth day of the month repeats", "status": "wont-fix", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Email notifications generated by MRBS with a .ics attachment where the repeat is for the fifth weekday in the month (eg the fifth Monday of every month) are not recognised by Outlook.   Although the .ics attachment is valid and is recognised by other mail and calendar clients, eg Google Mail/Calendar, Outlook - at least Office 365 Outlook Version 1611 (Build 7571.2109) - doesn't.   The email appears in Outlook as the message source including headers.   MRBS and Google correctly interpret the fifth Monday as generating an event only for those months that have five Mondays.</p>\n<p>This looks to me to be an Outlook problem rather than an MRBS problem, but I'm recording it here in case anybody happens on the same problem and wonders what's going on.</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/372/", "title": "#372 Type colour is still shown for private bookings when type is private", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have the same issue. I do not want to hide the color key, but I want to hide the colors of the booked periods in the generated table. I need only admin can see the background color of the cell non admin users should be e.g. grey only. I set entry.entry_type to PRIVATE, but it has no effect on the background color of the cells in day view.  (Raised as a separate ticket from <a href=\"https://sourceforge.net/p/mrbs/support-requests/1121/\">https://sourceforge.net/p/mrbs/support-requests/1121/</a>)</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/84bff1d5/563d/\"><div class=\"markdown_content\"><p>I am close to the solution. </p>\n<p>In FUNCTIONS_TABLE.INC in row 127 current code is:</p>\n<p>$column<span>[$s]</span><span>[$n]</span><span>[\"color\"]</span> = $row<span>['type']</span></p>\n<p>this shuold be changed thet it take effect only an ADMIN USER.</p>\n<p>I tried this one but does not work. I have only bank scrren. </p>\n<p>$user = getUserName();<br/>\n    if (authGetUserLevel($user) = 2)<br/>\n    {<br/>\n    $column<span>[$s]</span><span>[$n]</span><span>[\"color\"]</span> = $row<span>['type']</span>;<br/>\n    }</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, I am working on a fix.   Hope to commit it tomorrow.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/84bff1d5/bf1c/\"><div class=\"markdown_content\"><p>Great news :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have now fixed this in the default branch in changeset ff4f3916c8eb.    There are quite a lot of changes so it's best to upgrade to the latest snapshot of MRBS which you can get <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/default/tarball\">here</a>.   Let me know of any problems.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/84bff1d5/99e0/\"><div class=\"markdown_content\"><p>My problem is that I made several modification because of the LOG funcionality. Is it possible to see tho modification list somehow? I am afraid it will overwrite the LOG funcionality...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You can see the changes <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/ff4f3916c8ebe12c41a3e8f8ba8bce2f495861d2/\">here</a>.   On the other hand there are numerous other bug fixes and enhancements in the latest code and sooner or later you're going to have to address the problem of how to merge your changes into the latest code.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You may also be interested in <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/532717464595b1dd8a21f1a35cb38e8e8e20f793/\">this bug fix</a> concerning private bookings.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/371/", "title": "#371 Difference between month and report views", "status": "closed", "labels": "view (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Some entries do not appear in month.php view but show up in report.php view. Compare the attached two PNG graphics for the 10th and 17th of January. To me this looks like month.php only shows one entry no matter how many there are.</p></div></div>\n  \n    <strong class=\"grid-18\">2 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/371/attachment/monthphp.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/371/attachment/monthphp.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/371/attachment/monthphp.png\">monthphp.png</a>\n        </div>\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/371/attachment/reportphp.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/371/attachment/reportphp.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/371/attachment/reportphp.png\">reportphp.png</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I will take a closer look later,  but it looks to me like there are 11 entries in each view, but that the descriptions are not appearing in the month view for some reason - possibly because they are very long words.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think this is a CSS problem in 1.5.0.   The entries are in fact being displayed in the month view because you can see that in the month view on the 10th and 17th the green blocks are two units high, whereas they are only one unit high on the other days.    The problem is that the descriptions are not displaying.   This does not happen in the latest version of the code in the default branch and you can fix a 1.5.0 system by changing line 287 of css/mrbs.css.php from</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"na\">.dwm_main</span> <span class=\"no\">a</span> <span class=\"err\">{</span><span class=\"no\">display</span><span class=\"p\">:</span> <span class=\"no\">block</span><span class=\"c\">; min-height: inherit}</span>\n</pre></div>\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"na\">.dwm_main</span> <span class=\"no\">a</span> <span class=\"err\">{</span>\n  <span class=\"nl\">display:</span> <span class=\"nf\">block</span><span class=\"c\">;</span>\n  <span class=\"no\">min-height</span><span class=\"p\">:</span> <span class=\"no\">inherit</span><span class=\"c\">;</span>\n  <span class=\"no\">word-wrap</span><span class=\"p\">:</span> <span class=\"no\">break-word</span><span class=\"c\">;</span>\n  <span class=\"no\">word-break</span><span class=\"p\">:</span> <span class=\"no\">break-all</span><span class=\"c\">;</span>\n<span class=\"err\">}</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/c08a2f31/9575/\"><div class=\"markdown_content\"><p>This seems to be it! Thank you very much, Campbell, for providing this fix. Would you please close this bug?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good, glad it's solved.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/370/", "title": "#370 Fatal error: unfortunately the database is not available at the moment.", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When changing in a series booking, this error comes</p>\n<p>\"Fatal error: unfortunately the database is not available at the moment.\"</p>\n<p>But I can change one booking in a series without problems.</p>\n<p>/Bruno S</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/370/attachment/pic2.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/370/attachment/pic2.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/370/attachment/pic2.png\">pic2.png</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you have a look in your PHP error_log for more details?  It's probably a file called error_log in your MRBS directory.   If you can't find it then temporarily add the following to the bottom of your internalconfig.inc.php file:</p>\n<div class=\"codehilite\"><pre><span></span>error_reporting(-1);\nini_set('display_errors', '1');\n</pre></div>\n<p>This will output error details to your browser.   Remember to remove these lines before going back to a production system.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2e6568cb/ddae/\"><div class=\"markdown_content\"><p>Hi</p>\n<p>This is the output</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Notice</span><span class=\"o\">:</span> <span class=\"n\">Constant</span> <span class=\"n\">DS</span> <span class=\"n\">already</span> <span class=\"n\">defined</span> <span class=\"k\">in</span> <span class=\"sr\">/home/frivejle/public_html/booking/i</span><span class=\"n\">nternalconfig</span><span class=\"o\">.</span><span class=\"na\">inc</span><span class=\"o\">.</span><span class=\"na\">php</span> <span class=\"n\">on</span> <span class=\"n\">line</span> <span class=\"mi\">309</span>\n\n<span class=\"n\">E_NOTICE</span> <span class=\"k\">in</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">functions_mail</span><span class=\"o\">.</span><span class=\"na\">inc</span> <span class=\"n\">at</span> <span class=\"n\">line</span> <span class=\"mi\">1207</span>\n<span class=\"n\">Undefined</span> <span class=\"n\">offset</span><span class=\"o\">:</span> <span class=\"mi\">0</span>\n\n<span class=\"n\">E_NOTICE</span> <span class=\"k\">in</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">functions_mail</span><span class=\"o\">.</span><span class=\"na\">inc</span> <span class=\"n\">at</span> <span class=\"n\">line</span> <span class=\"mi\">1207</span>\n<span class=\"n\">Undefined</span> <span class=\"n\">offset</span><span class=\"o\">:</span> <span class=\"mi\">0</span>\n<span class=\"n\">Uncaught</span> <span class=\"n\">exception</span> <span class=\"s1\">'MRBS\\DBException'</span> <span class=\"k\">in</span> <span class=\"sr\">/home/frivejle/public_html/booking/lib/MRBS/</span><span class=\"n\">DB</span><span class=\"o\">.</span><span class=\"na\">php</span> <span class=\"n\">at</span> <span class=\"n\">line</span> <span class=\"mi\">174</span>\n<span class=\"n\">SQLSTATE</span><span class=\"o\">[</span><span class=\"mi\">42000</span><span class=\"o\">]:</span> <span class=\"n\">Syntax</span> <span class=\"n\">error</span> <span class=\"n\">or</span> <span class=\"n\">access</span> <span class=\"n\">violation</span><span class=\"o\">:</span> <span class=\"mi\">1064</span> <span class=\"n\">You</span> <span class=\"n\">have</span> <span class=\"n\">an</span> <span class=\"n\">error</span> <span class=\"k\">in</span> <span class=\"n\">your</span> <span class=\"n\">SQL</span> <span class=\"n\">syntax</span><span class=\"o\">;</span> <span class=\"n\">check</span> <span class=\"n\">the</span> <span class=\"n\">manual</span> <span class=\"n\">that</span> <span class=\"n\">corresponds</span> <span class=\"n\">to</span> <span class=\"n\">your</span> <span class=\"n\">MySQL</span> <span class=\"n\">server</span> <span class=\"n\">version</span> <span class=\"k\">for</span> <span class=\"n\">the</span> <span class=\"n\">right</span> <span class=\"n\">syntax</span> <span class=\"n\">to</span> <span class=\"n\">use</span> <span class=\"n\">near</span> <span class=\"s1\">''</span> <span class=\"n\">at</span> <span class=\"n\">line</span> <span class=\"mi\">1</span>\n<span class=\"n\">SQL</span><span class=\"o\">:</span> <span class=\"n\">SELECT</span> <span class=\"n\">start_time</span><span class=\"o\">,</span> <span class=\"n\">end_time</span><span class=\"o\">,</span> <span class=\"n\">room_id</span><span class=\"o\">,</span> <span class=\"n\">create_by</span><span class=\"o\">,</span> <span class=\"n\">id</span><span class=\"o\">,</span> <span class=\"n\">entry_type</span> <span class=\"n\">FROM</span> <span class=\"n\">mrbs_entry</span> <span class=\"n\">WHERE</span> <span class=\"n\">repeat_id</span><span class=\"o\">=</span>\n<span class=\"n\">Params</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n    <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">100</span>\n<span class=\"o\">)</span>\n\n<span class=\"err\">#</span><span class=\"mi\">0</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">mrbs_sql</span><span class=\"o\">.</span><span class=\"na\">inc</span><span class=\"o\">(</span><span class=\"mi\">577</span><span class=\"o\">):</span> <span class=\"n\">MRBS</span><span class=\"o\">\\</span><span class=\"n\">DB</span><span class=\"o\">-&gt;</span><span class=\"n\">query</span><span class=\"o\">(</span><span class=\"s1\">'SELECT start_ti...'</span><span class=\"o\">,</span> <span class=\"n\">Array</span><span class=\"o\">)</span>\n<span class=\"err\">#</span><span class=\"mi\">1</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">edit_entry_handler</span><span class=\"o\">.</span><span class=\"na\">php</span><span class=\"o\">(</span><span class=\"mi\">721</span><span class=\"o\">):</span> <span class=\"n\">MRBS</span><span class=\"o\">\\</span><span class=\"n\">mrbsDelEntry</span><span class=\"o\">(</span><span class=\"s1\">'bks0401'</span><span class=\"o\">,</span> <span class=\"mi\">3916</span><span class=\"o\">,</span> <span class=\"kc\">true</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"err\">#</span><span class=\"mi\">2</span> <span class=\"o\">{</span><span class=\"n\">main</span><span class=\"o\">}</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">GET</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n<span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">POST</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n    <span class=\"o\">[</span><span class=\"n\">name</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Per</span> <span class=\"n\">K</span><span class=\"err\">\u00e6</span><span class=\"n\">rebo</span> <span class=\"n\">test</span> <span class=\"n\">test11</span>\n    <span class=\"o\">[</span><span class=\"n\">description</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> \n    <span class=\"o\">[</span><span class=\"n\">start_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">start_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">start_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">start_seconds</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">79200</span>\n    <span class=\"o\">[</span><span class=\"n\">end_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">end_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">end_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">end_seconds</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">82800</span>\n    <span class=\"o\">[</span><span class=\"n\">rooms</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Array</span>\n        <span class=\"o\">(</span>\n            <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n        <span class=\"o\">)</span>\n\n    <span class=\"o\">[</span><span class=\"n\">type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">I</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Array</span>\n        <span class=\"o\">(</span>\n            <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">1</span>\n        <span class=\"o\">)</span>\n\n    <span class=\"o\">[</span><span class=\"n\">rep_num_weeks</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">10</span>\n    <span class=\"o\">[</span><span class=\"n\">month_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">0</span>\n    <span class=\"o\">[</span><span class=\"n\">month_absolute</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">month_relative_ord</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">4</span>\n    <span class=\"o\">[</span><span class=\"n\">month_relative_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">MO</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">returl</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">day</span><span class=\"o\">.</span><span class=\"na\">php</span><span class=\"o\">?</span><span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2016</span><span class=\"o\">&amp;</span><span class=\"n\">month</span><span class=\"o\">=</span><span class=\"mi\">11</span><span class=\"o\">&amp;</span><span class=\"n\">day</span><span class=\"o\">=</span><span class=\"mi\">28</span><span class=\"o\">&amp;</span><span class=\"n\">area</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"o\">&amp;</span><span class=\"n\">room</span><span class=\"o\">=</span><span class=\"mi\">1</span>\n    <span class=\"o\">[</span><span class=\"n\">create_by</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">fcvejle</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">100</span>\n    <span class=\"o\">[</span><span class=\"n\">edit_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">series</span>\n    <span class=\"o\">[</span><span class=\"n\">original_room_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_uid</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">MRBS</span><span class=\"o\">-</span><span class=\"mi\">583</span><span class=\"n\">c0641a701e</span><span class=\"o\">-</span><span class=\"n\">d664b249</span><span class=\"err\">@</span><span class=\"n\">fh</span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"o\">.</span><span class=\"na\">dk</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_sequence</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">4</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_recur_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">20161128</span><span class=\"n\">T210000Z</span>\n    <span class=\"o\">[</span><span class=\"n\">id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">3916</span>\n    <span class=\"o\">[</span><span class=\"n\">save_button</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Gem</span>\n<span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">SESSION</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n    <span class=\"o\">[</span><span class=\"n\">joomla</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">TzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjE6e3M6OToiX19kZWZhdWx0IjtPOjg6InN0ZENsYXNzIjo0NDp7czo3OiJzZXNzaW9uIjtPOjg6InN0ZENsYXNzIjozOntzOjc6ImNvdW50ZXIiO2k6MTk7czo1OiJ0aW1lciI7Tzo4OiJzdGRDbGFzcyI6Mzp7czo1OiJzdGFydCI7aToxNDgxMjY0MDMzO3M6NDoibGFzdCI7aToxNDgxMjY0MjU0O3M6Mzoibm93IjtpOjE0ODEyNjQyNTU7fXM6NToidG9rZW4iO3M6MzI6IjdraEh0OWxoM0VjS3JRREJoeVMzdHpGY0RHMkNqNTVGIjt9czo4OiJyZWdpc3RyeSI7TzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjA6e31zOjE0OiIAKgBpbml0aWFsaXplZCI7YjoxO3M6OToic2VwYXJhdG9yIjtzOjE6Ii4iO31zOjQ6InVzZXIiO086NToiSlVzZXIiOjE6e3M6MjoiaWQiO3M6MjoiNzAiO31zOjE0OiJjb21fcnNmaXJld2FsbCI7Tzo4OiJzdGRDbGFzcyI6MTp7czo1OiJnZW9pcCI7czoyOiJERSI7fXM6MjM6ImdhbnRyeS1jdXJyZW50LXRlbXBsYXRlIjtzOjExOiJydF9hdWRhY2l0eSI7czo0NjoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbmFtZSI7TjtzOjUxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1sb2dvLXR5cGUiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbG9nby1jdXN0b20taW1hZ2UiO047czo1NjoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtZGVtb3N0eWxlLXR5cGUiO047czo1NToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtYWNjZW50LWNvbG9yMSI7TjtzOjU1OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1hY2NlbnQtY29sb3IyIjtOO3M6NjU6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXBhZ2VzdXJyb3VuZC1iYWNrZ3JvdW5kIjtOO3M6NTg6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib2R5LW92ZXJsYXkiO047czo1NToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtdG9wLXRleHRjb2xvciI7TjtzOjU2OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS10b3AtYmFja2dyb3VuZCI7TjtzOjU4OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1oZWFkZXItdGV4dGNvbG9yIjtOO3M6NTk6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWhlYWRlci1iYWNrZ3JvdW5kIjtOO3M6NTM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWhlYWRlci10eXBlIjtOO3M6NjA6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXNob3djYXNlLXRleHRjb2xvciI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1zaG93Y2FzZS1iYWNrZ3JvdW5kIjtOO3M6NTk6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXV0aWxpdHktdGV4dGNvbG9yIjtOO3M6NjA6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXV0aWxpdHktYmFja2dyb3VuZCI7TjtzOjU5OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mZWF0dXJlLXRleHRjb2xvciI7TjtzOjYwOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mZWF0dXJlLWJhY2tncm91bmQiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbWFpbnRvcC10ZXh0Y29sb3IiO047czo2MDoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbWFpbnRvcC1iYWNrZ3JvdW5kIjtOO3M6NjM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4cGFuZGVkdG9wLXRleHRjb2xvciI7TjtzOjY0OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHBhbmRlZHRvcC1iYWNrZ3JvdW5kIjtOO3M6NjY6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4cGFuZGVkYm90dG9tLXRleHRjb2xvciI7TjtzOjY3OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHBhbmRlZGJvdHRvbS1iYWNrZ3JvdW5kIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib3R0b20tdGV4dGNvbG9yIjtOO3M6NjM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib3R0b20tYmFja2dyb3VuZCI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHRlbnNpb24tdGV4dGNvbG9yIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4dGVuc2lvbi1iYWNrZ3JvdW5kIjtOO3M6NTg6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWJvdHRvbS10ZXh0Y29sb3IiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtYm90dG9tLWJhY2tncm91bmQiO047czo1ODoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtZm9vdGVyLXRleHRjb2xvciI7TjtzOjU5OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mb290ZXItYmFja2dyb3VuZCI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1jb3B5cmlnaHQtdGV4dGNvbG9yIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWNvcHlyaWdodC1iYWNrZ3JvdW5kIjtOO3M6NTM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWZvbnQtZmFtaWx5IjtOO3M6NTQ6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWZvbnQtc2l6ZS1pcyI7TjtzOjUxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1tZW51LXR5cGUiO047czo1MzoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbGF5b3V0LW1vZGUiO047fX1zOjE0OiIAKgBpbml0aWFsaXplZCI7YjowO3M6OToic2VwYXJhdG9yIjtzOjE6Ii4iO30</span><span class=\"o\">=</span>\n<span class=\"o\">)</span>\n\n<span class=\"n\">E_WARNING</span> <span class=\"k\">in</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">functions</span><span class=\"o\">.</span><span class=\"na\">inc</span> <span class=\"n\">at</span> <span class=\"n\">line</span> <span class=\"mi\">127</span>\n<span class=\"n\">Cannot</span> <span class=\"n\">modify</span> <span class=\"n\">header</span> <span class=\"n\">information</span> <span class=\"o\">-</span> <span class=\"n\">headers</span> <span class=\"n\">already</span> <span class=\"n\">sent</span> <span class=\"n\">by</span> <span class=\"o\">(</span><span class=\"n\">output</span> <span class=\"n\">started</span> <span class=\"n\">at</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">functions_error</span><span class=\"o\">.</span><span class=\"na\">inc</span><span class=\"o\">:</span><span class=\"mi\">63</span><span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">GET</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n<span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">POST</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n    <span class=\"o\">[</span><span class=\"n\">name</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Per</span> <span class=\"n\">K</span><span class=\"err\">\u00e6</span><span class=\"n\">rebo</span> <span class=\"n\">test</span> <span class=\"n\">test11</span>\n    <span class=\"o\">[</span><span class=\"n\">description</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> \n    <span class=\"o\">[</span><span class=\"n\">start_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">start_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">start_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">start_seconds</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">79200</span>\n    <span class=\"o\">[</span><span class=\"n\">end_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">end_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">end_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">end_seconds</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">82800</span>\n    <span class=\"o\">[</span><span class=\"n\">rooms</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Array</span>\n        <span class=\"o\">(</span>\n            <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n        <span class=\"o\">)</span>\n\n    <span class=\"o\">[</span><span class=\"n\">type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">I</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Array</span>\n        <span class=\"o\">(</span>\n            <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">1</span>\n        <span class=\"o\">)</span>\n\n    <span class=\"o\">[</span><span class=\"n\">rep_num_weeks</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">10</span>\n    <span class=\"o\">[</span><span class=\"n\">month_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">0</span>\n    <span class=\"o\">[</span><span class=\"n\">month_absolute</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">month_relative_ord</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">4</span>\n    <span class=\"o\">[</span><span class=\"n\">month_relative_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">MO</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">returl</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">day</span><span class=\"o\">.</span><span class=\"na\">php</span><span class=\"o\">?</span><span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2016</span><span class=\"o\">&amp;</span><span class=\"n\">month</span><span class=\"o\">=</span><span class=\"mi\">11</span><span class=\"o\">&amp;</span><span class=\"n\">day</span><span class=\"o\">=</span><span class=\"mi\">28</span><span class=\"o\">&amp;</span><span class=\"n\">area</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"o\">&amp;</span><span class=\"n\">room</span><span class=\"o\">=</span><span class=\"mi\">1</span>\n    <span class=\"o\">[</span><span class=\"n\">create_by</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">fcvejle</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">100</span>\n    <span class=\"o\">[</span><span class=\"n\">edit_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">series</span>\n    <span class=\"o\">[</span><span class=\"n\">original_room_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_uid</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">MRBS</span><span class=\"o\">-</span><span class=\"mi\">583</span><span class=\"n\">c0641a701e</span><span class=\"o\">-</span><span class=\"n\">d664b249</span><span class=\"err\">@</span><span class=\"n\">fh</span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"o\">.</span><span class=\"na\">dk</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_sequence</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">4</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_recur_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">20161128</span><span class=\"n\">T210000Z</span>\n    <span class=\"o\">[</span><span class=\"n\">id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">3916</span>\n    <span class=\"o\">[</span><span class=\"n\">save_button</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Gem</span>\n<span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">SESSION</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n    <span class=\"o\">[</span><span class=\"n\">joomla</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">TzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjE6e3M6OToiX19kZWZhdWx0IjtPOjg6InN0ZENsYXNzIjo0NDp7czo3OiJzZXNzaW9uIjtPOjg6InN0ZENsYXNzIjozOntzOjc6ImNvdW50ZXIiO2k6MTk7czo1OiJ0aW1lciI7Tzo4OiJzdGRDbGFzcyI6Mzp7czo1OiJzdGFydCI7aToxNDgxMjY0MDMzO3M6NDoibGFzdCI7aToxNDgxMjY0MjU0O3M6Mzoibm93IjtpOjE0ODEyNjQyNTU7fXM6NToidG9rZW4iO3M6MzI6IjdraEh0OWxoM0VjS3JRREJoeVMzdHpGY0RHMkNqNTVGIjt9czo4OiJyZWdpc3RyeSI7TzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjA6e31zOjE0OiIAKgBpbml0aWFsaXplZCI7YjoxO3M6OToic2VwYXJhdG9yIjtzOjE6Ii4iO31zOjQ6InVzZXIiO086NToiSlVzZXIiOjE6e3M6MjoiaWQiO3M6MjoiNzAiO31zOjE0OiJjb21fcnNmaXJld2FsbCI7Tzo4OiJzdGRDbGFzcyI6MTp7czo1OiJnZW9pcCI7czoyOiJERSI7fXM6MjM6ImdhbnRyeS1jdXJyZW50LXRlbXBsYXRlIjtzOjExOiJydF9hdWRhY2l0eSI7czo0NjoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbmFtZSI7TjtzOjUxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1sb2dvLXR5cGUiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbG9nby1jdXN0b20taW1hZ2UiO047czo1NjoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtZGVtb3N0eWxlLXR5cGUiO047czo1NToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtYWNjZW50LWNvbG9yMSI7TjtzOjU1OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1hY2NlbnQtY29sb3IyIjtOO3M6NjU6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXBhZ2VzdXJyb3VuZC1iYWNrZ3JvdW5kIjtOO3M6NTg6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib2R5LW92ZXJsYXkiO047czo1NToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtdG9wLXRleHRjb2xvciI7TjtzOjU2OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS10b3AtYmFja2dyb3VuZCI7TjtzOjU4OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1oZWFkZXItdGV4dGNvbG9yIjtOO3M6NTk6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWhlYWRlci1iYWNrZ3JvdW5kIjtOO3M6NTM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWhlYWRlci10eXBlIjtOO3M6NjA6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXNob3djYXNlLXRleHRjb2xvciI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1zaG93Y2FzZS1iYWNrZ3JvdW5kIjtOO3M6NTk6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXV0aWxpdHktdGV4dGNvbG9yIjtOO3M6NjA6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXV0aWxpdHktYmFja2dyb3VuZCI7TjtzOjU5OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mZWF0dXJlLXRleHRjb2xvciI7TjtzOjYwOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mZWF0dXJlLWJhY2tncm91bmQiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbWFpbnRvcC10ZXh0Y29sb3IiO047czo2MDoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbWFpbnRvcC1iYWNrZ3JvdW5kIjtOO3M6NjM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4cGFuZGVkdG9wLXRleHRjb2xvciI7TjtzOjY0OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHBhbmRlZHRvcC1iYWNrZ3JvdW5kIjtOO3M6NjY6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4cGFuZGVkYm90dG9tLXRleHRjb2xvciI7TjtzOjY3OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHBhbmRlZGJvdHRvbS1iYWNrZ3JvdW5kIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib3R0b20tdGV4dGNvbG9yIjtOO3M6NjM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib3R0b20tYmFja2dyb3VuZCI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHRlbnNpb24tdGV4dGNvbG9yIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4dGVuc2lvbi1iYWNrZ3JvdW5kIjtOO3M6NTg6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWJvdHRvbS10ZXh0Y29sb3IiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtYm90dG9tLWJhY2tncm91bmQiO047czo1ODoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtZm9vdGVyLXRleHRjb2xvciI7TjtzOjU5OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mb290ZXItYmFja2dyb3VuZCI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1jb3B5cmlnaHQtdGV4dGNvbG9yIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWNvcHlyaWdodC1iYWNrZ3JvdW5kIjtOO3M6NTM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWZvbnQtZmFtaWx5IjtOO3M6NTQ6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWZvbnQtc2l6ZS1pcyI7TjtzOjUxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1tZW51LXR5cGUiO047czo1MzoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbGF5b3V0LW1vZGUiO047fX1zOjE0OiIAKgBpbml0aWFsaXplZCI7YjowO3M6OToic2VwYXJhdG9yIjtzOjE6Ii4iO30</span><span class=\"o\">=</span>\n<span class=\"o\">)</span>\n\n<span class=\"n\">E_WARNING</span> <span class=\"k\">in</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">functions</span><span class=\"o\">.</span><span class=\"na\">inc</span> <span class=\"n\">at</span> <span class=\"n\">line</span> <span class=\"mi\">130</span>\n<span class=\"n\">Cannot</span> <span class=\"n\">modify</span> <span class=\"n\">header</span> <span class=\"n\">information</span> <span class=\"o\">-</span> <span class=\"n\">headers</span> <span class=\"n\">already</span> <span class=\"n\">sent</span> <span class=\"n\">by</span> <span class=\"o\">(</span><span class=\"n\">output</span> <span class=\"n\">started</span> <span class=\"n\">at</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">functions_error</span><span class=\"o\">.</span><span class=\"na\">inc</span><span class=\"o\">:</span><span class=\"mi\">63</span><span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">GET</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n<span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">POST</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n    <span class=\"o\">[</span><span class=\"n\">name</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Per</span> <span class=\"n\">K</span><span class=\"err\">\u00e6</span><span class=\"n\">rebo</span> <span class=\"n\">test</span> <span class=\"n\">test11</span>\n    <span class=\"o\">[</span><span class=\"n\">description</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> \n    <span class=\"o\">[</span><span class=\"n\">start_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">start_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">start_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">start_seconds</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">79200</span>\n    <span class=\"o\">[</span><span class=\"n\">end_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">end_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">end_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">end_seconds</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">82800</span>\n    <span class=\"o\">[</span><span class=\"n\">rooms</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Array</span>\n        <span class=\"o\">(</span>\n            <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n        <span class=\"o\">)</span>\n\n    <span class=\"o\">[</span><span class=\"n\">type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">I</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Array</span>\n        <span class=\"o\">(</span>\n            <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">1</span>\n        <span class=\"o\">)</span>\n\n    <span class=\"o\">[</span><span class=\"n\">rep_num_weeks</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">10</span>\n    <span class=\"o\">[</span><span class=\"n\">month_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">0</span>\n    <span class=\"o\">[</span><span class=\"n\">month_absolute</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">month_relative_ord</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">4</span>\n    <span class=\"o\">[</span><span class=\"n\">month_relative_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">MO</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">returl</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">day</span><span class=\"o\">.</span><span class=\"na\">php</span><span class=\"o\">?</span><span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2016</span><span class=\"o\">&amp;</span><span class=\"n\">month</span><span class=\"o\">=</span><span class=\"mi\">11</span><span class=\"o\">&amp;</span><span class=\"n\">day</span><span class=\"o\">=</span><span class=\"mi\">28</span><span class=\"o\">&amp;</span><span class=\"n\">area</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"o\">&amp;</span><span class=\"n\">room</span><span class=\"o\">=</span><span class=\"mi\">1</span>\n    <span class=\"o\">[</span><span class=\"n\">create_by</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">fcvejle</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">100</span>\n    <span class=\"o\">[</span><span class=\"n\">edit_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">series</span>\n    <span class=\"o\">[</span><span class=\"n\">original_room_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_uid</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">MRBS</span><span class=\"o\">-</span><span class=\"mi\">583</span><span class=\"n\">c0641a701e</span><span class=\"o\">-</span><span class=\"n\">d664b249</span><span class=\"err\">@</span><span class=\"n\">fh</span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"o\">.</span><span class=\"na\">dk</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_sequence</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">4</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_recur_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">20161128</span><span class=\"n\">T210000Z</span>\n    <span class=\"o\">[</span><span class=\"n\">id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">3916</span>\n    <span class=\"o\">[</span><span class=\"n\">save_button</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Gem</span>\n<span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">SESSION</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n    <span class=\"o\">[</span><span class=\"n\">joomla</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">TzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjE6e3M6OToiX19kZWZhdWx0IjtPOjg6InN0ZENsYXNzIjo0NDp7czo3OiJzZXNzaW9uIjtPOjg6InN0ZENsYXNzIjozOntzOjc6ImNvdW50ZXIiO2k6MTk7czo1OiJ0aW1lciI7Tzo4OiJzdGRDbGFzcyI6Mzp7czo1OiJzdGFydCI7aToxNDgxMjY0MDMzO3M6NDoibGFzdCI7aToxNDgxMjY0MjU0O3M6Mzoibm93IjtpOjE0ODEyNjQyNTU7fXM6NToidG9rZW4iO3M6MzI6IjdraEh0OWxoM0VjS3JRREJoeVMzdHpGY0RHMkNqNTVGIjt9czo4OiJyZWdpc3RyeSI7TzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjA6e31zOjE0OiIAKgBpbml0aWFsaXplZCI7YjoxO3M6OToic2VwYXJhdG9yIjtzOjE6Ii4iO31zOjQ6InVzZXIiO086NToiSlVzZXIiOjE6e3M6MjoiaWQiO3M6MjoiNzAiO31zOjE0OiJjb21fcnNmaXJld2FsbCI7Tzo4OiJzdGRDbGFzcyI6MTp7czo1OiJnZW9pcCI7czoyOiJERSI7fXM6MjM6ImdhbnRyeS1jdXJyZW50LXRlbXBsYXRlIjtzOjExOiJydF9hdWRhY2l0eSI7czo0NjoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbmFtZSI7TjtzOjUxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1sb2dvLXR5cGUiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbG9nby1jdXN0b20taW1hZ2UiO047czo1NjoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtZGVtb3N0eWxlLXR5cGUiO047czo1NToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtYWNjZW50LWNvbG9yMSI7TjtzOjU1OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1hY2NlbnQtY29sb3IyIjtOO3M6NjU6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXBhZ2VzdXJyb3VuZC1iYWNrZ3JvdW5kIjtOO3M6NTg6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib2R5LW92ZXJsYXkiO047czo1NToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtdG9wLXRleHRjb2xvciI7TjtzOjU2OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS10b3AtYmFja2dyb3VuZCI7TjtzOjU4OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1oZWFkZXItdGV4dGNvbG9yIjtOO3M6NTk6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWhlYWRlci1iYWNrZ3JvdW5kIjtOO3M6NTM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWhlYWRlci10eXBlIjtOO3M6NjA6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXNob3djYXNlLXRleHRjb2xvciI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1zaG93Y2FzZS1iYWNrZ3JvdW5kIjtOO3M6NTk6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXV0aWxpdHktdGV4dGNvbG9yIjtOO3M6NjA6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXV0aWxpdHktYmFja2dyb3VuZCI7TjtzOjU5OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mZWF0dXJlLXRleHRjb2xvciI7TjtzOjYwOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mZWF0dXJlLWJhY2tncm91bmQiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbWFpbnRvcC10ZXh0Y29sb3IiO047czo2MDoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbWFpbnRvcC1iYWNrZ3JvdW5kIjtOO3M6NjM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4cGFuZGVkdG9wLXRleHRjb2xvciI7TjtzOjY0OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHBhbmRlZHRvcC1iYWNrZ3JvdW5kIjtOO3M6NjY6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4cGFuZGVkYm90dG9tLXRleHRjb2xvciI7TjtzOjY3OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHBhbmRlZGJvdHRvbS1iYWNrZ3JvdW5kIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib3R0b20tdGV4dGNvbG9yIjtOO3M6NjM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib3R0b20tYmFja2dyb3VuZCI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHRlbnNpb24tdGV4dGNvbG9yIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4dGVuc2lvbi1iYWNrZ3JvdW5kIjtOO3M6NTg6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWJvdHRvbS10ZXh0Y29sb3IiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtYm90dG9tLWJhY2tncm91bmQiO047czo1ODoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtZm9vdGVyLXRleHRjb2xvciI7TjtzOjU5OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mb290ZXItYmFja2dyb3VuZCI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1jb3B5cmlnaHQtdGV4dGNvbG9yIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWNvcHlyaWdodC1iYWNrZ3JvdW5kIjtOO3M6NTM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWZvbnQtZmFtaWx5IjtOO3M6NTQ6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWZvbnQtc2l6ZS1pcyI7TjtzOjUxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1tZW51LXR5cGUiO047czo1MzoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbGF5b3V0LW1vZGUiO047fX1zOjE0OiIAKgBpbml0aWFsaXplZCI7YjowO3M6OToic2VwYXJhdG9yIjtzOjE6Ii4iO30</span><span class=\"o\">=</span>\n<span class=\"o\">)</span>\n\n<span class=\"n\">E_WARNING</span> <span class=\"k\">in</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">functions</span><span class=\"o\">.</span><span class=\"na\">inc</span> <span class=\"n\">at</span> <span class=\"n\">line</span> <span class=\"mi\">131</span>\n<span class=\"n\">Cannot</span> <span class=\"n\">modify</span> <span class=\"n\">header</span> <span class=\"n\">information</span> <span class=\"o\">-</span> <span class=\"n\">headers</span> <span class=\"n\">already</span> <span class=\"n\">sent</span> <span class=\"n\">by</span> <span class=\"o\">(</span><span class=\"n\">output</span> <span class=\"n\">started</span> <span class=\"n\">at</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">functions_error</span><span class=\"o\">.</span><span class=\"na\">inc</span><span class=\"o\">:</span><span class=\"mi\">63</span><span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">GET</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n<span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">POST</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n    <span class=\"o\">[</span><span class=\"n\">name</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Per</span> <span class=\"n\">K</span><span class=\"err\">\u00e6</span><span class=\"n\">rebo</span> <span class=\"n\">test</span> <span class=\"n\">test11</span>\n    <span class=\"o\">[</span><span class=\"n\">description</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> \n    <span class=\"o\">[</span><span class=\"n\">start_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">start_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">start_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">start_seconds</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">79200</span>\n    <span class=\"o\">[</span><span class=\"n\">end_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">end_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">end_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">end_seconds</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">82800</span>\n    <span class=\"o\">[</span><span class=\"n\">rooms</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Array</span>\n        <span class=\"o\">(</span>\n            <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n        <span class=\"o\">)</span>\n\n    <span class=\"o\">[</span><span class=\"n\">type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">I</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Array</span>\n        <span class=\"o\">(</span>\n            <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">1</span>\n        <span class=\"o\">)</span>\n\n    <span class=\"o\">[</span><span class=\"n\">rep_num_weeks</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">10</span>\n    <span class=\"o\">[</span><span class=\"n\">month_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">0</span>\n    <span class=\"o\">[</span><span class=\"n\">month_absolute</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">month_relative_ord</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">4</span>\n    <span class=\"o\">[</span><span class=\"n\">month_relative_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">MO</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">returl</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">day</span><span class=\"o\">.</span><span class=\"na\">php</span><span class=\"o\">?</span><span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2016</span><span class=\"o\">&amp;</span><span class=\"n\">month</span><span class=\"o\">=</span><span class=\"mi\">11</span><span class=\"o\">&amp;</span><span class=\"n\">day</span><span class=\"o\">=</span><span class=\"mi\">28</span><span class=\"o\">&amp;</span><span class=\"n\">area</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"o\">&amp;</span><span class=\"n\">room</span><span class=\"o\">=</span><span class=\"mi\">1</span>\n    <span class=\"o\">[</span><span class=\"n\">create_by</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">fcvejle</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">100</span>\n    <span class=\"o\">[</span><span class=\"n\">edit_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">series</span>\n    <span class=\"o\">[</span><span class=\"n\">original_room_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_uid</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">MRBS</span><span class=\"o\">-</span><span class=\"mi\">583</span><span class=\"n\">c0641a701e</span><span class=\"o\">-</span><span class=\"n\">d664b249</span><span class=\"err\">@</span><span class=\"n\">fh</span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"o\">.</span><span class=\"na\">dk</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_sequence</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">4</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_recur_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">20161128</span><span class=\"n\">T210000Z</span>\n    <span class=\"o\">[</span><span class=\"n\">id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">3916</span>\n    <span class=\"o\">[</span><span class=\"n\">save_button</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Gem</span>\n<span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">SESSION</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n    <span class=\"o\">[</span><span class=\"n\">joomla</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">TzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjE6e3M6OToiX19kZWZhdWx0IjtPOjg6InN0ZENsYXNzIjo0NDp7czo3OiJzZXNzaW9uIjtPOjg6InN0ZENsYXNzIjozOntzOjc6ImNvdW50ZXIiO2k6MTk7czo1OiJ0aW1lciI7Tzo4OiJzdGRDbGFzcyI6Mzp7czo1OiJzdGFydCI7aToxNDgxMjY0MDMzO3M6NDoibGFzdCI7aToxNDgxMjY0MjU0O3M6Mzoibm93IjtpOjE0ODEyNjQyNTU7fXM6NToidG9rZW4iO3M6MzI6IjdraEh0OWxoM0VjS3JRREJoeVMzdHpGY0RHMkNqNTVGIjt9czo4OiJyZWdpc3RyeSI7TzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjA6e31zOjE0OiIAKgBpbml0aWFsaXplZCI7YjoxO3M6OToic2VwYXJhdG9yIjtzOjE6Ii4iO31zOjQ6InVzZXIiO086NToiSlVzZXIiOjE6e3M6MjoiaWQiO3M6MjoiNzAiO31zOjE0OiJjb21fcnNmaXJld2FsbCI7Tzo4OiJzdGRDbGFzcyI6MTp7czo1OiJnZW9pcCI7czoyOiJERSI7fXM6MjM6ImdhbnRyeS1jdXJyZW50LXRlbXBsYXRlIjtzOjExOiJydF9hdWRhY2l0eSI7czo0NjoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbmFtZSI7TjtzOjUxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1sb2dvLXR5cGUiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbG9nby1jdXN0b20taW1hZ2UiO047czo1NjoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtZGVtb3N0eWxlLXR5cGUiO047czo1NToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtYWNjZW50LWNvbG9yMSI7TjtzOjU1OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1hY2NlbnQtY29sb3IyIjtOO3M6NjU6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXBhZ2VzdXJyb3VuZC1iYWNrZ3JvdW5kIjtOO3M6NTg6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib2R5LW92ZXJsYXkiO047czo1NToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtdG9wLXRleHRjb2xvciI7TjtzOjU2OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS10b3AtYmFja2dyb3VuZCI7TjtzOjU4OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1oZWFkZXItdGV4dGNvbG9yIjtOO3M6NTk6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWhlYWRlci1iYWNrZ3JvdW5kIjtOO3M6NTM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWhlYWRlci10eXBlIjtOO3M6NjA6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXNob3djYXNlLXRleHRjb2xvciI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1zaG93Y2FzZS1iYWNrZ3JvdW5kIjtOO3M6NTk6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXV0aWxpdHktdGV4dGNvbG9yIjtOO3M6NjA6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXV0aWxpdHktYmFja2dyb3VuZCI7TjtzOjU5OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mZWF0dXJlLXRleHRjb2xvciI7TjtzOjYwOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mZWF0dXJlLWJhY2tncm91bmQiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbWFpbnRvcC10ZXh0Y29sb3IiO047czo2MDoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbWFpbnRvcC1iYWNrZ3JvdW5kIjtOO3M6NjM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4cGFuZGVkdG9wLXRleHRjb2xvciI7TjtzOjY0OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHBhbmRlZHRvcC1iYWNrZ3JvdW5kIjtOO3M6NjY6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4cGFuZGVkYm90dG9tLXRleHRjb2xvciI7TjtzOjY3OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHBhbmRlZGJvdHRvbS1iYWNrZ3JvdW5kIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib3R0b20tdGV4dGNvbG9yIjtOO3M6NjM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib3R0b20tYmFja2dyb3VuZCI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHRlbnNpb24tdGV4dGNvbG9yIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4dGVuc2lvbi1iYWNrZ3JvdW5kIjtOO3M6NTg6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWJvdHRvbS10ZXh0Y29sb3IiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtYm90dG9tLWJhY2tncm91bmQiO047czo1ODoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtZm9vdGVyLXRleHRjb2xvciI7TjtzOjU5OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mb290ZXItYmFja2dyb3VuZCI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1jb3B5cmlnaHQtdGV4dGNvbG9yIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWNvcHlyaWdodC1iYWNrZ3JvdW5kIjtOO3M6NTM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWZvbnQtZmFtaWx5IjtOO3M6NTQ6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWZvbnQtc2l6ZS1pcyI7TjtzOjUxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1tZW51LXR5cGUiO047czo1MzoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbGF5b3V0LW1vZGUiO047fX1zOjE0OiIAKgBpbml0aWFsaXplZCI7YjowO3M6OToic2VwYXJhdG9yIjtzOjE6Ii4iO30</span><span class=\"o\">=</span>\n<span class=\"o\">)</span>\n\n<span class=\"n\">E_WARNING</span> <span class=\"k\">in</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">functions</span><span class=\"o\">.</span><span class=\"na\">inc</span> <span class=\"n\">at</span> <span class=\"n\">line</span> <span class=\"mi\">132</span>\n<span class=\"n\">Cannot</span> <span class=\"n\">modify</span> <span class=\"n\">header</span> <span class=\"n\">information</span> <span class=\"o\">-</span> <span class=\"n\">headers</span> <span class=\"n\">already</span> <span class=\"n\">sent</span> <span class=\"n\">by</span> <span class=\"o\">(</span><span class=\"n\">output</span> <span class=\"n\">started</span> <span class=\"n\">at</span> <span class=\"sr\">/home/frivejle/public_html/booking/</span><span class=\"n\">functions_error</span><span class=\"o\">.</span><span class=\"na\">inc</span><span class=\"o\">:</span><span class=\"mi\">63</span><span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">GET</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n<span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">POST</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n    <span class=\"o\">[</span><span class=\"n\">name</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Per</span> <span class=\"n\">K</span><span class=\"err\">\u00e6</span><span class=\"n\">rebo</span> <span class=\"n\">test</span> <span class=\"n\">test11</span>\n    <span class=\"o\">[</span><span class=\"n\">description</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> \n    <span class=\"o\">[</span><span class=\"n\">start_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">start_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">start_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">start_seconds</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">79200</span>\n    <span class=\"o\">[</span><span class=\"n\">end_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">end_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">end_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">end_seconds</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">82800</span>\n    <span class=\"o\">[</span><span class=\"n\">rooms</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Array</span>\n        <span class=\"o\">(</span>\n            <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n        <span class=\"o\">)</span>\n\n    <span class=\"o\">[</span><span class=\"n\">type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">I</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Array</span>\n        <span class=\"o\">(</span>\n            <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">1</span>\n        <span class=\"o\">)</span>\n\n    <span class=\"o\">[</span><span class=\"n\">rep_num_weeks</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">10</span>\n    <span class=\"o\">[</span><span class=\"n\">month_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">0</span>\n    <span class=\"o\">[</span><span class=\"n\">month_absolute</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">month_relative_ord</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">4</span>\n    <span class=\"o\">[</span><span class=\"n\">month_relative_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">MO</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_day</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">28</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_month</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">11</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_end_year</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2016</span>\n    <span class=\"o\">[</span><span class=\"n\">returl</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">day</span><span class=\"o\">.</span><span class=\"na\">php</span><span class=\"o\">?</span><span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2016</span><span class=\"o\">&amp;</span><span class=\"n\">month</span><span class=\"o\">=</span><span class=\"mi\">11</span><span class=\"o\">&amp;</span><span class=\"n\">day</span><span class=\"o\">=</span><span class=\"mi\">28</span><span class=\"o\">&amp;</span><span class=\"n\">area</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"o\">&amp;</span><span class=\"n\">room</span><span class=\"o\">=</span><span class=\"mi\">1</span>\n    <span class=\"o\">[</span><span class=\"n\">create_by</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">fcvejle</span>\n    <span class=\"o\">[</span><span class=\"n\">rep_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">100</span>\n    <span class=\"o\">[</span><span class=\"n\">edit_type</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">series</span>\n    <span class=\"o\">[</span><span class=\"n\">original_room_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">2</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_uid</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">MRBS</span><span class=\"o\">-</span><span class=\"mi\">583</span><span class=\"n\">c0641a701e</span><span class=\"o\">-</span><span class=\"n\">d664b249</span><span class=\"err\">@</span><span class=\"n\">fh</span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"o\">.</span><span class=\"na\">dk</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_sequence</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">4</span>\n    <span class=\"o\">[</span><span class=\"n\">ical_recur_id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">20161128</span><span class=\"n\">T210000Z</span>\n    <span class=\"o\">[</span><span class=\"n\">id</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">3916</span>\n    <span class=\"o\">[</span><span class=\"n\">save_button</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">Gem</span>\n<span class=\"o\">)</span>\n<span class=\"n\">MRBS</span> <span class=\"n\">SESSION</span><span class=\"o\">:</span> <span class=\"n\">Array</span>\n<span class=\"o\">(</span>\n    <span class=\"o\">[</span><span class=\"n\">joomla</span><span class=\"o\">]</span> <span class=\"o\">=&gt;</span> <span class=\"n\">TzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjE6e3M6OToiX19kZWZhdWx0IjtPOjg6InN0ZENsYXNzIjo0NDp7czo3OiJzZXNzaW9uIjtPOjg6InN0ZENsYXNzIjozOntzOjc6ImNvdW50ZXIiO2k6MTk7czo1OiJ0aW1lciI7Tzo4OiJzdGRDbGFzcyI6Mzp7czo1OiJzdGFydCI7aToxNDgxMjY0MDMzO3M6NDoibGFzdCI7aToxNDgxMjY0MjU0O3M6Mzoibm93IjtpOjE0ODEyNjQyNTU7fXM6NToidG9rZW4iO3M6MzI6IjdraEh0OWxoM0VjS3JRREJoeVMzdHpGY0RHMkNqNTVGIjt9czo4OiJyZWdpc3RyeSI7TzoyNDoiSm9vbWxhXFJlZ2lzdHJ5XFJlZ2lzdHJ5IjozOntzOjc6IgAqAGRhdGEiO086ODoic3RkQ2xhc3MiOjA6e31zOjE0OiIAKgBpbml0aWFsaXplZCI7YjoxO3M6OToic2VwYXJhdG9yIjtzOjE6Ii4iO31zOjQ6InVzZXIiO086NToiSlVzZXIiOjE6e3M6MjoiaWQiO3M6MjoiNzAiO31zOjE0OiJjb21fcnNmaXJld2FsbCI7Tzo4OiJzdGRDbGFzcyI6MTp7czo1OiJnZW9pcCI7czoyOiJERSI7fXM6MjM6ImdhbnRyeS1jdXJyZW50LXRlbXBsYXRlIjtzOjExOiJydF9hdWRhY2l0eSI7czo0NjoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbmFtZSI7TjtzOjUxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1sb2dvLXR5cGUiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbG9nby1jdXN0b20taW1hZ2UiO047czo1NjoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtZGVtb3N0eWxlLXR5cGUiO047czo1NToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtYWNjZW50LWNvbG9yMSI7TjtzOjU1OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1hY2NlbnQtY29sb3IyIjtOO3M6NjU6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXBhZ2VzdXJyb3VuZC1iYWNrZ3JvdW5kIjtOO3M6NTg6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib2R5LW92ZXJsYXkiO047czo1NToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtdG9wLXRleHRjb2xvciI7TjtzOjU2OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS10b3AtYmFja2dyb3VuZCI7TjtzOjU4OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1oZWFkZXItdGV4dGNvbG9yIjtOO3M6NTk6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWhlYWRlci1iYWNrZ3JvdW5kIjtOO3M6NTM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWhlYWRlci10eXBlIjtOO3M6NjA6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXNob3djYXNlLXRleHRjb2xvciI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1zaG93Y2FzZS1iYWNrZ3JvdW5kIjtOO3M6NTk6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXV0aWxpdHktdGV4dGNvbG9yIjtOO3M6NjA6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLXV0aWxpdHktYmFja2dyb3VuZCI7TjtzOjU5OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mZWF0dXJlLXRleHRjb2xvciI7TjtzOjYwOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mZWF0dXJlLWJhY2tncm91bmQiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbWFpbnRvcC10ZXh0Y29sb3IiO047czo2MDoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbWFpbnRvcC1iYWNrZ3JvdW5kIjtOO3M6NjM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4cGFuZGVkdG9wLXRleHRjb2xvciI7TjtzOjY0OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHBhbmRlZHRvcC1iYWNrZ3JvdW5kIjtOO3M6NjY6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4cGFuZGVkYm90dG9tLXRleHRjb2xvciI7TjtzOjY3OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHBhbmRlZGJvdHRvbS1iYWNrZ3JvdW5kIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib3R0b20tdGV4dGNvbG9yIjtOO3M6NjM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLW1haW5ib3R0b20tYmFja2dyb3VuZCI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1leHRlbnNpb24tdGV4dGNvbG9yIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWV4dGVuc2lvbi1iYWNrZ3JvdW5kIjtOO3M6NTg6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWJvdHRvbS10ZXh0Y29sb3IiO047czo1OToiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtYm90dG9tLWJhY2tncm91bmQiO047czo1ODoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtZm9vdGVyLXRleHRjb2xvciI7TjtzOjU5OiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1mb290ZXItYmFja2dyb3VuZCI7TjtzOjYxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1jb3B5cmlnaHQtdGV4dGNvbG9yIjtOO3M6NjI6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWNvcHlyaWdodC1iYWNrZ3JvdW5kIjtOO3M6NTM6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWZvbnQtZmFtaWx5IjtOO3M6NTQ6ImF1ZGFjaXR5LTFkNjY2OWVhMjEzNTVhZGEzOGRkODE2MDZkZWZkYzVhLWZvbnQtc2l6ZS1pcyI7TjtzOjUxOiJhdWRhY2l0eS0xZDY2NjllYTIxMzU1YWRhMzhkZDgxNjA2ZGVmZGM1YS1tZW51LXR5cGUiO047czo1MzoiYXVkYWNpdHktMWQ2NjY5ZWEyMTM1NWFkYTM4ZGQ4MTYwNmRlZmRjNWEtbGF5b3V0LW1vZGUiO047fX1zOjE0OiIAKgBpbml0aWFsaXplZCI7YjowO3M6OToic2VwYXJhdG9yIjtzOjE6Ii4iO30</span><span class=\"o\">=</span>\n<span class=\"o\">)</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2016-12-09</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  It looks like you are using the code rom the latest default branch.   You need to edit mrbs_sql.inc and change the lines (approx 566-570) in mrbsDelEntry() that look like this:</p>\n<div class=\"codehilite\"><pre><span></span>  if ($series)\n  {\n    $sql .= \"repeat_id=\";\n    $sql_params[] = $repeat_id;\n  }\n</pre></div>\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span>  if ($series)\n  {\n    $sql .= \"repeat_id=?\";\n    $sql_params[] = $repeat_id;\n  }\n</pre></div>\n<p>There have been a few other fixes and changes to the default branch, so it might be worth you updating your version of the code by taking a new snapshot.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2e6568cb/b476/\"><div class=\"markdown_content\"><p>Thanks it works</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n<div class=\"reaction\" data-react=\":+1:\"><div class=\"emoj\"><img alt=\"\ud83d\udc4d\" class=\"emoji\" draggable=\"false\" src=\"https://twemoji.maxcdn.com/2/72x72/1f44d.png\"/></div><div class=\"emoj-count\">1</div></div>\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2e6568cb/1444/\"><div class=\"markdown_content\"><p>Hi, <br/>\nI have same error, but problem is different:<br/>\nWarning: Cannot add or update a child row: a foreign key constraint fails (<code>c503criferrara2</code>.<code>mrbs_entry</code>, CONSTRAINT <code>mrbs_entry_ibfk_2</code> FOREIGN KEY (<code>repeat_id</code>) REFERENCES <code>mrbs_repeat</code> (<code>id</code>) ON DELETE CASCADE ON UPDATE CASCADE) in /var/www/clients/client503/web1675/web/booking/mrbs_sql.inc on line 598</p>\n<p>in the query used to add new booking:<br/>\n INSERT INTO mrbs_entry (<code>start_time</code>, <code>end_time</code>, <code>entry_type</code>, <code>repeat_id</code>, <code>room_id</code>, <code>create_by</code>, <code>modified_by</code>, <code>name</code>, <code>type</code>, <code>description</code>, <code>status</code>, <code>ical_uid</code>, <code>ical_sequence</code>, <code>ical_recur_id</code>) VALUES (1488445200, 1488470400, 0, 0, 1, 'fviali', '', 'Prenotazione di prova', 'I', 'asldkfaskl jasldkj \u00f2asdlkj ', 0, 'MRBS-58b46ee39eb51-65a96946@criferrara.it', 0, '')</p>\n<p>I have just created table using tables.my.sql file</p>\n<p>it only happens when repetition is \"none\". with weekly and daily repetition it works.<br/>\n seems that my table are not created correctly..</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2017-02-27</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS are you using?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I don't think you can be using MRBS 1.6.1 as line 598 of mrbs_sql.inc would not produce that error, as far as I can see.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi,</p>\n<p>I have PDO drivers running.. Extensions included with wamp saying all is well. Running IIS and only get to a point shown below. I turned extra debug info as you have provided in a prior post just above. I have the latest MRBS (1.7.1), PHP (7.2)  and Mysql (5.7.21)running.<br/>\nHere is what I have..</p>\n<p>~~~~<br/>\nUncaught exception 'MRBS\\DBException' in C:\\inetpub\\wwwroot\\mrbs\\web\\lib\\MRBS\\DB.php at line 75<br/>\n could not find driver<br/>\n SQL: <br/>\n Params: <br/>\n #0 C:\\inetpub\\wwwroot\\mrbs\\web\\lib\\MRBS\\DBFactory.php(25): MRBS\\DB-&gt;__construct('localhost', 'mrbs', 'mrbs-password', 'mrbs', false, 3306)<br/>\n #1 C:\\inetpub\\wwwroot\\mrbs\\web\\dbsys.inc(46): MRBS\\DBFactory::create('mysql', 'localhost', 'mrbs', 'mrbs-password', 'mrbs', false, NULL)<br/>\n #2 C:\\inetpub\\wwwroot\\mrbs\\web\\dbsys.inc(96): MRBS\\db()<br/>\n #3 C:\\inetpub\\wwwroot\\mrbs\\web\\defaultincludes.inc(30): require_once('C:\\inetpub\\wwwr...')<br/>\n #4 C:\\inetpub\\wwwroot\\mrbs\\web\\index.php(9): require('C:\\inetpub\\wwwr...')<br/>\n #5 {main}<br/>\n MRBS GET: Array<br/>\n (<br/>\n )<br/>\n MRBS POST: Array<br/>\n (<br/>\n )<br/>\n MRBS SESSION: Array<br/>\n (<br/>\n )</p>\n<p>E_WARNING in C:\\inetpub\\wwwroot\\mrbs\\web\\functions.inc at line 192<br/>\n Cannot modify header information - headers already sent by (output started at C:\\inetpub\\wwwroot\\mrbs\\web\\functions_error.inc:62)<br/>\n MRBS GET: Array<br/>\n (<br/>\n )<br/>\n MRBS POST: Array<br/>\n (<br/>\n )<br/>\n MRBS SESSION: Array<br/>\n (<br/>\n )<br/>\n     Fatal error: unfortunately the database is not available at the moment<br/>\n ~~~~</p>\n<p>=================================================<br/>\n Mysql server is good.. Databases and tables are good. PHP can access the database.</p>\n<p>Thanks for your help :-)\u200b</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2018-03-27</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Are you sure that you've got the PDO drivers enabled?   PHP is saying that it can't find the MySQL PDO driver.   You should have the line</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"na\">extension</span><span class=\"o\">=</span><span class=\"s\">php_pdo_mysql.dll</span>\n</pre></div>\n<p>uncommented in your php.ini file.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It is present in the php.ini file, uncommented and there is a php_pdo_mysql.dll file in the ext dir.</p>\n<p>Thank you for the quick response. Not sure what else to do. Windows path to php -&gt; c:\\php</p>\n<p>Are there any other environment variables that need to be set?  Phpinfo() does not show PHP PDO drivers present.</p>\n<p>;   Be sure to appropriately set the extension_dir directive.<br/>\n;<br/>\nextension=php_pdo_mysql.dll</p>\n<p>phpinfo()<br/>\nPDO<br/>\nPDO support enabled <br/>\nPDO drivers  no value  &lt;&lt;&lt;&lt;&lt;&lt;&lt;</p>\n<p>Hmmmm,,,</p>\n<p>Roger</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Wait... Got an idea... I'm assuming directory ext is known in the local path.. Lemme try to put the full path in the php.ini file.</p>\n<p>Roger</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>; Directory in which the loadable extensions (modules) reside.<br/>\n; <a href=\"http://php.net/extension-dir\" rel=\"nofollow\">http://php.net/extension-dir</a><br/>\n; extension_dir = \"./\"<br/>\n; On windows:<br/>\n; extension_dir = \"ext\"<br/>\nextension_dir = \"c:\\php\\ext\"<br/>\n\u200b<br/>\n; Directory in which the loadable extensions (modules) reside.<br/>\n; <a href=\"http://php.net/extension-dir\" rel=\"nofollow\">http://php.net/extension-dir</a><br/>\n; extension_dir = \"./\"<br/>\n; On windows:<br/>\n; extension_dir = \"ext\"<br/>\nextension_dir = \"c:\\php\\ext\\\"   &lt;&lt;&lt;&lt; Added the backslash at the end of ext.. No help..</p>\n<p>Added full path to php.ini   -&gt; extension=c:\\php\\ext\\php_pdo_mysql.dll  (No Help)</p>\n<p>Restarting PHP using reboot and iis restart <br/>\niisreset /stop<br/>\nnet start w3svc</p>\n<p>No help</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Below is the line that is having the problem in DB.php</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">// Add in some possible solutions for common problems when migrating to the PDO version of MRBS</span>\n<span class=\"x\">      // from an earlier version.</span>\n<span class=\"x\">      if ($e-&gt;getCode() == 7)</span>\n<span class=\"x\">      {</span>\n<span class=\"x\">        if (($db_host === '') &amp;&amp; (static::DB_DBO_DRIVER === DB_pgsql::DB_DBO_DRIVER))</span>\n<span class=\"x\">        {</span>\n<span class=\"x\">          $message .= \".\\n[MRBS note] Try setting \" . '$db_host' . \" to '127.0.0.1'.\";      &lt;- Line 75</span>\n<span class=\"x\">        }</span>\n<span class=\"x\">      }</span>\n</pre></div>\n<p>Uncaught exception 'MRBS\\DBException' in C:\\inetpub\\wwwroot\\mrbs\\web\\lib\\MRBS\\DB.php at <strong>line 75</strong></p>\n<p>Roger</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2018-03-27</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Line 75 is actually:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">      throw new DBException($message, 0, $e);</span>\n</pre></div>\n<p>and the line that is causing the exception to be thrown is almost certainly the line in the earlier <code>try</code> block:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"x\">      $this-&gt;dbh = new PDO(static::DB_DBO_DRIVER.\":${hostpart}port=$db_port;dbname=$db_name\",</span>\n<span class=\"x\">                           $db_username,</span>\n<span class=\"x\">                           $db_password,</span>\n<span class=\"x\">                           array(PDO::ATTR_PERSISTENT =&gt; ($persist ? true : false),</span>\n<span class=\"x\">                                 PDO::ATTR_ERRMODE    =&gt; PDO::ERRMODE_EXCEPTION));</span>\n</pre></div>\n<p>If the message is \"could not find driver\" then that's what the problem will be:  PHP is not finding a MySQL PDO driver.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks so much...</p>\n<p>I found something that may help others.. Maybe not..</p>\n<p>php.ini needs to be seen from a Windows explorer view as php.... If you see the properties, it should be php.ini, but only then and of course without any distribution suffixes.</p>\n<p>So I used notepad to save php -&gt; c:\\Windows as just php and leave off the ini. Then when looking at the file from explorer, all you see if php. But then look at its properties and you'll see the .ini and off to the right, it will say configuration file.</p>\n<p>Then call up a DOS cmd prompt and run the following...... (I got this from another web site)</p>\n<blockquote>\n<p>PATH=%PATH%;C:\\php<br/>\nphp --ini    (Fix complaints)  That's where I am now... (Lots of info)<br/>\nphp -v</p>\n</blockquote></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry to bring up an old thread, but is there a new release for your code, this doesn't seem to work on the latest build ?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The latest release of MRBS is 1.7.2.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/369/", "title": "#369 function_table.inc syntax error that break the link date at the top of each column", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><div class=\"codehilite\"><pre><span></span>                    There is a syntax error in function_table.inc\n\n                    Line 1243\n                     remove percentage sign % and add double quote as show\n                     $column_width . '\"&gt;' .\n\n                     This will fix the broken link date at the top of each column.\n\n                     Cheers.\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.   This has already been fixed in the default branch - see <a href=\"https://sourceforge.net/p/mrbs/bugs/339/.\">https://sourceforge.net/p/mrbs/bugs/339/.</a></p>\n<p>Note that the % sign is necessary.  You need to add a double quote after the % sign.  Note too that there's another bug a few lines later.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/368/", "title": "#368 Minor bug in doc : UPGRADE", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><blockquote>\n<p>There are however some exceptions to this backward compatiblity, namely at<br>\nthe following transitions:</p>\n<p>MRBS 1.4.4.1 -&gt; 1.4.5</p>\n</blockquote>\n<p>should be changed by:<br>\nThere are however some exceptions to this backward compatiblity, namely at<br>\nthe following transitions:</p>\n<p>MRBS 1.4.4.<strong>11</strong> -&gt; 1.4.5</p>\n<p>I hope not to be wrong. Thanks for this great great soft !<br>\njc</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/367/", "title": "#367 integrate MRBS With AD", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The MRBS system has been installed successfully.  but i need  to integrate with Our active Deirectory <br>\nkindly helped in this issus .<br>\nThank you ,<br>\nEman </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/c7ee63f6/848c/\"><div class=\"markdown_content\"><p>Use ldap settings</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>my config.inc.php:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"mh\">$a</span><span class=\"nv\">uth</span>[<span class=\"s2\">\"</span><span class=\"s\">type</span><span class=\"s2\">\"</span>] <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">ldap</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_host</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">adhostname.whatever.com</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_port</span> <span class=\"o\">=</span> <span class=\"mi\">389</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_user_attrib</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">cn</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_base_dn</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">ou=accounts,dc=whatever,dc=com</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n<span class=\"o\">//</span> <span class=\"nv\">ATTN</span>: <span class=\"nv\">ldap_filter</span>[<span class=\"nv\">x</span>], <span class=\"nv\">where</span> <span class=\"nv\">x</span> <span class=\"nv\">is</span> <span class=\"nv\">the</span> <span class=\"nv\">room</span> <span class=\"nv\">number</span> <span class=\"ss\">(</span><span class=\"nv\">easy</span> <span class=\"nv\">to</span> <span class=\"nv\">just</span> <span class=\"nv\">note</span> <span class=\"nv\">the</span> <span class=\"nv\">room</span> <span class=\"nv\">number</span> <span class=\"nv\">in</span> <span class=\"nv\">the</span> <span class=\"nv\">URL</span><span class=\"ss\">)</span>, <span class=\"nv\">as</span> <span class=\"nv\">opposed</span> <span class=\"nv\">to</span> <span class=\"nv\">just</span> <span class=\"nv\">using</span> <span class=\"nv\">ldap_filter</span> <span class=\"nv\">not</span> <span class=\"nv\">as</span> <span class=\"nv\">an</span> <span class=\"nv\">array</span><span class=\"c1\">;</span>\n<span class=\"o\">//</span> <span class=\"nv\">i</span>.<span class=\"nv\">e</span>. <span class=\"nv\">one</span> <span class=\"nv\">filter</span> <span class=\"nv\">per</span> <span class=\"nv\">room</span> <span class=\"nv\">vs</span> <span class=\"nv\">one</span> <span class=\"nv\">filter</span> <span class=\"k\">for</span> <span class=\"nv\">all</span> <span class=\"nv\">rooms</span><span class=\"o\">--</span><span class=\"nv\">so</span> <span class=\"nv\">either</span> <span class=\"nv\">remove</span> [<span class=\"mi\">1</span>] <span class=\"ss\">(</span><span class=\"nv\">to</span> <span class=\"nv\">make</span> <span class=\"k\">for</span> <span class=\"nv\">all</span> <span class=\"nv\">rooms</span><span class=\"ss\">)</span>, <span class=\"nv\">or</span> <span class=\"nv\">add</span> [<span class=\"mi\">2</span>] <span class=\"nv\">when</span> <span class=\"nv\">you</span> <span class=\"nv\">make</span> <span class=\"nv\">your</span> <span class=\"nv\">second</span> <span class=\"nv\">room</span>\n$<span class=\"nv\">ldap_filter</span>[<span class=\"mi\">1</span>] <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">memberof=cn=groupname1,ou=groups,ou=ifanothersub,ou=ifyetanotheretc,dc=whatever,dc=com</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_dn_search_attrib</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">samaccountname</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_dn_search_dn</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">cn=myserviceacct,ou=accounts,dc=whatever,dc=com</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_dn_search_password</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">itspassword</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_group_member_attrib</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">memberof</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_admin_group_dn</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">cn=admingroupname,ou=groups,ou=ifanothersub,ou=ifyetanotheretc,dc=whatever,dc=com</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_v3</span> <span class=\"o\">=</span> <span class=\"nv\">true</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_tls</span> <span class=\"o\">=</span> <span class=\"nv\">false</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_email_attrib</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">mail</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_disable_referrals</span> <span class=\"o\">=</span> <span class=\"nv\">true</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_get_user_email</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"s\">true</span><span class=\"s2\">\"</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_firstName_attrib</span> <span class=\"o\">=</span> <span class=\"s1\">'</span><span class=\"s\">givenname</span><span class=\"s1\">'</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_lastName_attrib</span> <span class=\"o\">=</span> <span class=\"s1\">'</span><span class=\"s\">sn</span><span class=\"s1\">'</span><span class=\"c1\">;</span>\n$<span class=\"nv\">ldap_debug</span> <span class=\"o\">=</span> <span class=\"nv\">false</span><span class=\"c1\">;</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Not a bug, closing</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/366/", "title": "#366 Booking changes to public when resized.", "status": "open", "labels": "drag (1)\n          \n        \n          \n              private (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,<br>\nI may have found a bug, but I doubt it.</p>\n<p>If a user makes a private booking, all is OK.  The booking is correctly displayed as Private to other users. However, if the Admin uses drag and drop to resize/extend the booking it changes to a public booking and becomes visible to all users.</p>\n<p>Are you able to point me in the right direction as to where the code is which handles the ajax post?<br>\nThanks</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Looks like a bug.  I'll fix it tomorrow. </p>\n<p>Campbell </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, I can confirm that this is a bug in 1.5.0, but it has been fixed in the latest code in the default branch.   I am not quite sure which of the many changes since 1.5.0 has fixed this, and therefore how to patch a 1.5.0 system.    I think the best thing to do is to upgrade to the latest snapshot.   To get the latest code go to <a href=\"https://sourceforge.net/p/mrbs/hg-code/ci/default/tree/\">https://sourceforge.net/p/mrbs/hg-code/ci/default/tree/</a> and then \"Download snapshot\".  Then follow the instructions for upgrading which are, in summary:</p>\n<ol>\n<li>Take a backup of your database, just in case.</li>\n<li>Take a copy of your web directory, just in case.</li>\n<li>Upload the contents of the new web directory, except for the config file, to your web server, overwriting the old files.</li>\n<li>Point your browser at MRBS. If prompted to upgrade the database you will need to enter a database (not MRBS) username and password.</li>\n</ol></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/5e288b59/9a35/\"><div class=\"markdown_content\"><p>Thanks Campbell.  Much appreciated.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/365/", "title": "#365 Min_user_viewing_level variable not referenced in User List", "status": "open", "labels": "userlist (1)\n          \n        \n          \n              user list (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The variable $min_user_viewing_level is not checked when a user views the User List.  As a result a user without admin rights can see the full list of registed users in the system.  Ideally, if they don't have the right level of access they should only see their own record.  This can be fixed by changing the SQL query to populate the user table in edit_users.php.<br>\nAt line 849 change<br>\n    $res = sql_query(\"SELECT * FROM $tbl_users ORDER BY level DESC, name\");<br>\nto<br>\n   if ($level &gt;= $min_user_viewing_level) /<em> Administrators get the right to view all users </em>/<br>\n  {<br>\n  $res = sql_query(\"SELECT * FROM $tbl_users ORDER BY level DESC, name\");<br>\n  } else {<br>\n  $res = sql_query(\"SELECT * FROM $tbl_users WHERE name = '$user' ORDER BY level DESC, name\");<br>\n  }</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think the code is working as expected.   $min_user_viewing_level defines the lowest level of <em>admin</em> allowed to view other users, not the lowest level of user, and is only used if you only want admins to be able to see other users.   If you want to stop ordinary users viewing other users set</p>\n<div class=\"codehilite\"><pre><span></span>$auth['only_admin_can_see_other_users'] = TRUE;\n</pre></div>\n<p>I have fixed an error in the comments in systemdefaults.inc.php in changeset 35e9b7736f57.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2ab5c35f/5005/\"><div class=\"markdown_content\"><p>Thanks.  I'll correct my config.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/364/", "title": "#364 unable to change mrbs with config.inc.php", "status": "closed", "labels": "unable to effect mrbs with (1)\n          \n        \n          \n              unable to change mrbs with config.inc.php (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>I have set up MRBS however when I add changes to the config.inc.php, they don't seem to come into effect. Only when I edit the likes of the systemdefaults.inc.php do they take effect. I am aware the file should stay untouched for upgrade purposes, but can seem to work out how to get the config file to work.</p>\n<p>Any help is much appreciated!</p>\n<p>Stephen</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>See <a href=\"https://sourceforge.net/p/mrbs/support-requests/1052/\">https://sourceforge.net/p/mrbs/support-requests/1052/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/363/", "title": "#363 Appointment name not clickable", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi</p>\n<p>We have recently updated and noticed that when a - or a / is used in the name of an appointment that it doesnt show correctly on the calindar page and isnt clickable. Any clused there?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/8895f99b/e041/\"><div class=\"markdown_content\"><p>Here is a Screenshot</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You recently updated MRBS? To what version? I've just tested your example, and it works as expected.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/8895f99b/ab46/\"><div class=\"markdown_content\"><p>Thanks for the quick responce. The issue i think is that its a very old version (1.2.3) of MRBS and a new (Current) version of Apache/PHP. </p>\n<p>Ive only recently become the care taker of the system. Sounds like i'll need to make a clone and look at updating.</p>\n<p>From what i am seeing the system doesnt like the longer \"-\" and only works with the short one.</p>\n<p>Again thanks for your responce and i appreciate all your hard work.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Please upgrade, indeed - that is a very old version.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/362/", "title": "#362 Error when clicking conflict_check", "status": "open", "labels": "None", "priority": "7", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When I click on one of the two conflict check markers in edit_entry.php page nothing happens and get the following error. I was able to reproduce it with your demo installation as well. Can you help, please?<br>\n<strong>Uncaught Error: no such method 'select'  for tabs widget instance</strong></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, so the solution is:</p>\n<p>Change the following code in edit_entry.js.php (in the js folder) in lines 1326 AND 1335</p>\n<p>FROM this:</p>\n<div class=\"codehilite\"><pre><span></span>checkTabs.tabs(\"select\", tabId);\n</pre></div>\n<p>TO this:</p>\n<div class=\"codehilite\"><pre><span></span> checkTabs.tabs(\"option\", \"active\", tabId);\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Not quite - the third parameter needs to be the index rather than the id.  I've checked in a fix to the default branch in changeset 0b7ac777c33f.</p>\n<p>There's still one other problem which is that the tabs are supposed to have a close button which has disappeared in recent versions.   I'll take a look at it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've fixed the problem with the close button in changeset f18107b76b67.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Very nice, thank you, Campbell!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/361/", "title": "#361 Can't mass delete entries", "status": "open", "labels": "None", "priority": "4", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Using the report page I can list many bookings, but after pressing the delete entries button nothing happens.<br>\nInspecting it the error massage: reportTable.fnGetFilteredData is not a function</p>\n<p>This is the code of report.js.php:</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'&lt;button id=\"delete_button\"&gt;</span><span class=\"cp\">&lt;?php</span> <span class=\"k\">echo</span> <span class=\"nx\">escape_js</span><span class=\"p\">(</span><span class=\"nx\">get_vocab</span><span class=\"p\">(</span><span class=\"s2\">\"delete_entries\"</span><span class=\"p\">))</span> <span class=\"cp\">?&gt;</span><span class=\"s1\">&lt;\\/button&gt;'</span><span class=\"p\">)</span>\n                <span class=\"p\">.</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n                    <span class=\"kd\">var</span> <span class=\"nx\">data</span> <span class=\"o\">=</span> <span class=\"nx\">reportTable</span><span class=\"p\">.</span><span class=\"nx\">fnGetFilteredData</span><span class=\"p\">(),</span>\n                        <span class=\"nx\">nEntries</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p>And the related code is in /jquery/datatables/js/plugins.js</p>\n<div class=\"codehilite\"><pre><span></span>$.fn.dataTableExt.oApi.fnGetFilteredData = function ( oSettings ) {\n  var a = [];\n  for ( var i=0, iLen=oSettings.aiDisplay.length ; i&lt;iLen ; i++ ) {\n    a.push(oSettings.aoData[ oSettings.aiDisplay[i] ]._aData);\n  }\n  return a;\n};\n</pre></div>\n\n\n<p>Thanks in advance.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for reporting this.   I can confirm that I can reproduce the problem and I'll take a look.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed this in the default branch with changeset 78c142e23822.   The attached version of js/report.js.php should patch a 1.5.0 system.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you, Campbell!<br/>\nMeanwhile I modified the code in several files, so in my case  now even the button isn't visible.<br/>\nReplacing the report.js.php and the datatables plugins.js to the new ones don't solve my problem, so I can't see the button. show_bulk_delete was set to true, but if I remove this condition from here I can't see the button as well.</p>\n<div class=\"codehilite\"><pre><span></span>  if ($is_admin &amp;&amp; $auth['show_bulk_delete'])\n</pre></div>\n<p>But this is my problem, I'm sure in a standard case it works well!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/360/", "title": "#360 Datalist doesn't show any options in report page using chrome", "status": "open", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>On the report page any datalist (i.e. room list)  doesn't show any options using chrome, but it works with Edge.<br>\nInspecting the problem I recognized this code, maybe this causes the problem:<br>\n&lt;Select style=\"display:none\"&gt;</p>\n<p>Any idea to solve it?</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/360/attachment/dispay.PNG\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/360/attachment/dispay.PNG/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/360/attachment/dispay.PNG\">dispay.PNG</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for reporting this.   Yes, I can reproduce the problem so will investigate.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The problem is not the display:none, but the autocomplete attribute on the input element.   The code has this set to \"off\" by default because many browsers will present the list of previous field inputs as well as the options which might not be the behaviour that one wants.   For some browsers turning off autocomplete also turns off the list off options, so for those browsers it is set to \"on\".   It looks like the latest Chrome is one of those, and should be included in that list.</p>\n<p>As a temporary fix I suggest you modify line 1370 <span>[MRBS 1.5.0]</span> of fumctions.inc from</p>\n<div class=\"codehilite\"><pre><span></span>  $html .= (strpos(utf8_strtolower($HTTP_USER_AGENT), 'opera') === FALSE) ? 'off' : 'on';\n</pre></div>\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span>  $html .= (strpos(utf8_strtolower($HTTP_USER_AGENT), 'opera') === FALSE) ? 'on' : 'on';\n</pre></div>\n<p>Meanwhile I'll think some more about the behaviour that we want and also look some more at how datalists work.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d0da1ea9/5296/\"><div class=\"markdown_content\"><p>Thank you for the quick answer, Campbell.<br/>\nYou are a magician :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I notice that with the temporary fix above the behaviour in Edge is now slightly annoying:  the input history is displayed over the top of the datalist options in a way that means that you can't see the first few options.</p>\n<p>I am working on a better fix - hope to have it available soon.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now (changeset 8d611ed5f07a) checked a fix into the default branch.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/359/", "title": "#359 crear reservas solapadas", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hola mi nombre es Alejandro, instalamos el sistema mrbs para reservar aulas para docentes, ahora el problema que se presenta es que necesito hacer reservas de 8 a 9 y de 9 a 10 ya que sale un profesor del aula e ingresa otro, no veo esa posibilidad en el sistema, puede ser asi ?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>a 8 to 9 (well, 8:59:59) booking and a 9 to 10 booking are not overlapping, they're sequential. MRBS has no problem handling them. Each slot displays its <strong>starting time</strong></p>\n<p><span>[image removed]</span></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Treblig 2016-06-29</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/be2b65a7/68bb/\"><div class=\"markdown_content\"><p>Muchas Gracias por su repuesta.atte. Alejandro</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'll remove the image from my site now that you've seen it.</p>\n<p><em>By the way, this should not be a \"Bug\" Ticket but \"Support Request\"</em></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/358/", "title": "#358 Send Email to participants", "status": "open", "labels": "None", "priority": "9", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, first of all thanks for the system.<br>\nCan give me an idea how to add participant email address and send email to them when the meeting is created?</p>\n<p>how can i make $mail_settings<span>['recipients']</span> more dynamic so that we can choose participant email's in page edit_entry.php</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I need the answer too...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>If you search through the Support Requests tickets you will see that there are a number of solutions for adding a custom field to hold the email addresses of particpants.</p>\n<p>The ideal solution wouuld be to be able to choose from a list of users as well as add email addresses of non-users, but this hasn't been implemented yet.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/357/", "title": "#357 First link to week in mini-calendar is broken", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><span>[Transferred from the general mailing list]</span></p>\n<p>Something I just noticed: when you set $mincals_week_numbers = TRUE;, the link to the first week of each month always brings up the current week, rather than the week it\u2019s supposed to show. First error I noticed after more than a year of happily using MRBS :)</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have now fixed this in the default branch (changeset 15ed7818167c).   You can patch a 1.5.0 system by using the attached version of mincals.inc.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/333bbd51/45cc/\"><div class=\"markdown_content\"><p>Thank you!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/356/", "title": "#356 Wrong end time presentation", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When logged in MRBS (browser full screen) the day view presents the wrong enddtimes, resizing the screen to a smaller screen makes the enddtimes presented correctly. Refreshing the window sets the end time wrong again.<br>\nIt happens with all browsers and only when logged is as administrator.<br>\nLogged out everything works fine!</p>\n<p>looks like when logged in the height is caculated wrong.</p>\n<p>See screens in attachement.</p>\n<p>Thanks,<br>\nBart</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n          <a href=\"/p/mrbs/bugs/356/attachment/mrbs.docx\">mrbs.docx</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, that doesn't look right. I suspect it's something to do with the collapsed entries (with the yellow '+' marks) just to the left, but it shouldn't happen. I'll investigate next week. To help me, can you tell me</p>\n<p>(1) which version of MRBS you are using?<br/>\n(2) how you got the collapsed entries? It should normally only be possible to get them if you change the resolution. If they appeared by any other means then it's a bug in MRBS.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/354/", "title": "#354 Wrong get_vocab parameter in header.inc", "status": "wont-fix", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello great MRBS Team,<br>\nI would like to report a ridiculous tiny bug wich prevents a correct translation in the header of the page.<br>\nIn the file \"Themes/default/header.inc\" at line 201 the function get_vocab use \"rooms\" as parameter instead of \"admin\".</p>\n<p>Thank you very much for all your work<br>\nBye</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It may not seem it, but that is on purpose.</p>\n<p>The link takes you to admin.php, but that page is all about configuration for rooms (and areas), and doesn't ever use any English to refer to itself as the \"Admin\" page.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: John Beranek 2016-04-06</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; wont-fix</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/353/", "title": "#353 approval", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I change some code in mrbs, now I have some problem, normal user dont need approve but the admin and user  need the approval , i dont know where I change the code, maybe somebody can point me where the page I need to edit back..<br>\nthank you</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The likely file is mrbs_auth.inc, but I think you are really going to need to debug your code abd find out where it is going wrong.</p>\n<p>By the way, please could you raise this kind of question as a Support Request rather than a Bug in future.   Thanks.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I sorry for posting in wrong section, <br/>\nhow to debug in browser ?<br/>\nthank you for quick reply</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: izham 2016-03-23</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/352/", "title": "#352 approve", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I change some code in mrbs, now I have some problem,  normal user dont need approve but the admin and user can need the approval , i dont know where I change the code, maybe somebody can point me where the page I need to edit back..<br>\nthank you</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Duplicate of <a href=\"https://sourceforge.net/p/mrbs/bugs/353/\">https://sourceforge.net/p/mrbs/bugs/353/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/351/", "title": "#351 Repeat daily not working", "status": "open", "labels": "Repeat booking (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>HI!</p>\n<p>Greetings!!!</p>\n<p>Repeat booking not working.i tried latest version also had same problem. using wamp server for instalation.<br>\nKindly do needfull</p>\n<p>Regards,<br>\nPraveen</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you post a screenshot of the repeat section of the form please?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/ef6851d3/c686/\"><div class=\"markdown_content\"><p>Hello,</p>\n<p>Repat Bookng doesn't work for me, too. I tried daily and weekly.</p>\n<p>Buchungssystem: MRBS 1.5.0<br/>\nDatenbank:  MySQL 5.6.34-79.1-log<br/>\nSystem: Linux wp063 4.4.36-1-xenu-static-he+1+ #1 SMP Thu Dec 8 14:51:02 CET 2016 x86_64<br/>\nServerzeit: Di 10 Jan 2017 10:09:41 GMT<br/>\nPHP:    5.6.29-he.0</p>\n<p><a class=\"\" href=\"http://www.bilder-upload.eu/show.php?file=605a86-1484043183.png\" rel=\"nofollow\">Here a Screenshot</a></p>\n<p>config.inc.php</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?php</span>\n\n<span class=\"nv\">$timezone</span> <span class=\"o\">=</span> <span class=\"s2\">\"Europe/London\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$dbsys</span> <span class=\"o\">=</span> <span class=\"s2\">\"mysqli\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$db_host</span> <span class=\"o\">=</span> <span class=\"s2\">\"localhost\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$db_database</span> <span class=\"o\">=</span> <span class=\"s2\">\"db11234023-mrbs\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$db_login</span> <span class=\"o\">=</span> <span class=\"s2\">\"XXXXX\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$db_password</span> <span class=\"o\">=</span> <span class=\"s1\">'XXXXX'</span><span class=\"p\">;</span>\n<span class=\"nv\">$db_tbl_prefix</span> <span class=\"o\">=</span> <span class=\"s2\">\"mrbs_\"</span><span class=\"p\">;</span>\n\n<span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s2\">\"type\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"config\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s2\">\"session_cookie\"</span><span class=\"p\">][</span><span class=\"s2\">\"secret\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"XXXXXXXXXXXXXXXXXXXXXx\"</span><span class=\"p\">;</span>\n<span class=\"nb\">unset</span><span class=\"p\">(</span><span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s2\">\"admin\"</span><span class=\"p\">]);</span>\n<span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s2\">\"admin\"</span><span class=\"p\">][]</span> <span class=\"o\">=</span> <span class=\"s2\">\"administrator\"</span><span class=\"p\">;</span>\n<span class=\"nb\">unset</span><span class=\"p\">(</span><span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s2\">\"user\"</span><span class=\"p\">]);</span>     \n<span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s2\">\"user\"</span><span class=\"p\">][</span><span class=\"s2\">\"administrator\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"XXXXXXXXXXXXXXXXXXXXXX\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s2\">\"user\"</span><span class=\"p\">][</span><span class=\"s2\">\"Lehrer\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"</span><span class=\"p\">;</span>\n\n<span class=\"nv\">$mrbs_admin</span> <span class=\"o\">=</span> <span class=\"s2\">\"Dein Administrator\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$mrbs_admin_email</span> <span class=\"o\">=</span> <span class=\"s2\">\"XXXXXXXXXXXXXXXXX\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$mrbs_company</span> <span class=\"o\">=</span> <span class=\"s2\">\"Einhard-Gymnasium Aachen\"</span><span class=\"p\">;</span>   \n\n<span class=\"nv\">$weekstarts</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n<span class=\"nv\">$hidden_days</span> <span class=\"o\">=</span> <span class=\"k\">array</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">);</span>\n<span class=\"nv\">$year_range</span><span class=\"p\">[</span><span class=\"s1\">'back'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"nv\">$year_range</span><span class=\"p\">[</span><span class=\"s1\">'ahead'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n<span class=\"nv\">$simple_trailer</span> <span class=\"o\">=</span> <span class=\"k\">TRUE</span><span class=\"p\">;</span>\n\n<span class=\"nb\">unset</span><span class=\"p\">(</span><span class=\"nv\">$periods</span><span class=\"p\">);</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"1. Stunde\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"2. Stunde\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"3. Stunde\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"4. Stunde\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"5. Stunde\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"6. Stunde\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"7. Stunde\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"8. Stunde\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"9. Stunde\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"10. Stunde\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"11. Stunde\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$periods</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"12. Stunde\"</span><span class=\"p\">;</span>\n\n<span class=\"nv\">$enable_periods</span> <span class=\"o\">=</span> <span class=\"k\">TRUE</span><span class=\"p\">;</span> \n\n<span class=\"nv\">$default_view</span> <span class=\"o\">=</span> <span class=\"s2\">\"day\"</span><span class=\"p\">;</span>\n\n<span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s1\">'only_admin_can_book_repeat'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"k\">TRUE</span><span class=\"p\">;</span>\n<span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s1\">'only_admin_can_book_multiday'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"k\">FALSE</span><span class=\"p\">;</span>\n<span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s1\">'only_admin_can_select_multiroom'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"k\">FALSE</span><span class=\"p\">;</span>\n<span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s1\">'deny_public_access'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"k\">TRUE</span><span class=\"p\">;</span>\n<span class=\"nv\">$auth</span><span class=\"p\">[</span><span class=\"s1\">'show_bulk_delete'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"k\">TRUE</span><span class=\"p\">;</span>\n\n<span class=\"nb\">unset</span><span class=\"p\">(</span><span class=\"nv\">$booking_types</span><span class=\"p\">);</span>\n<span class=\"nv\">$booking_types</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"A\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$vocab_override</span><span class=\"p\">[</span><span class=\"s1\">'de'</span><span class=\"p\">][</span><span class=\"s1\">'type.A'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"Lehrer\"</span><span class=\"p\">;</span>\n\n<span class=\"nv\">$booking_types</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"B\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$vocab_override</span><span class=\"p\">[</span><span class=\"s1\">'de'</span><span class=\"p\">][</span><span class=\"s1\">'type.B'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"Verwaltung\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$default_type</span> <span class=\"o\">=</span> <span class=\"s2\">\"type.A\"</span><span class=\"p\">;</span>\n\n<span class=\"nv\">$vocab_override</span><span class=\"p\">[</span><span class=\"s1\">'de'</span><span class=\"p\">][</span><span class=\"s1\">'sum_by_descrip'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"Lehrerk&amp;uuml;rzel (Pflicht)\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$vocab_override</span><span class=\"p\">[</span><span class=\"s1\">'de'</span><span class=\"p\">][</span><span class=\"s1\">'namebooker'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"Lehrerk&amp;uuml;rzel (Pflicht)\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$vocab_override</span><span class=\"p\">[</span><span class=\"s1\">'de'</span><span class=\"p\">][</span><span class=\"s1\">'areas'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"Kategorien\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$vocab_override</span><span class=\"p\">[</span><span class=\"s1\">'de'</span><span class=\"p\">][</span><span class=\"s1\">'area'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"kategorie\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$vocab_override</span><span class=\"p\">[</span><span class=\"s1\">'de'</span><span class=\"p\">][</span><span class=\"s1\">'rooms'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"Ressourcen\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$vocab_override</span><span class=\"p\">[</span><span class=\"s1\">'de'</span><span class=\"p\">][</span><span class=\"s1\">'room'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"Ressource\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$vocab_override</span><span class=\"p\">[</span><span class=\"s1\">'de'</span><span class=\"p\">][</span><span class=\"s1\">'type'</span><span class=\"p\">]</span><span class=\"o\">=</span> <span class=\"s2\">\"Termintyp\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$vocab_override</span><span class=\"p\">[</span><span class=\"s1\">'de'</span><span class=\"p\">][</span><span class=\"s1\">'fulldescription'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"optionale Kurzinfos (z.B. Projektname)\"</span><span class=\"p\">;</span>\n<span class=\"nv\">$vocab_override</span><span class=\"p\">[</span><span class=\"s1\">'de'</span><span class=\"p\">][</span><span class=\"s1\">'mrbs'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"Buchungssystem\"</span><span class=\"p\">;</span>    \n\n<span class=\"nv\">$disable_automatic_language_changing</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"nv\">$default_language_tokens</span> <span class=\"o\">=</span> <span class=\"s2\">\"de\"</span><span class=\"p\">;</span>\n\n<span class=\"nv\">$reminders_enabled</span> <span class=\"o\">=</span> <span class=\"k\">FALSE</span><span class=\"p\">;</span>\n<span class=\"nv\">$confirmation_enabled</span> <span class=\"o\">=</span> <span class=\"k\">FALSE</span><span class=\"p\">;</span>\n</pre></div>\n<p>Reagrds<br/>\nWolfgang</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2017-01-10</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Are you remembering to set the repeat end date?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/ef6851d3/4ae6/\"><div class=\"markdown_content\"><p>I tried both. First U just set the number of recurring weeks.But this didn't work. Then also set the end date behind the last date I wanted to book. But this didn't work either.<br/>\nWolfgang</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2017-01-11</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The problem may be a misunderstanding about what the \"number of recurring weeks\" field does.  It dettermines the frequency of repeat, not the number of repeats.  For example if you set it to 2 then the booking will be made every other (every second week).    The German translation has now been changed from \"Anzahl Wochen\" to \"Wiederhole alle\".</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/ef6851d3/106b/\"><div class=\"markdown_content\"><p>That's it. Great! I tought, that I have the coice of setting the number of weeks or an enddate of the repeating dates.</p>\n<p>Thank you</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/350/", "title": "#350 why i cant log out", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Version : MRBS 1.5.0<br>\nDatabase:   MySQL 10.1.9-MariaDB<br>\nSystem: Windows NT USER-PC 6.1 build 7600 (Windows 7 Professional Edition) i586<br>\nServer time:    3/6/2016 2:47:06 PM<br>\nPHP:    5.5.30</p>\n<p>cant logout the system , <br>\n1. I tried close the browser,<br>\n2. I try change the config.inc<br>\n$auth<span>[\"session\"]</span> = \"cookie\";<br>\n$auth<span>[\"session_cookie\"]</span><span>[\"session_expire_time\"]</span> = (60*5);<br>\n$refresh_rate = 300;<br>\n$auth<span>[\"type\"]</span> = \"db\"; <br>\nbut nothing happen...</p>\n<p>iz</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/29ca9175/0ffe/\"><div class=\"markdown_content\"><p>I solve it already.. thank </p>\n<p>iz</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2016-03-06</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li>Description has changed:</li>\n</ul>\n<p>Diff:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gd\">--- old</span>\n<span class=\"gi\">+++ new</span>\n<span class=\"gu\">@@ -1,4 +1,3 @@</span>\n<span class=\"gd\">-</span>\n  Version : MRBS 1.5.0\n Database:  MySQL 10.1.9-MariaDB\n System:    Windows NT USER-PC 6.1 build 7600 (Windows 7 Professional Edition) i586\n</pre></div>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/349/", "title": "#349 no closing \" on style-attribute", "status": "open", "labels": "html (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>no ending \" in <br>\nin functions_table.inc on line 1136:<br>\nin function week_table_innerhtml</p>\n<div class=\"codehilite\"><pre><span></span>    $header_inner .= '&lt;th data-date=\"' . $date . '\" style=\"width: ' . $column_width . '%**\"**&gt;' .\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li>Description has changed:</li>\n</ul>\n<p>Diff:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gd\">--- old</span>\n<span class=\"gi\">+++ new</span>\n<span class=\"gu\">@@ -1,4 +1,7 @@</span>\n no ending \" in \n in functions_table.inc on line 1136:\n in function week_table_innerhtml\n<span class=\"gi\">+</span>\n<span class=\"gi\">+~~~~</span>\n     $header_inner .= '&lt;th data-date=\"' . $date . '\" style=\"width: ' . $column_width . '%**\"**&gt;' .\n<span class=\"gi\">+~~~~</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.   Already fixed - see <a href=\"https://sourceforge.net/p/mrbs/bugs/339/\">https://sourceforge.net/p/mrbs/bugs/339/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/348/", "title": "#348 What is the default admin password. Can I create a new one", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>What is the default admin and password.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>What authentication scheme are you using?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/cc2c906f/ae8d/\"><div class=\"markdown_content\"><p>thanks, I got it..</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/347/", "title": "#347 Error database in \"more info\"", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When I click on \"more info\" in pending bookings and i click \"send\" i have: Fatal error: unfortunately the database is not available at the moment.\" In attachments is error_log.</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n          <a href=\"/p/mrbs/bugs/347/attachment/error_log\">error_log</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS are you using?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/3b51686a/5616/\"><div class=\"markdown_content\"><p>1.5.0</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.  I have now fixed this in the default branch (changeset 379f936761d0).  You can patch a 1.5.0 system by changing line 1040 of mrbs_sql.inc from</p>\n<div class=\"codehilite\"><pre><span></span>      $repeat_id = get_repeat_id($entry_id);\n</pre></div>\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span>      $repeat_id = get_repeat_id($id);\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/3b51686a/d0e3/\"><div class=\"markdown_content\"><p>Thanks! I have one more question: how can i translate button and the content of e-mails \"Approve\", \"Reject\" and \"More info\"?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Use the $vocab_override setting in your config file.   Look for the content you want to translate in lang/lang.en and find the corresponding token.   For example, for \"More info\" add the following line to your config for a French translation:</p>\n<div class=\"codehilite\"><pre><span></span>$vocab_override['fr']['more_info'] = 'Your translation here';\n</pre></div>\n<p>Do not edit the lang files, but put any changes in your config file - that way they will survive an upgrade to the next version of MRBS.   See the comments in systemdefaults.inc.php for more details.</p>\n<p>If you find some tokens that don't have a translation in the language of your choice, then let me have the translations and I can add them to MRBS so that they appear in the next release.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/3b51686a/58f0/\"><div class=\"markdown_content\"><p>It's almost complete file.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Many thanks.   I've now updated the Polish translations in the default branch (changeset 5bf86b598e53).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/346/", "title": "#346 Don't work Start and end of day", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello, in my website don't work Start and end of day. It's my file config.inc.php in attachment. Anyone know why does not work? Sorry for my bad english :) </p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n          <a href=\"/p/mrbs/bugs/346/attachment/config2.php\">config2.php</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The config seetings only change the default settings for <em>new</em> areas.   To change the settings for existing areas you have to do it through the browser.   Login to MRBS as an admin, go to the \"Rooms\" page, select the area you want to change, click the Edit icon and make the changes.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9a04a7a9/a00c/\"><div class=\"markdown_content\"><p>OK, thanks! :D</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/345/", "title": "#345 Some changes which i need as per Organisations need", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>Below are some changes which i tried but didn't worked out:-</p>\n<p>1.On the View_entry.php page....The fiels 'Edit Entry','Delete Entry','Return To Previous Page' are shown as normal works...offcourse they are redirecting to a new location.I want to show them as 'Buttons'.The front UI should look like a button saying 'Edit Entry'.Can you tell me how can i do that as i studied the code....it is a <a href=\"../\"> tag which is redirecting to any page.I cannot implement &lt;input type=\"\\\\\"submti\\\\\"\"&gt; in that code line.<br>\n2.On the edit_entry page, I want to add a new text box which accepts Phone no,how can i make this field visible and that can be inserted in database.<br>\n3.On the edit_entry page i want to Remove or Hide the visibility of two fields 'Rooms'  and 'Booking type'.I tried doing some changed but it is getting diabled instead of getting hidden.<br>\n4.I want to make a user who dosen't have access to Delete any entry. He/she should be able to only Edit entry.How can i create such a user.<br>\n5.On the Edit entry page i want to add a free text box for 'Comments'.How can i make this changes as the database is already set up with default fields.</a></p><a href=\"../\">\n<p>Hope you can suggest me code changes for above issues.I will be looking onto this ticket and will be updatng if you need any data from my side.</p>\n</a><p><a href=\"../\">Thanks<br>\nVivek</a></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>First of all, please could you raise questions like this in future as Support Request tickets, rather than Bugs.</p>\n<p>The answers to your questions are:</p>\n<p>(1) Turning an anchor into a button link is a generic question and you'll find lots of advice and examples elsewhere by searching the web.</p>\n<p>(2)  See the instructions in INSTALL and systemdefaults.inc.php on how to create custom fields.</p>\n<p>(3)  You'll need to create a custom CSS file (see the documentation for how) and add a rule</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">#</span><span class=\"nn\">div_name</span> <span class=\"p\">{</span>  <span class=\"c\">/* where div_name is replaced by the id of the containing div for the field in question */</span>\n  <span class=\"k\">display</span><span class=\"p\">:</span> <span class=\"kc\">none</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n<p>(4) In standard MRBS you can prevent users deleting entries by setting both min_delete_ahead and max_delete_ahead to the same value.    However this will also stop them editing entries as an edit involves creating a new entry and deleting the old one.   But you probably want to stop them editing entries anyway as allowing them to do so effectively allows them to delete them (for example just edit it to be much shorter and take place five years in the future).    If you want to do something more you'll need to modify MRBS code.</p>\n<p>(5) As (2)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/344/", "title": "#344 Start_Time & End_Time stored as integer", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi all, </p>\n<p>I am running MRBS1.4.11 on mysql 5.6.27. MRBS itself is running brilliantly. I am trying to write a php script which pulls today's meetings through to another webpage, which I can then display on a screen in reception. </p>\n<p>The trouble is, MRBS saves start_time and end_time as an integer in mysql. Do you know how the integer is calculated from the date time inputted by the user? I was hoping that if you did, I could then reverse it, to either get the date, or an integer which I can tag as 'today' so my script knows. </p>\n<p>Thanks in advance for the help. </p>\n<p>Stephen. </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>D'oh! I meant to put this is support requests. Sorry </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, it's a Unix timestamp.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/343/", "title": "#343 users are creating series repeat bookings that bypass our booking restrictions", "status": "open", "labels": "None", "priority": "9", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>It has come to our attention that some of our users are finding ways to book in advance more than our determined two week in advance booking cutoff. (we only want people to be able to book two weeks from current time in advance, and any request past that time is prohibited) However, other users of ours have brought it to our attention that others are somehow able to bypass this restriction by doing something with the repeat booking use.</p>\n<p>My question is this: How are they able to do this? and how can we fix it?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS are you using?   I know it's a silly question, but are you sure that the other users are not admins?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/bce81e91/b486/\"><div class=\"markdown_content\"><p>MRBS version 1.4.10. I believe that those making the bookings are not admins, I was told by the users that those bypassing the booking restrictions were playing around with the repaeat booking section when booking rooms, and that it then allowed them to book past the allowed two weeks in advance.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2016-01-16</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Do you have more than one area? Do the other areas have different restrictions on booking?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/bce81e91/c530/\"><div class=\"markdown_content\"><p>just one building, with 15 rooms available for booking. All the rooms have the same two week restriction. I checked and it seems someone booked past the two weeks for four months. How could they have done this?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I don't know how this could happen.   Are you able to reproduce the problem yourself?  Is it possible to ask the person who made the booking how they did it?   What kind of booking was it (eg daily/weekly/monthly repeat)?   When was the booking start date?  When was the booking last modified?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>One other question - have you made any changes to standard MRBS?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have been playing around with repeats trying to reproduce this problem and haven't yet managed to do so.   (Admittedly I have been testing on the latest code in the default branch rather than MRBS 1.4.10, but I can't see anything in the revision history since 1.4.10 that would have fixed the bug).</p>\n<p>In the process of testing I have found a couple of other minor bugs related to repeats which I have now fixed (changesets 342f4bafa72b and 399fd6cc76c9), but I don't think either of these bugs is related to the one you are seeing.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/342/", "title": "#342 ow can we change the value of \"type\" in the Add Entry page.", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,how can we change the value of \"type\" in the Add Entry page.<br>\nCurrently it shows only two value Internal &amp; external.I want to add some more values.Please help.Please suggest the page number and line number of code.</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/342/attachment/type.JPG\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/342/attachment/type.JPG/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/342/attachment/type.JPG\">type.JPG</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You can change it by editing your config file.   Please read the comments in systemdefaults.inc.php for details.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>PS Please could you raise questions like this in future under \"Support Requests\" rather than \"Bugs\".</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/92bb4fa8/33c0/\"><div class=\"markdown_content\"><p>sure thank you</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/341/", "title": "#341 how do i extend the timing from 7-7pm to 11am-11pm", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>how do i extend the timing from 7-7pm to 11am-11pm.<br>\nOn which page and on which line of code is to be changed for this change.Please can you supply the code.<br>\nI want to change the timing on both Add entry page and on the calender display<br>\nvivek Shukla<br>\nIndia,Mumbai</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Please read (a) the document INSTALL and (b) the comments in systemdefaults.inc.php and particularly areadefaults.inc.php.</p>\n<p>The booking day can be set from the browser by admins from the \"Rooms\" page on a per-area basis.  The default setting for new areas is a config setting.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/5b7a7211/f474/\"><div class=\"markdown_content\"><p>Still stuck after reading all docs your said.the starttime and end time are not coming in sysnc.Can you please suggest the page in which these changes can be reflected.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/5b7a7211/e851/\"><div class=\"markdown_content\"><p>Sir,on the areadefaults.inc.php i have changed below code</p>\n<blockquote>\n<p>// The beginning of the first slot of the day (DEFAULT VALUES FOR NEW AREAS)<br/>\n$morningstarts         = 09;   // must be integer in range 0-23<br/>\n$morningstarts_minutes = 00;   // must be integer in range 0-59</p>\n</blockquote>\n<p>// The beginning of the last slot of the day (DEFAULT VALUES FOR NEW AREAS)<br/>\n$eveningends           = 20;  // must be integer in range 0-23<br/>\n$eveningends_minutes   = 30;   // must be integer in range 0-59</p>\n<p>But still the calender is not getting update.</p>\n<p>2)The time changes which i want to see in calender view should also get viewed while adding any new entry.<br/>\nStart time<br/>\nEnd Time</p>\n<p>should work in accordance with the calender.</p>\n<p>Please help,it urgent to run this tool.Hope if you can provide more details in terms of page and code.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The config settings just change the default settings for new areas.    For existing areas you can change the settings from the browser.   Login to MRBS as an admin, go to the Rooms page, select the area in question, click on the Edit icon and make the changes.</p>\n<p>By the way, you said you changed areadefaults.inc.php code.   It is better not to edit areadefaults or systemdefaults.  Instead, you should copy the settings you want to change into config.inc.php and edit them there.   If you do that it will be easier when you upgrade to the next version of MRBS because you can keep your old config file and won't have to re-apply all your changes.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/5b7a7211/ff1c/\"><div class=\"markdown_content\"><p>Thanks you Sir,It was a great help.It worked out.</p>\n<p>Thanks Alot.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/340/", "title": "#340 When a new entry is submitted,it gets updated on the calender,but the end time shows 30mins less in the calender.eg if the end time is 14:00,in the calender it shows like 13:30.", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When a new entry is submitted,it gets updated on the calender,but the end time shows 30mins less in the calender.eg if the end time is 14:00,in the calender it shows like 13:30.<br>\nAfter adding all the details on the Add Entry page.I use to save the entry and it gets updated on the Calender.But the calender is showing a 30min lag in the end time.On viewing the entry it is giving correct data.<br>\nIt means data is correctly saved but on the view part of calender it is giving error.<br>\nPlease reply asap.<br>\nVivek Shukla<br>\nIndia,Mumbai</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/340/attachment/last.JPG\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/340/attachment/last.JPG/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/340/attachment/last.JPG\">last.JPG</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You may be mis-reading the calendar.   The times are the start times of the slots.   So in your attachment the booking \"Centrica-booking-log\" starts at 1300 and ends at 1430.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/6a4c26d1/269f/\"><div class=\"markdown_content\"><p>why 1430 slot is not looking green.Is it not a fault.The slot for \"Centrica-booking-log\" looks should be green from 1300 till 1430..any comments?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, the slot is green from 1300 until 1430.   The slots are 30 minutes long and the booking occupies three slots, starting at 1300.    As I said above, the times are the start times of the slots.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/6a4c26d1/c75c/\"><div class=\"markdown_content\"><p>okay thank you</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/339/", "title": "#339 Days no Links in Week View", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When a week view is chosen, the days in the table header are not clickable/linked.</p>\n<p>There is a typo in functions-table.inc in line 1243:<br>\n<code>$column_width . '%&gt;' .</code><br>\na \" is missing between &gt; and '.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Many thanks for spotting this.   Now fixed in changeset 70f0280c07a8.</p>\n<p>For anybody patching a 1.5.0 system there is also another missing \" three lines further on.   Those lines in the else block should look like this:</p>\n<p>~~~~<br/>\n      {<br/>\n        // Put the date into a data attribute so that it can be picked up by JavaScript<br/>\n        $header_inner .= '' .<br/>\n                         '<a href=\"../day.php?year='%20.%20strftime(\" title=\"' . get_vocab('viewday') . '\">' .<br/>\n                         utf8_strftime($dformat, $t) . \"</a>\\n\";<br/>\n      }<br/>\n  ~~~~</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/338/", "title": "#338 Double booking (=Duplicate Booking) of a Room", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>With a new installation MRBS 1.5.0  we just had a person book a series that resulted in overlapping a single previous booking- the calendar actually looks nice (see attachments) but I assume this is a bug that we can't easily control as discussed  <a href=\"http://sourceforge.net/p/mrbs/bugs/314/\">http://sourceforge.net/p/mrbs/bugs/314/</a> though it would be a nice option in some cases.</p>\n<p>The config.inc.php settings are:<br>\n// $db_nopersist = 1;<br>\nand MySQL:  autocommit is ON   </p>\n<p>Database:   MySQL 5.1.54-log<br>\nSystem: Linux bookings.science.sfu.ca 2.6.32-504.8.1.el6.x86<br>\nPHP:    5.6.3</p></div></div>\n  \n    <strong class=\"grid-18\">2 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/338/attachment/double_booking-opened.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/338/attachment/double_booking-opened.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/338/attachment/double_booking-opened.png\">double_booking-opened.png</a>\n        </div>\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/338/attachment/double_booking-unopened.png\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/338/attachment/double_booking-unopened.png/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/338/attachment/double_booking-unopened.png\">double_booking-unopened.png</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, this looks like a bug, probably the same as <a href=\"http://sourceforge.net/p/mrbs/bugs/314/\">http://sourceforge.net/p/mrbs/bugs/314/</a> as you say.   Could you let me know what the Last Updated times are for the two bookings please, if you still have them?</p>\n<p>I suspect the problem is something to do with persistent database connections.   In the short term I suggest changing your config so that it doesn't use persistent connections, ie set</p>\n<div class=\"codehilite\"><pre><span></span>$db_nopersist = 1;\n</pre></div>\n<p>(As an aside, the calendar is designed to cope with multiple bookings in the same slot, because that can happen if you change an area's resolution - though the bookings should not be able to overlap each other.  Suppose you had the resolution set to 30 minutes and had a booking for 0800-0830 and another for 0830-0900, then if you change the resolution to 60 minutes you will have two bookings in the 0800-0900 slot.)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you Campbell- I made the change.  Here is the information..</p>\n<p>Description:  <br/>\nRoom:   Rooms - C7080 Meeting Room<br/>\nStart time: 14:00:00 - Thursday 21 January 2016<br/>\nDuration:   2 hours<br/>\nEnd time:   16:00:00 - Thursday 21 January 2016<br/>\nType:   Office Hour<br/>\nCreated by: adminaccount<br/>\nModified by:  <br/>\nLast updated:   11:35:32 - Friday 11 December 2015<br/>\nRepeat type:    None</p>\n<p>Description:    15 people<br/>\nRoom:   Rooms - C7080 Meeting Room<br/>\nStart time: 14:00:00 - Thursday 21 January 2016<br/>\nDuration:   2 hours<br/>\nEnd time:   16:00:00 - Thursday 21 January 2016<br/>\nType:   Grp Mtg<br/>\nCreated by: regularaccount<br/>\nModified by:    regularaccount<br/>\nLast updated:   10:16:40 - Tuesday 15 December 2015<br/>\nRepeat type:    Weekly<br/>\nRepeat every:   1 week<br/>\nRepeat day: Thursday<br/>\nRepeat end date:    Thursday 26 May 2016</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for that.    It's interesting because the Last updated times differ by approx. four days.   I'll do some thinking and see if I can reproduce this.    In the meantime let us know of any other occurrences.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now managed to reproduce this, so will work on a fix.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The details of the two conflicting bookings above were very useful.   The bug occurs when you edit an existing series.    If there is an existing single booking that the new series would conflict with, then it is missed by MRBS and the new series is permitted, resulting in a duplicate booking.</p>\n<p>I have fixed this in the default branch</p>\n<p>You can patch a 1.5.0 system by changing line 42 of mrbs_sql.inc from</p>\n<div class=\"codehilite\"><pre><span></span>    $sql .= \" AND repeat_id &lt;&gt; $repignore\";\n</pre></div>\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span>    $sql .= \" AND (repeat_id IS NULL OR repeat_id &lt;&gt; $repignore)\";\n</pre></div>\n<p>The change to $db_nopersist was irrelevant.  You can change that back if you like.    However unless you have significant performance issues when not using persistent database connections then the general advice is not to use persistent connections.   See <a href=\"http://php.net/manual/en/features.persistent-connections.php\" rel=\"nofollow\">http://php.net/manual/en/features.persistent-connections.php</a></p>\n<blockquote>\n<p>Warning</p>\n<p>There are a couple of additional caveats to keep in mind when using persistent connections. One is that when using table locking on a persistent connection, if the script for whatever reason cannot release the lock, then subsequent scripts using the same connection will block indefinitely and may require that you either restart the httpd server or the database server. Another is that when using transactions, a transaction block will also carry over to the next script which uses that connection if script execution ends before the transaction block does. In either case, you can use register_shutdown_function() to register a simple cleanup function to unlock your tables or roll back your transactions. Better yet, avoid the problem entirely by not using persistent connections in scripts which use table locks or transactions (you can still use them elsewhere).</p>\n</blockquote>\n<p>I'll look at changing the MRBS defaults so that persistent connections are not used.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2015-12-18</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you very much, Campbell. <br/>\nCheers- Dave </p>\n<p>----- Original Message -----</p>\n<blockquote>\n<p>The details of the two conflicting bookings above were very useful. The bug<br/>\noccurs when you edit an existing series. If there is an existing single<br/>\nbooking that the new series would conflict with, then it is missed by MRBS<br/>\nand the new series is permitted, resulting in a duplicate booking.</p>\n<p>I have fixed this in the default branch</p>\n<p>You can patch a 1.5.0 system by changing line 42 of mrbs_sql.inc from<br/>\n$ sql .= \" AND repeat_id &lt;&gt; $ repignore \";</p>\n<p>to<br/>\n$ sql .= \" AND (repeat_id IS NULL OR repeat_id &lt;&gt; $ repignore )\";</p>\n</blockquote></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/337/", "title": "#337 paste error", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Message: <br>\nParse error: syntax error, unexpected T_FUNCTION, expecting ')' in /mnt/sites/csgn.be/web/site/agenda/locaux/lib/autoload.inc on line 5<br>\nThanks!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suspect your version of PHP is below 5.3.0.   MRBS requires PHP 5.3.3 or above.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fca24d18/a6ca/ddde/\"><div class=\"markdown_content\"><p>What can I do to make the script work?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You will have to upgrade your version of PHP, or, if you don't have control of PHP on your server then find another server.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It might be worth checking that the server has the version of php you think it has. I had the same error on upgrading to the current verion of MRBS.  The server had been set to 5.4 in the 'control panel' but phpinfo() showed it was still on 4.x.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now (changeset 92a8e3e94cf5) moved the PHP version check to happen earlier, so that there's a more helpful message if the PHP version is below that required.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/336/", "title": "#336 tables.my.sql needs clarification in 'Notes' (ver 1.5)", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The file 'tables.my.sql' (ver 1.5) probably needs the addition of 'references' to the lines below that explain the need to replace 'mrbs' with new table prefix.  (If that is not the case it is all the more important to state that for people like me!  Thank you.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\"># MySQL MRBS table creation script</span>\n<span class=\"cp\">#</span>\n<span class=\"cp\"># $Id$</span>\n<span class=\"cp\">#</span>\n<span class=\"cp\"># Notes:</span>\n<span class=\"cp\"># (1) If you have decided to change the prefix of your tables from 'mrbs_'</span>\n<span class=\"cp\">#     to something else using $db_tbl_prefix then you must edit each</span>\n<span class=\"cp\">#     'CREATE TABLE'** [, REFERENCES]** and 'INSERT INTO' line below to </span>\n<span class=\"cp\">#     replace 'mrbs_' with</span>\n<span class=\"cp\">#     your new table prefix.  </span>\n<span class=\"p\">[</span><span class=\"n\">lines</span> <span class=\"n\">deleted</span><span class=\"p\">]</span>\n\n  <span class=\"n\">FOREIGN</span> <span class=\"n\">KEY</span> <span class=\"p\">(</span><span class=\"n\">area_id</span><span class=\"p\">)</span> \n    <span class=\"n\">REFERENCES</span> <span class=\"n\">mrbs_area</span><span class=\"p\">(</span><span class=\"kt\">id</span><span class=\"p\">)</span>\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good idea!  Committed in changeset 93cf38dcad62.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/335/", "title": "#335 HTTP session authenticates LDAP for every table cell", "status": "open", "labels": "MRBS (195)\n          \n        \n          \n              LDAP (3)\n          \n        \n          \n              authentication (4)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello, everyone, first, thanks for whole project, MRBS is great.</p>\n<p>I use MRBS 1.5.0 (newly upgraded) with LDAP authentication (web server in linux, LDAP server in Win2013SR2).<br>\nIt seems MRBS works for me as described in <a href=\"http://sourceforge.net/p/mrbs/bugs/238/\">http://sourceforge.net/p/mrbs/bugs/238/</a> , every cell calls authValidateUser() and asks LDAP server for credentials (searches whole subtree of $ldap_base_dn's).<br>\nSo area with 18 rooms and 20 time slots take cca 20 seconds per every refresh :-(<br>\n((Situation viewed by Wireshark on LDAP server.))</p>\n<p>I see, that in session_http.inc is written some patch (probably by Campbell Morrison):<br>\n  if ((isset($authorised_user) &amp;&amp; ($authorised_user == $user)) || ...<br>\nthat looks great, I understand the idea, but I'm affraid it doesn't work for me :-(</p>\n<p>Any suggestions?<br>\nThanks a lot...<br>\nRobert</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS have you just upgraded from? </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>From MRBS 1.4.9+svn.<br/>\n(But I've had this version configured with authentication via IMAP to<br/>\nGMail, which was a little bit uncomfortable to manage.<br/>\nAbout 14 days ago, Google doesn't let user to authenticate -- instead<br/>\nof this Google sends mail to user about \"denying<br/>\nless secure app to access to IMAP\", linking to<br/>\n<a href=\"https://support.google.com/accounts/answer/6010255?hl=en\" rel=\"nofollow\">https://support.google.com/accounts/answer/6010255?hl=en</a> -- so it<br/>\ncouldn't be used :-( But it's another topic, not about LDAP's calling<br/>\nauthValidateUser())<br/>\nThanks,<br/>\nRobert</p>\n<p>2015-11-03 16:51 GMT+01:00 Campbell Morrison <a href=\"mailto:cimorrison@users.sf.net\">cimorrison@users.sf.net</a>:</p>\n<blockquote>\n<p>Which version of MRBS have you just upgraded from?</p>\n<hr/>\n<p><a class=\"alink\" href=\"/p/mrbs/bugs/335/\">[bugs:#335]</a> HTTP session authenticates LDAP for every table cell</p>\n<p>Status: open<br/>\nGroup: Future_Requests<br/>\nLabels: MRBS LDAP authentication<br/>\nCreated: Tue Nov 03, 2015 03:32 PM UTC by Robert Havl\u00e1sek<br/>\nLast Updated: Tue Nov 03, 2015 03:32 PM UTC<br/>\nOwner: nobody</p>\n<p>Hello, everyone, first, thanks for whole project, MRBS is great.</p>\n<p>I use MRBS 1.5.0 (newly upgraded) with LDAP authentication (web server in<br/>\nlinux, LDAP server in Win2013SR2).<br/>\nIt seems MRBS works for me as described in<br/>\n<a href=\"http://sourceforge.net/p/mrbs/bugs/238/\">http://sourceforge.net/p/mrbs/bugs/238/</a> , every cell calls<br/>\nauthValidateUser() and asks LDAP server for credentials (searches whole<br/>\nsubtree of $ldap_base_dn's).<br/>\nSo area with 18 rooms and 20 time slots take cca 20 seconds per every<br/>\nrefresh :-(<br/>\n((Situation viewed by Wireshark on LDAP server.))</p>\n<p>I see, that in session_http.inc is written some patch (probably by Campbell<br/>\nMorrison):<br/>\nif ((isset($authorised_user) &amp;&amp; ($authorised_user == $user)) || ...<br/>\nthat looks great, I understand the idea, but I'm affraid it doesn't work for<br/>\nme :-(</p>\n<p>Any suggestions?<br/>\nThanks a lot...<br/>\nRobert</p>\n<hr/>\n<p>Sent from sourceforge.net because you indicated interest in<br/>\n<a href=\"https://sourceforge.net/p/mrbs/bugs/335/\">https://sourceforge.net/p/mrbs/bugs/335/</a></p>\n<p>To unsubscribe from further messages, please visit<br/>\n<a href=\"https://sourceforge.net/auth/subscriptions/\">https://sourceforge.net/auth/subscriptions/</a></p>\n</blockquote></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<h4>Related</h4>\n<p>\n<a href=\"/p/mrbs/bugs/335/\">Bugs: #335</a><br/>\n</p>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e06a1c63/943c/\"><div class=\"markdown_content\"><p>From MRBS 1.4.9+svn.<br/>\n(But I've had this version configured with authentication via IMAP to<br/>\nGMail, which was a little bit uncomfortable to manage.<br/>\nAbout 14 days ago, Google doesn't let user to authenticate -- instead<br/>\nof this Google sends mail to user about \"denying<br/>\nless secure app to access to IMAP\", linking to<br/>\n<a href=\"https://support.google.com/accounts/answer/6010255?hl=en\" rel=\"nofollow\">https://support.google.com/accounts/answer/6010255?hl=en</a> -- so it<br/>\ncouldn't be used :-( But it's another topic, not about LDAP's calling<br/>\nauthValidateUser())<br/>\nThanks,<br/>\nRobert</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>sorry, not looged in... so, once more :-)</p>\n<p>From MRBS 1.4.9+svn.<br/>\n(But I've had this version configured with authentication via IMAP to<br/>\nGMail, which was a little bit uncomfortable to manage.<br/>\nAbout 14 days ago, Google doesn't let user to authenticate -- instead<br/>\nof this Google sends mail to user about \"denying<br/>\nless secure app to access to IMAP\", linking to<br/>\n<a href=\"https://support.google.com/accounts/answer/6010255?hl=en\" rel=\"nofollow\">https://support.google.com/accounts/answer/6010255?hl=en</a> -- so it<br/>\ncouldn't be used :-( But it's another topic, not about LDAP's calling<br/>\nauthValidateUser())<br/>\nThanks,<br/>\nRobert</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Mmmm.  I'm puzzled.  I haven't got an LDAP server to test it, but I've tried to simulate it by using the 'db' authentication scheme and putting a sleep(1) in authValidateUser().  However I'm only getting one call to authValidateUser() per page.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good idea, putting sleep(1) into authValidateUser(). As a try, I putted sleep(30) in it too. Found, that it was really ran once per page (I was authenticated just once time).<br/>\nFound too, that multiple LDAP requests are also sent, when nobody is logged-in (in anonymous mode).<br/>\nSomewhere in MRBS-scripts has to be another calling of multiple LDAP bindRequests, searchRequests and unbindRequests, which makes viewing complete page (day.php) unusable :-(<br/>\nViewing view_entry.php also calls bindRequests+searchRequests+unbindRequests 4 times (which is not complication, runs fast, just by the way)...<br/>\nIs it possible, that some inner routine asks for credentials of every record's owner?</p>\n<p>P. S. Sorry for making puzzled :-)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think the problem is that authGetUserLevel() is getting called multiple times.   authGetUserLevel() is called by auth_book_admin() which is called by getWritable() which is called once per cell.</p>\n<p>I'll try and work out a fix</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, authGetUserLevel() is the culprit.   I put a sleep(1) in there and my page takes ages to load.   There's probably a quick fix of caching user levels, but I don't think that's the correct answer.  The problem will occur whenever you have a slow authentication method - for example using 'db_ext' with a remote database over a slow network, or even using 'db' when the database is slow or on a remote server.</p>\n<p>I'll have a look tomorrow at a proper fix.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Aaaaha, thanks a lot...<br/>\nCaching userlevel should be enough...<br/>\nAre we talking about userlevel of currently logged in user or userlevel of record's (cell's) owner?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Here's a quick patch to get you going (I hope).  Replace the function auth_book_admin() in mrbs_auth.inc with</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kd\">function</span> <span class=\"nx\">auth_book_admin</span><span class=\"p\">(</span><span class=\"nx\">$user</span><span class=\"p\">,</span> <span class=\"nx\">$room</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n  <span class=\"kr\">static</span> <span class=\"nx\">$is_book_admin</span> <span class=\"o\">=</span> <span class=\"nx\">array</span><span class=\"p\">();</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">isset</span><span class=\"p\">(</span><span class=\"nx\">$is_book_admin</span><span class=\"p\">[</span><span class=\"nx\">$user</span><span class=\"p\">]))</span>\n  <span class=\"p\">{</span>\n    <span class=\"nx\">$is_book_admin</span><span class=\"p\">[</span><span class=\"nx\">$user</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">authGetUserLevel</span><span class=\"p\">(</span><span class=\"nx\">$user</span><span class=\"p\">)</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">2</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">return</span> <span class=\"nx\">$is_book_admin</span><span class=\"p\">[</span><span class=\"nx\">$user</span><span class=\"p\">];</span>\n<span class=\"p\">}</span>\n</pre></div>\n<p>I'll have a look tomorrow at a better fix.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've just applied to my installation of MRBS. <br/>\nWorks much better, many thanks!<br/>\nRobert</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think it's going to better to cache the results in authGetUserrLevel(), rather than in auth_book_admin() - the reason being that auth_book_admin() also takes a room parameter.     Could you therefore try the attached version of auth_ldap.inc and revert the change to auth_book_admin?    auth_book_admin() should now look like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kd\">function</span> <span class=\"nx\">auth_book_admin</span><span class=\"p\">(</span><span class=\"nx\">$user</span><span class=\"p\">,</span> <span class=\"nx\">$room</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n  <span class=\"k\">return</span> <span class=\"p\">(</span><span class=\"nx\">authGetUserLevel</span><span class=\"p\">(</span><span class=\"nx\">$user</span><span class=\"p\">)</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">2</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've just reverted auth_book_admin and applied attached auth_ldap.inc (with caching).<br/>\nI confirm, that yesterdays version (patched auth_book_admin) asked LDAP bindRequests+searchRequests+unbindRequests as many times as was count of displayed rooms in that moment.<br/>\nTodays version (patched authGetUserrLevel) asks LDAP bindRequests+searchRequests+unbindRequests twice (per each DN), which is great!<br/>\nThanks a lot!<br/>\nRobert</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for the feedback.  I've now committed the change in changeset d7da8202a300.  The change will appear in the next release.  In the meantime anybody else with the same problem should be able to use the auth_ldap.inc file above.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/334/", "title": "#334 ical_uid not generated", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The ical_uid field is not generated for members of a series where there are conflicts that have to be skipped past.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The problem only occurs if you save a booking and then get directed to the page that says there are conflicts.   It doesn't occur if you tick the \"Skip past conflicts\" box on the edit_entry form.</p>\n<p>Now fixed in changeset 6c316a697ab5, though I still need to provide an upgrade script that will give an ical_uid to existing entries that don't have one.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Upgrade script for existing entries provided in changeset e0bb76236687.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/333/", "title": "#333 Resizing bookings doesn't always work", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Sometimes resizing a booking by dragging the border of the cell in the day or week views doesn't work.   This can happen if the booking is adjacent to another booking on its right.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think the problem is to do with the fact that the table column widths are expressed in percentages and are not a whole number of pixels.   The rounding can mean that in some browsers the booking clone that is resized overlaps the adjacent booking and therefore the JavaScript code won't allow this to happen.   Note it only seems to happen on some browsers - Chrome works OK, but Firefox does not.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Partially fiixed in changeset 0eb34fb689d9.    The bookings can now be resized, though there are some cosmetic issues in Firefox and Microsoft Edge (Chrome works OK):  the resizable bookings are sometimes a pixel narrower than they should be.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2015-10-19</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Looks like the problem is still there even after changeset 0eb34fb689d9.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/332/", "title": "#332 Deprecated:mysql_pconnect()", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Deprecated: mysql_pconnect(): The mysql extension is deprecated and will be removed in the future: use mysqli or PDO instead in ........../mysql.inc on line 484</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The default $dbsys is \"mysqli\" in MRBS 1.4.11, so this error will not normally happen.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2a45b68c/2836/\"><div class=\"markdown_content\"><p>It has worked for years with no problem until the other day</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Has the PHP version on your server recently changed?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>We have now removed the 'mysql' option in the code (changesets 1633eeb9e580 and 95a9fcbc9f69) and these changes will appear in the next release.</p>\n<p>In the meantime you can avoid the Deprecated notice by setting</p>\n<div class=\"codehilite\"><pre><span></span>$dbsys = 'mysqli';\n</pre></div>\n<p>in your config file.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2a45b68c/ac59/\"><div class=\"markdown_content\"><p>Thank you, I'll try that</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2a45b68c/46dd/\"><div class=\"markdown_content\"><p>Thank you so much! it works now!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/331/", "title": "#331 Translation error causing problems (Finnish)", "status": "open", "labels": "translation (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>There are two glaring errors in the Finnish translation that affect how people use MRBS and why they fail to make weekly repeating bookings.</p>\n<p>In the add / edit entry page the current translation in (latest) version 1.4.11 is:<br>\n<span>[\"rep_num_weeks\"]</span>      = \"Montako viikkoa\";<br>\n<span>[\"weeks\"]</span>              = \"viikkoa\";</p>\n<p>Which translates to \"For how many weeks\" and \"weeks\", ie end result being:<br>\n\"For how many weeks <span>[4]</span> weeks\"<br>\n... which gives the users the idea that they can repeat an entry every week, for X weeks and thus they are left bewildered at \"losing\" bookings.</p>\n<p>Correct translations should be more akin to:</p>\n<p><span>[\"rep_num_weeks\"]</span> = \"Toista\";<br>\n<span>[\"weeks\"]</span> = \"viikon v\u00e4lein\";</p>\n<p>Which translate to \"Repeat\" and \"every X week\", resulting in correct form:<br>\n\"Repeat every <span>[4]</span> weeks\"<br>\n(due to Finnish language structure word and number placements differ)</p>\n<p>This problem is compounded by the fact that users aren't instructed that the \"rep_end_date\" -field is <em>mandatory</em> in any repeating booking, but rather see the \"For how many weeks\" -mistranslation and expect the system to calculate it automatically from there (well, at least our 100+ academic users at the uni ;) ).</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for pointing this out.    If I make this change I think I would rename the string token 'weeks' to something else to avoid people thinking it is just the plural of 'week' and using it for something else.   While this is possible, another solution might be just to change the translation of 'rep_num_weeks' to something like \"Repeat interval:\" or \"Repeat frequency\".   Would this work in Finnish?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/330/", "title": "#330 Auto complete of user full name fetched from database and also email him after booking.", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello Team,</p>\n<p>I have added one custom field called Booking behalf of mention email id of user in that so after successive booking one email will go to creator one will go to admin and one will go to the email id which i have mentioned in custome field.</p>\n<p>Is there any way where in custome field after typing the full name will autofill from users table from database.<br>\nand after booking finish the email will also go the email is defined in datbase  for that user in custome field.</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/330/attachment/Autifill%20with%20email%20to%20custome%20field.jpg\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/330/attachment/Autifill%20with%20email%20to%20custome%20field.jpg/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/330/attachment/Autifill%20with%20email%20to%20custome%20field.jpg\">Autifill with email to custome field.jpg</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Closed - not a bug and also a duplicate of <a href=\"https://sourceforge.net/p/mrbs/feature-requests/311/\">https://sourceforge.net/p/mrbs/feature-requests/311/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/329/", "title": "#329 PHP 5.6.3", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>A great script used extensively with no issues until now. <br>\nI have recently upgraded Joomla 3 and to PHP 5.6.3 and have lost functionality as the variable information is not passes across with the URL as a variable. I understand this is not allowed in this version of PHP. Is there anyway around this?</p>\n<p>Matt.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I am running PHP 5.6.5 and have no issues.    What is it that you understand is not allowed in PHP 5.6.3?   Could it be the integration with Joomla that is causing the problem?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/38fe0f88/7a32/\"><div class=\"markdown_content\"><p>I have tried running it outside of joomla and it is still the same. The main page will display but if you select a date either by the goto button or calendar selector the day selected remains the same so I guess that the variable information is not being passed across. It could be a setting I am missing in my php.ini file. Register Globals on is no longer available I thought it could be that, but if you are running it ok I need to look further.  </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can only add that I have no issues as described running with PHP 5.6.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/38fe0f88/7f1c/\"><div class=\"markdown_content\"><p>It was the Register Globals. I used the script as show on this link and added the include on each of the scripts. All works well now. <a href=\"https://mrphp.com.au/blog/how-to-enable-register-globals-in-php-5/\" rel=\"nofollow\">https://mrphp.com.au/blog/how-to-enable-register-globals-in-php-5/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I don't quite understand this.   MRBS doesn't use register_globals.    Have you made some modifications to MRBS?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Agreed Campbell, also further confused, as the PHP site</p>\n<p><a href=\"http://php.net/manual/en/security.globals.php\" rel=\"nofollow\">http://php.net/manual/en/security.globals.php</a></p>\n<p>states:</p>\n<blockquote>\n<p>Warning<br/>\nThis feature has been DEPRECATED as of PHP 5.3.0 and <strong>REMOVED</strong> as of PHP 5.4.0.</p>\n</blockquote></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: John Beranek 2015-05-15</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/38fe0f88/0bc3/\"><div class=\"markdown_content\"><p>Thanks for your comments.<br/>\nI am not sure why it works but it does, I tried on two different web servers and neither worked until the additional script was added. I had other scripts that where written along time ago that made use of register_globals on an earlier version of PHP so added the script to those and all worked fine so it was just a longshot to try it on MRBS. I will carry on as it is and see if that causes anymore issues, but happy it's working now.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, one last bit of feedback. MRBS expects all the superglobals to be available, so don't go changing the value of the php.ini directive 'variables_order'.</p>\n<p><a href=\"http://php.net/manual/en/ini.core.php#ini.variables-order\" rel=\"nofollow\">http://php.net/manual/en/ini.core.php#ini.variables-order</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: John Beranek 2015-05-27</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/328/", "title": "#328 Unable to login", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hallo all, <br>\nI installed MRBS and it seemed that all was fine. But if I want to login I only get the message \"Unknown User\". I tried all the variations of auth, but nothing seems to work, not even the \"config auth\". When I tried the db auth method, I could create the first user, but the logon problem is the same. So I switched back to \"config\" auth to see if this works, but it was the same: \"Unknown User\".<br>\nHere is my config.inc.php:</p>\n// $Id: config.inc.php 2799 2014-01-09 12:44:22Z cimorrison $<p></p>\n<p>/<strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em><em><br>\n *   MRBS Configuration File<br>\n *   Configure this file for your site.<br>\n *   You shouldn't have to modify anything outside this file.<br>\n</em><br>\n *   This file has already been populated with the minimum set of configuration<br>\n *   variables that you will need to change to get your system up and running.<br>\n *   If you want to change any of the other settings in systemdefaults.inc.php<br>\n *   or areadefaults.inc.php, then copy the relevant lines into this file<br>\n *   and edit them here.   This file will override the default settings and<br>\n *   when you upgrade to a new version of MRBS the config file is preserved.<br>\n</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong>*/</p>\n<p>/<strong><em>*</em></strong><strong><em><br>\n * Timezone<br>\n</em></strong><strong><em>*</em></strong>/</p>\n<p>// The timezone your meeting rooms run in. It is especially important<br>\n// to set this if you're using PHP 5 on Linux. In this configuration<br>\n// if you don't, meetings in a different DST than you are currently<br>\n// in are offset by the DST offset incorrectly.<br>\n//<br>\n// Note that timezones can be set on a per-area basis, so strictly speaking this<br>\n// setting should be in areadefaults.inc.php, but as it is so important to set<br>\n// the right timezone it is included here.<br>\n//<br>\n// When upgrading an existing installation, this should be set to the<br>\n// timezone the web server runs in.  See the INSTALL document for more information.<br>\n//<br>\n// A list of valid timezones can be found at <a href=\"http://php.net/manual/timezones.php\" rel=\"nofollow\">http://php.net/manual/timezones.php</a><br>\n// The following line must be uncommented by removing the '//' at the beginning<br>\n$timezone = \"Europe/Berlin\";</p>\n<p>/<strong><em>*</em></strong><strong><em>*</em></strong><strong><em>**<br>\n * Database settings<br>\n</em></strong><strong><em>*</em></strong><strong><em>*</em></strong>*/<br>\n// Which database system: \"pgsql\"=PostgreSQL, \"mysql\"=MySQL,<br>\n// \"mysqli\"=MySQL via the mysqli PHP extension<br>\n$dbsys = \"mysql\";<br>\n// Hostname of database server. For pgsql, can use \"\" instead of localhost<br>\n// to use Unix Domain Sockets instead of TCP/IP. For mysql/mysqli \"localhost\"<br>\n// tells the system to use Unix Domain Sockets, and $db_port will be ignored;<br>\n// if you want to force TCP connection you can use \"127.0.0.1\".<br>\n$db_host = \"myhost.de\";<br>\n// If you need to use a non standard port for the database connection you<br>\n// can uncomment the following line and specify the port number<br>\n// $db_port = 1234;<br>\n// Database name:<br>\n$db_database = \"mybase\";<br>\n// Schema name.  This only applies to PostgreSQL and is only necessary if you have more<br>\n// than one schema in your database and also you are using the same MRBS table names in<br>\n// multiple schemas.<br>\n//$db_schema = \"public\";<br>\n// Database login user name:<br>\n$db_login = \"mydbuser\";<br>\n// Database login password:<br>\n$db_password = 'mydbpasswd';<br>\n// Prefix for table names.  This will allow multiple installations where only<br>\n// one database is available<br>\n$db_tbl_prefix = \"mrbs_\";<br>\n// Uncomment this to NOT use PHP persistent (pooled) database connections:<br>\n$db_nopersist = 1;</p>\n<p>/<em> Add lines from systemdefaults.inc.php and areadefaults.inc.php below here<br>\n   to change the default configuration. Do <em>NOT</em> modify systemdefaults.inc.php<br>\n   or areadefaults.inc.php.  </em>/</p>\n<p>/<strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>**<br>\n * Authentication settings - read AUTHENTICATION<br>\n</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><strong><em>*</em></strong><em><em>/<br>\n$auth<span><span>[\"session\"]</span></span> = \"cookie\";<br>\n$auth<span><span>[\"session_cookie\"]</span></span><span><span>[\"secret\"]</span></span> = \"@X.]ke6!78!H@jh]RX$;/89QP</em>nDaFW.</em>C8+y\";<br>\n$auth<span>[\"session_cookie\"]</span><span>[\"session_expire_time\"]</span> = (60<em>60</em>24); // 1 days<br>\n$auth<span>[\"session_cookie\"]</span><span>[\"include_ip\"]</span> = TRUE;</p>\n<p>//$auth<span>[\"type\"]</span> = \"db\";<br>\n//$auth<span>[\"realm\"]</span> = \"MRBS\";<br>\n//$auth<span>[\"type\"]</span> = \"imap\";<br>\n//$imap_host = \"mail.zedat.fu-berlin.de\";<br>\n//$imap_port = \"993\";</p>\n<p>$auth<span>[\"type\"]</span>  = \"config\";<br>\n$auth<span>[\"user\"]</span><span>[\"me\"]</span> = \"test\";</p>\n<p>unset($auth<span>[\"admin\"]</span>);<br>\n//$auth<span>[\"admin\"]</span>[] = \"127.0.0.1\";     // localhost IP address. Useful with IP sessions.<br>\n$auth<span>[\"admin\"]</span>[] = \"me\";</p>\n<p>Could you tell me, what can I do? I'd like to use the db-method, but I cannot find out, what is wrong, because none of the methods works. I cannot change PHP settings or so because I am not an administrator of the server. Maybe you could give my a complete working example for the config-file ...<br>\nThanks, Veronika.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d6a310be/0fd4/\"><div class=\"markdown_content\"><p>Sorry, some of the stars in my config-file were eaten by the editor ... see attachment.<br/>\nThank you!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It appears you're missing the passwords in your config file.</p>\n<p>For example, for the user \"me\" (from your config), I would think you would need a line like so:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">//</span> <span class=\"nt\">Format</span><span class=\"o\">:</span> <span class=\"o\">$</span><span class=\"nt\">auth</span><span class=\"cp\">[</span><span class=\"s2\">\"user\"</span><span class=\"cp\">][</span><span class=\"s2\">\"name\"</span><span class=\"cp\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"password\"</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">auth</span><span class=\"cp\">[</span><span class=\"s2\">\"user\"</span><span class=\"cp\">][</span><span class=\"s2\">\"me\"</span><span class=\"cp\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"MyPassword\"</span><span class=\"o\">;</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/327/", "title": "#327 LDAP User Account No binding,", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Dear MRBS Team, <br>\nPlease support me, I am tried a lot for configure MRBS LDAP AD authentication But its not succeed, I have mentioned below my config file settings and  log.</p>\n<p>I hope this below error log will helpfull to understand by you to rectify the config error.</p>\n<p>Please respond me and rectify my problem as I facing this issue since 20 Days.<br>\nI have spend more time to execute this.</p>\n<p>$auth<span>[\"session\"]</span> = \"php\";<br>\n$auth<span>[\"type\"]</span> = \"ldap\";</p>\n<p>$auth<span>[\"realm\"]</span>  = \"mrbs\";<br>\n$ldap_host = \"servername\";<br>\n$ldap_port = 389;<br>\n$ldap_v3 = true;<br>\n$ldap_tls = TRUE;<br>\n$ldap_base_dn [] = \"CN=Person,CN=Schema,CN=Configuration,DC=domain,DC=com\";<br>\n$ldap_user_attrib [] = \"uid\";<br>\n$ldap_dn_search_attrib = \"sAMAccountName\"; <br>\n$ldap_dn_search_dn = \"ou=users,ou=domain,DC=domain,DC=com\";<br>\n$ldap_dn_search_password = \"password\";<br>\n$ldap_filter = \"CN=Person,CN=Schema,CN=Configuration,DC=domain,DC=com\";<br>\n$ldap_filter = \"CN=Person,CN=Schema,CN=Configuration,DC=domain,DC=com\";<br>\n$ldap_disable_referrals = TRUE;<br>\n$ldap_get_user_email = TRUE;<br>\n$ldap_email_attrib = 'mail';<br>\n$ldap_admin_group_dn = 'memberof=CN=Person,CN=Schema,CN=Configuration,DC=domain,DC=com';<br>\n$ldap_group_member_attrib = 'memberof=CN=Person,CN=Schema,CN=Configuration,DC=domain,DC=com';<br>\n$ldap_unbind_between_attempts = false;<br>\n$ldap_debug = TRUE;</p>\n<p><span>[Mon Mar 23 14:03:20.414222 2015]</span> <span>[:error]</span> <span>[pid 143048:tid 1780]</span> <span>[client 192.168.1.10:54655]</span> authLdapAction: Constructed dn 'uid=abc,CN=Person,CN=Schema,CN=Configuration,DC=domain,DC=com' and user_search 'uid=abc' using 'uid', referer: <a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p>\n<p><span>[Mon Mar 23 14:03:20.414222 2015]</span> <span>[:error]</span> <span>[pid 143048:tid 1780]</span> <span>[client 192.168.1.10:54655]</span> authValidateUserCallback: base_dn 'CN=Person,CN=Schema,CN=Configuration,DC=domain,DC=com' dn 'uid=abc,CN=Person,CN=Schema,CN=Configuration,DC=domain,DC=com' user 'abc', referer: <a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p>\n<p><span>[Mon Mar 23 14:03:20.415222 2015]</span> <span>[:error]</span> <span>[pid 143048:tid 1780]</span> <span>[client 192.168.1.10:54655]</span> authValidateUserCallback: Bind to 'uid=abc,CN=Person,CN=Schema,CN=Configuration,DC=domain,DC=com' failed, referer: <a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You've got way too much LDAP configuration in there, I'd start with the basics, and remove everything else:</p>\n<div class=\"codehilite\"><pre><span></span>$ldap_host = \"servername\";\n$ldap_port = 389;\n$ldap_v3 = true;\n$ldap_tls = TRUE;\n$ldap_base_dn = \"DC=domain,DC=com\";\n$ldap_dn_search_attrib = \"sAMAccountName\"; \n$ldap_disable_referrals = TRUE;\n$ldap_get_user_email = TRUE;\n$ldap_email_attrib = 'mail';\n</pre></div>\n<p>Here I have assumed that users will exist under \"DC=domain,DC=com\", I have also assumed that anonymous searches are allowed in your AD. If they aren't you can specify the bind credentials:</p>\n<div class=\"codehilite\"><pre><span></span>$ldap_dn_search_dn = \"cn=Joe Bloggs,ou=Users,dc=domain,dc=com\";\n$ldap_dn_search_password = \"joespassword\";\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/263e83ac/eafc/\"><div class=\"markdown_content\"><p>Hi John,<br/>\nThank you so much for support me. I have tried as per your instruction, but count not succeed. Please check my config and log.</p>\n<p>$ldap_host = \"server\";<br/>\n$ldap_port = 389;<br/>\n$ldap_v3 = true;<br/>\n$ldap_tls = false;<br/>\n$ldap_base_dn = \"ou=users,ou=domain,dc=domain,dc=com\";<br/>\n$ldap_user_attrib = \"uid\";<br/>\n$ldap_dn_search_attrib = \"sAMAccountName\";<br/>\n$ldap_disable_referrals = TRUE;<br/>\n$ldap_get_user_email = TRUE;<br/>\n$ldap_email_attrib = 'mail';<br/>\n$ldap_unbind_between_attempts = FALSE;<br/>\n$ldap_debug = TRUE;</p>\n<p><span>[Tue Mar 24 09:59:58.759320 2015]</span> <span>[:error]</span> <span>[pid 143048:tid 1804]</span> <span>[client 192.168.1.10:47465]</span> </p>\n<p>authLdapAction: Got LDAP connection, referer: <a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p>\n<p><span>[Tue Mar 24 09:59:58.761320 2015]</span> <span>[:error]</span> <span>[pid 143048:tid 1804]</span> <span>[client 192.168.1.10:47465]</span> </p>\n<p>authLdapAction: Result of initial bind is 1, referer: <a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p>\n<p><span>[Tue Mar 24 09:59:58.761320 2015]</span> <span>[:error]</span> <span>[pid 143048:tid 1804]</span> <span>[client 192.168.1.10:47465]</span> </p>\n<p>authLdapAction: Didn't find entry using 'sAMAccountName', referer: <a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p>\n<p><span>[Tue Mar 24 09:59:58.761320 2015]</span> <span>[:error]</span> <span>[pid 143048:tid 1804]</span> <span>[client 192.168.1.10:47465]</span> </p>\n<p>authLdapAction: base_dn 'ou=users,ou=domain,dc=domain,dc=com' user mister dn , referer: </p>\n<p><a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p>\n<p><span>[Tue Mar 24 09:59:58.761320 2015]</span> <span>[:error]</span> <span>[pid 143048:tid 1804]</span> <span>[client 192.168.1.10:47465]</span> </p>\n<p>authValidateUserCallback: base_dn 'ou=users,ou=domain,dc=domain,dc=com' dn '' user 'mister', referer: </p>\n<p><a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p>\n<p><span>[Tue Mar 24 09:59:58.761320 2015]</span> <span>[:error]</span> <span>[pid 143048:tid 1804]</span> <span>[client 192.168.1.10:47465]</span> </p>\n<p>authValidateUserCallback: Bind to '' failed, referer: <a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/263e83ac/869c/\"><div class=\"markdown_content\"><p>Hi John,<br/>\nPlease hlep to solve above problem.If you could help me is a great treat for me.<br/>\nWaiting for your reply. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Your latest debug output is at least a lot more clear. MRBS connects to your AD and performs a search, which doesn't find the user you specified. This could be due to a few things:</p>\n<p>1) Your base_dn is wrong, so the user isn't found<br/>\n2) Your AD doesn't allow anonymous searches. If this is the case, you'll need to set config variables, e.g.:</p>\n<div class=\"codehilite\"><pre><span></span>$ldap_dn_search_dn = \"cn=Joe Bloggs,ou=Users,dc=domain,dc=com\";\n$ldap_dn_search_password = \"joespassword\";\n</pre></div>\n<p>Where the dn variable is the DN of a user that <strong>can</strong> search AD.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/263e83ac/3c0e/\"><div class=\"markdown_content\"><p>Hi John, <br/>\nI Appreciate your response &amp; gave useful advice. <br/>\nPlease find below config after your suggestion, I tried even with this setting could not connect MRBS through AD.<br/>\nLooks still has bugs in config file.</p>\n<p>$ldap_host = \"server\";<br/>\n$ldap_port = 389;<br/>\n$ldap_v3 = true;<br/>\n$ldap_tls = false;<br/>\n$ldap_base_dn = \"OU=Users,OU=domain,DC=domain,DC=com\";<br/>\n$ldap_user_attrib = \"uid\";<br/>\n$ldap_dn_search_attrib = \"sAMAccountName\";<br/>\n$ldap_dn_search_dn = \"CN=Admin,OU=Users,DC=domain,DC=com\";<br/>\n$ldap_dn_search_password = \"password\";<br/>\n$ldap_disable_referrals = TRUE;<br/>\n$ldap_get_user_email = TRUE;<br/>\n$ldap_email_attrib = 'mail';<br/>\n$ldap_unbind_between_attempts = FALSE;<br/>\n$ldap_debug = TRUE;</p>\n<p><span>[Mon Mar 30 14:51:25.391274 2015]</span> <span>[:error]</span> <span>[pid 211132:tid 1748]</span> <span>[client 192.168.1.10:65183]</span> authLdapAction: Got LDAP connection, referer: <a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p>\n<p><span>[Mon Mar 30 14:51:25.391274 2015]</span> <span>[:error]</span> <span>[pid 211132:tid 1748]</span> <span>[client 192.168.1.10:65183]</span> authLdapAction: Constructed dn '=admin,OU=Users,OU=domain,DC=domain,DC=com' and user_search '=admin' using '', referer: <a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p>\n<p><span>[Mon Mar 30 14:51:25.391274 2015]</span> <span>[:error]</span> <span>[pid 211132:tid 1748]</span> <span>[client 192.168.1.10:65183]</span> authValidateUserCallback: base_dn 'OU=Users,OU=domain,DC=domain,DC=com' dn '=admin,OU=Users,OU=domain,DC=domain,DC=com' user 'admin', referer: <a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p>\n<p><span>[Mon Mar 30 14:51:25.402275 2015]</span> <span>[:error]</span> <span>[pid 211132:tid 1748]</span> <span>[client 192.168.1.10:65183]</span> authValidateUserCallback: Bind to '=admin,OU=Users,OU=domain,DC=domain,DC=com' failed, referer: <a href=\"http://mrbs.in/admin.php\" rel=\"nofollow\">http://mrbs.in/admin.php</a></p>\n<p>Why its not binding... is it required any config in ldap_auth.inc</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2015-10-21</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/263e83ac/d03b/\"><div class=\"markdown_content\"><p>Hi John,<br/>\nStill I am waiting your respond, above previous ticket for your reference.<br/>\nI am very much appreciate if you could help me to resolve login with LDAP credent. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/263e83ac/e58c/\"><div class=\"markdown_content\"><p>The modification in auth_ldap.inc made the trick<br/>\n<a href=\"http://sourceforge.net/p/mrbs/support-requests/635/\">http://sourceforge.net/p/mrbs/support-requests/635/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/263e83ac/dcee/\"><div class=\"markdown_content\"><p>not sure why this is happening but some users are able to authenticate using ldap, some are not (same  OU but synced to O365)?</p>\n<p>apache error log: authValidateUserCallback: Bind to '' failed</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2016-05-11</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/325/", "title": "#325 Automatic refresh no longer changes day", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><span>[Transferred from <a href=\"https://sourceforge.net/p/mrbs/support-requests/685/\"></a><a href=\"https://sourceforge.net/p/mrbs/support-requests/685/\">https://sourceforge.net/p/mrbs/support-requests/685/</a>]</span></p>\n<p>MRBS version 1.4.3 day.php changed on the day at midnight, the current version with the change of mrbs_auth.inc, day.php update is the page in the current day, but does not change dates at 00.00 .... you can solve this bug? thank you (in our small university, there are screens near the front door, they serve to indicate the classrooms and the daily lessons, must therefore necessarily auto update yourself otherwise it is a problem.)</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The easiest thing to do to get this working how it used to is to disable JavaScript in the browser and then make sure that in the address bar you do not specify the day, month or year.   So just have</p>\n<p>.../day.php<br/>\nor .../day.php&amp;area=1</p>\n<p>That is a very simple for you to do that would make it keep to the current day.</p>\n<p>However I wonder if there is a requirement in cases like yours for new views, let's call them 'today', 'this_week' and 'this_month' that just show the current bookings but without all the navigation? </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/324/", "title": "#324 JSON Data Error", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><span>[Taken from the MRBS-general mailing list]</span></p>\n<p>Hi</p>\n<p>Our installation has been running error free for years.</p>\n<p>Today on going to the system on doing a simple search we get the error:</p>\n<p>\u201cJSON data from server could not be parsed.  This is caused by a JSON formatting error\u201d and also cannot regain access to the system for some time.</p>\n<p>Restoring from a backup doesn\u2019t help.  </p>\n<p>Could someone help us in identifying why this error occurs</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS are you running? Has anything in the environment changed recently?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p><span>[Taken from the mailing list]</span></p>\n<p>MRBS Version 1.4.11.</p>\n<p>I\u2019ll not sure about the environment, nothing I\u2019m aware of.  I\u2019ll re-check but we use phpMyAdmin on MySQL.  </p>\n<p>What might it be?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I don't know. The error message is produced by DataTables, which is the Javascript library that handles the tables, as used in Search. It's saying that the server is sending the browser malformed data. It might be a bug in MRBS, but I don't know why it has suddenly appeared.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I\u2019ve just had a look at the response that is coming back from the server. For some reason the response that\u2019s coming back is the HTML from your home page, rather than the search results table.    Have you made any changes to .htaccess recently?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2015-02-14</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p><span>[Taken from the mailing list]</span></p>\n<p>Our ISP reports:</p>\n<p>\u201cThe issue seems to being caused by ModSecurity.  I disabled it for your domain and the mrbs seems to be working now (search included).  My guess therefore is that there is something that is upsetting ModSecurity (ie something in the way that mrbs works).  I can leave it disabled for your domain, but it will reduce the amount of protection the server offers.\u201d</p>\n<p>So problem is in their hands though I\u2019m sure it\u2019s of interest to yourselves &amp; I\u2019ll email again if I hear more after I\u2019ve passed on your query about .htaccess.  . </p>\n<p>Thank you so much for your response</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p><span>[Taken from the mailing list]</span></p>\n<p>Hi there, </p>\n<p>I had the very same issue; it was happening when an admin user would try to display the users list (over 3000 items). this didn't happen when users were few hundreds.</p>\n<p>BUT ....</p>\n<p>I accidentally found out that only PCs running WinXP + IE8 were affected; running the same query of a Win7PC with the latest IE (don't remember which version) wouldn't throw the same error.</p>\n<p>I have since then ditched WinXP, so, for me, problem solved.</p>\n<p>My hosting provider is ARUBA, but as I said, I never had to change anything in their setup, or mine. just the client machine.</p>\n<p>Hope this helps, </p>\n<p>regards, Stefano</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suspect the case above was due to another problem, such as the JavaScript implementation in IE8 on WinXP running hitting some system limit, eg memory.   If so, there are things we could do in MRBS to avoid the problem, such as doing the processing on the server side and then just sending the data that's needed for display down to the browser, instead of sending the complete dataset and letting JavaScript do the processing.</p>\n<p>It's a bit more complicated, but probably ought to be done sometime.   (And one could even have a hybrid model where the method of sending data to the client was determined by the size of the users table:  send it all in one go for optimum performance if a small number, or send it as needed if a large number).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p><span>[Taken from the mailing list]</span></p>\n<p>Our ISP further reports:</p>\n<p>\u201cOk.  The protection mechanisms used by servers such as ours are evolving all the time and do sometimes conclude that the way applications are used can no longer be considered secure - eg have been found to be vulnerable to attack or the way they operate is similar to techniques used by attackers.  Thus even where a site has not changed, the mechanisms might later conclude that they do not like something.  </p>\n<p>The mechanisms we use on our servers are standard to servers controlled by cpanel.  It is thus quite possible/probable that other mbrs sites will also be experiencing the same issues that you have and that this may prompt the mbrs developers to update the core site code at some point in the future.\u201d</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Is your ISP able to say what behaviour might have triggered the problem?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>See also <a href=\"https://sourceforge.net/p/mrbs/support-requests/691/\">https://sourceforge.net/p/mrbs/support-requests/691/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/323/", "title": "#323 Updating From 1.4.7 to 1.4.10", "status": "closed", "labels": "Update (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi we are using MRBS 1.4.7 and are looking to update to 1.4.10. Are there any reported problems with the update? Also, How long will it take to update. </p>\n<p>Looking forward to your reply.</p>\n<p>Thanks!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No known problems, but I recommend you update to the latest version, 1.4.11, rather than 1.4.10.</p>\n<p>It'll probably take about an hour of your time at most, by the time you've downloaded the new version, taken a backup of your database, taken a backup of your current web folder and then uploaded the new version.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/a9276382/6d79/\"><div class=\"markdown_content\"><p>Thanks!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/322/", "title": "#322 MRBS V.1.4.11 Email not send (When use PHP V. higher than 5.2.6)", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Thank you very much for the best free system.<br>\nI'm newbie php code.<br>\nIn my case all feature is work good but I found some problem about sending Email for approve.</p>\n<p>I test setting following (PHP higher than 5.2.6)<br>\n$smtp_settings<span>['host']</span> = 'mail.mycompany.com';  // SMTP server<br>\n$smtp_settings<span>['port']</span> = 25;           // SMTP port number<br>\n$smtp_settings<span>['auth']</span> = TRUE;        // Whether to use SMTP authenticatio<br>\n$smtp_settings<span>['username']</span> = 'xxxxxx';       // Username (if using authentication)<br>\n$smtp_settings<span>['password']</span> = 'xxxxxx';       // Password (if using authentication)</p>\n<ul>\n<li>\n<p>when set auth is TRUE system cannot send any Email. (When booking web is error but can book normal when refresh page)</p>\n</li>\n<li>\n<p>when set auth is FALSE system can send email but can send only domain the same \" $smtp_settings<span>['host']</span> mail.mycompany.com \" cannot send to other domain.</p>\n</li>\n</ul>\n<p>It work fine on<br>\nMRBS 1.4.11<br>\nPHP:    5.2.6<br>\napache 2.2.8</p>\n<p>But my host is <br>\nMRBS 1.4.11 <br>\nMySQL 5.1.69<br>\nPHP:    5.3.3<br>\nhave the same problem too. (Email not send)</p>\n<p>How to config to use send mail in normally</p>\n<p>I need your help.<br>\nThank you so much.<br>\nBest regards</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Are these two different servers you are testing on?   If so, I doubt that the issue is to do with the version of PHP.    Have you tried sending SMTP mail using those details from another application (eg an email client)?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/b02f6118/7104/\"><div class=\"markdown_content\"><p>Thank you for your reply</p>\n<p>On Local<br/>\nYes I test more than two server (@mycompany.com) use XAMPP 5.6.3 error on debug page <br/>\nError page<br/>\nDEBUG] Preparing email for new or changed booking ... <br/>\n<span>[DEBUG]</span> Preparing to send email ...</p>\n<p>After I change to AppServ 2.5.10 email can send normally.</p>\n<p>I test setting email client eg outlook can use normally.</p>\n<p>More detail</p>\n<p>First time I use XAMPP V 5.6.3 have problem about send Email.I changed to AppServ 2.5.10 email can send normally.</p>\n<p>XAMPP: <a href=\"https://www.apachefriends.org/index.html\" rel=\"nofollow\">https://www.apachefriends.org/index.html</a><br/>\nAppserv: <a href=\"http://www.appservnetwork.com/modules.php?name=News&amp;file=article&amp;sid=46\" rel=\"nofollow\">http://www.appservnetwork.com/modules.php?name=News&amp;file=article&amp;sid=46</a></p>\n<p>Online<br/>\nNow I want to upload this system on hosting for online. I have error when booking <br/>\nError code:</p>\n<p>Internal Server Error</p>\n<p>The server encountered an internal error or misconfiguration and was unable to complete your request.<br/>\nPlease contact the server administrator to inform of the time the error occurred and of anything you might have done that may have caused the error.</p>\n<p>More information about this error may be available in the server error log.</p>\n<p>I press back page. User can booking but system not sending email.</p>\n<p>Hosting system:<br/>\nMRBS 1.4.11<br/>\nMySQL 5.1.69<br/>\nPHP:  5.3.3</p>\n<p>Thank you<br/>\nBest regards</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you look at the server error log and see what the error message is?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hmm, I've got problems sending email via SMTP with authentication on my test system too. When I perform an action that sends an email the action takes a long time - on the server I can see the SMTP connection though:</p>\n<p>tcp        0      0 localhost:37384         localhost:smtp          ESTABLISHED</p>\n<p>This is with trunk MRBS, PHP 5.6.1</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've just tested with trunk and PHP 5.6.5.   SMTP mail works OK, though it maybe adds a couple of seconds.</p>\n<p>Anonymous - have you checked that the port (465?) that you're using to connect to the SMTP server on your system is open?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Well, oddly enough, looking at a network capture with my failure when using SMTP authentication looks like:</p>\n<div class=\"codehilite\"><pre><span></span>EHLO localhost\nSTARTTLS\nQUIT\n</pre></div>\n<p>I've not explicitly configured TLS...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The following from Net_SMTP.php would explain that:</p>\n<div class=\"codehilite\"><pre><span></span>    function auth($uid, $pwd , $method = '', $tls = true, $authz = '')\n    {\n        /* We can only attempt a TLS connection if one has been requested,\n         * we're running PHP 5.1.0 or later, have access to the OpenSSL\n         * extension, are connected to an SMTP server which supports the\n         * STARTTLS extension, and aren't already connected over a secure\n         * (SSL) socket connection. */\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry, both sides of the SMTP conversation this time:</p>\n<div class=\"codehilite\"><pre><span></span>220 home.redux.org.uk ESMTP Postfix\nEHLO localhost\n250-home.redux.org.uk\n250-PIPELINING\n250-SIZE 36700160\n250-VRFY\n250-ETRN\n250-STARTTLS\n250-ENHANCEDSTATUSCODES\n250-8BITMIME\n250 DSN\nSTARTTLS\n220 2.0.0 Ready to start TLS\nQUIT\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>If I force 'Mail_smtp' to tell Net_SMTP to not use TLS for auth (and configure my mail server to allow auth without TLS) then the issue goes away.</p>\n<p>So, it looks to be to do with Net_SMTP's TLS support.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/b02f6118/44b9/\"><div class=\"markdown_content\"><p>Email alert using backend method smtp is still not working. my config details</p>\n<div class=\"codehilite\"><pre><span></span>$mail_settings['admin_on_bookings']      = TRUE;  // the addresses defined by $mail_settings['recipients'] below\n$mail_settings['area_admin_on_bookings'] = TRUE;  // the area administrator\n$mail_settings['room_admin_on_bookings'] = TRUE;  // the room administrator\n$mail_settings['booker']                 = TRUE;  // the person making the booking\n$mail_settings['book_admin_on_approval'] = TRUE;  // the booking administrator when booking approval is enabled\n                                                   // (which is the MRBS admin, but this setting allows MRBS\n                                                   // to be extended to have separate booking approvers)\n\n// WHEN TO EMAIL\n// -------------\n// These settings determine when an email should be sent.\n// Set to TRUE or FALSE as required\n//\n// (Note:  (a) the variables $mail_settings['admin_on_delete'] and\n// $mail_settings['admin_all'], which were used in MRBS versions 1.4.5 and\n// before are now deprecated.   They are still supported for reasons of backward\n// compatibility, but they may be withdrawn in the future.  (b)  the default\n// value of $mail_settings['on_new'] is TRUE for compatibility with MRBS 1.4.5\n// and before, where there was no explicit config setting, but mails were always sent\n// for new bookings if there was somebody to send them to)\n\n$mail_settings['on_new']    = TRUE;   // when an entry is created\n$mail_settings['on_change'] = TRUE;  // when an entry is changed\n$mail_settings['on_delete'] = TRUE;  // when an entry is deleted\n\n// WHAT TO EMAIL\n// -------------\n// These settings determine what should be included in the email\n// Set to TRUE or FALSE as required\n$mail_settings['details']   = TRUE; // Set to TRUE if you want full booking details;\n                                     // otherwise you just get a link to the entry\n$mail_settings['html']      = TRUE; // Set to true if you want HTML mail\n#$mail_settings['icalendar'] = FALSE; // Set to TRUE to include iCalendar details\n                                     // which can be imported into a calendar.  (Note:\n                                     // iCalendar details will not be sent for areas\n                                     // that use periods as there isn't a mapping between\n                                     // periods and time of day, so the calendar would not\n                                     // be able to import the booking)\n\n// HOW TO EMAIL - LANGUAGE\n// -----------------------------------------\n\n// Set the language used for emails (choose an available lang.* file).\n$mail_settings['admin_lang'] = 'en';   // Default is 'en'.\n\n// HOW TO EMAIL - ADDRESSES\n// ------------------------\n// The email addresses of the MRBS administrator are set in the config file, and\n// those of the room and area administrators are set though the edit_area_room.php\n// in MRBS.    But if you have set $mail_settings['booker'] above to TRUE, MRBS will\n// need the email addresses of ordinary users.   If you are using the \"db\"\n// authentication method then MRBS will be able to get them from the users table.  But\n// if you are using any other authentication scheme then the following settings allow\n// you to specify a domain name that will be appended to the username to produce a\n// valid email address (eg \"@domain.com\").\n$mail_settings['domain'] = '@iitb.ac.in';\n// If you use $mail_settings['domain'] above and username returned by mrbs contains extra\n// strings appended like domain name ('username.domain'), you need to provide\n// this extra string here so that it will be removed from the username.\n$mail_settings['username_suffix'] = '';\n\n// HOW TO EMAIL - BACKEND\n// ----------------------\n// Set the name of the backend used to transport your mails. Either 'mail',\n// 'smtp', 'sendmail' or 'qmail'. Default is 'mail'.\n$mail_settings['admin_backend'] = 'smtp';\n\n/*******************\n * Sendmail settings\n */\n\n// Set the path of the Sendmail program (only used with \"sendmail\" backend).\n// Default is '/usr/bin/sendmail'\n#$sendmail_settings['path'] = '/usr/bin/sendmail';\n// Set additional Sendmail parameters (only used with \"sendmail\" backend).\n// (example \"-t -i\"). Default is ''\n#$sendmail_settings['args'] = '';\n\n/*******************\n * Qmail settings\n */\n\n/* Configures the path to 'qmail-inject', if unset defaults to '/var/qmail/bin/qmail-inject' */\n#$mail_settings['qmail']['qmail-inject-path'] = '/usr/bin/qmail-inject';\n\n/*******************\n * SMTP settings\n */\n\n// These settings are only used with the \"smtp\" backend\n$smtp_settings['host'] = 'abhikalpa.idc.iitb.ac.in';  // SMTP server\n$smtp_settings['port'] = 25;           // SMTP port number\n#$smtp_settings['auth'] = FALSE;        // Whether to use SMTP authentication\n#$smtp_settings['secure'] = 'tls';      // Encryption method: 'tls' or 'ssl'\n#$smtp_settings['username'] = '';       // Username (if using authentication)\n#$smtp_settings['password'] = '';       // Password (if using authentication)\n\n// EMAIL - MISCELLANEOUS\n// ---------------------\n\n// Set the email address of the From field. Default is 'admin_email@your.org'\n$mail_settings['from'] = '$mrbs_admin_email';\n\n// The address to be used for the ORGANIZER in an iCalendar event.   Do not make\n// this email address the same as the admin email address or the recipients\n// email address because on some mail systems, eg IBM Domino, the iCalendar email\n// notification is silently discarded if the organizer's email address is the same\n// as the recipient's.  On other systems you may get a \"Meeting not found\" message.\n#$mail_settings['organizer'] = 'mrbs@your.org';\n\n// Set the recipient email. Default is 'admin_email@your.org'. You can define\n// more than one recipient like this \"john@doe.com,scott@tiger.com\"\n\n$mail_settings['recipients'] = '$mrbs_admin_email';\n\n// Set email address of the Carbon Copy field. Default is ''. You can define\n// more than one recipient (see 'recipients')\n#$mail_settings['cc'] = '';\n\n// Set to TRUE if you want the cc addresses to be appended to the to line.\n// (Some email servers are configured not to send emails if the cc or bcc\n// fields are set)\n#$mail_settings['treat_cc_as_to'] = FALSE;\n\n// The filename to be used for iCalendar attachments.   Will always have the\n// extension '.ics'\n#$mail_settings['ics_filename'] = \"booking\";\n\n// Set this to TRUE if you want MRBS to output debug information when you are sending email.\n// If you are not getting emails it can be helpful by telling you (a) whether the mail functions\n// are being called in the first place (b) whether there are addresses to send email to and (c)\n// the result of the mail sending operation.\n$mail_settings['debug'] = TRUE;\n// Where to send the debug output.  Can be 'browser' or 'log' (for the error_log)\n$mail_settings['debug_output'] = 'log';\n\n// Set this to TRUE if you do not want any email sent, whatever the rest of the settings.\n// This is a global setting that will override anything else.   Useful when testing MRBS.\n$mail_settings['disabled'] = FALSE;\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2016-03-31</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Is this related to this ticket?   Or is this a different problem?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/321/", "title": "#321 Blank page when locale set to Turkish", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><span>[Taken from the MRBS-general mailing list]</span></p>\n<p>when we use browser with turkish settings, view_entry.php wasn\u2019t worked on our mrbs page also demo page of mrbs. But when we change browser with english settings , it\u2019s worked on two platforms .<br>\nFirst i think we breaked our lang-tr file but we tried to change with default lang-tr.php , the problem was continuing. <br>\nFinally we \u2018ve changed lang-en index with lang-tr (copy lang-tr index to lang-en) , now there isn\u2019t any problem.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this problem.   However I did meet a very similar problem on an MRBS site integrated with Joomla.   When I tracked it down I found that it was caused by the fact that the Joomla class loader couldn't load the \"JInput\" class.   Further investigation revealed that this was because strtolower('JInput') gave 'jInput'.</p>\n<p>More tests revealed that in a system with mbstring function overloading turned off and with the locale set to Turkish:</p>\n<div class=\"codehilite\"><pre><span></span>strtoupper('abcdefghijklmnopqrstuvwxyz')        // ABCDEFGHiJKLMNOPQRSTUVWXYZ\nstrtolower('ABCDEFGHIJKLMNOPQRSTUVWXYZ')        // abcdefghIjklmnopqrstuvwxyz\nmb_strtoupper('abcdefghijklmnopqrstuvwxyz')     // ABCDEFGHIJKLMNOPQRSTUVWXYZ\nmb_strtolower('ABCDEFGHIJKLMNOPQRSTUVWXYZ')     // abcdefghijklmnopqrstuvwxyz\n</pre></div>\n<p>In other words all the characters convert OK except for 'i' where upper and lower case 'i' seem to be reversed in Turkish.</p>\n<p>I suspect that this is somehow the cause of the blank screen on the demo site, but unfortunately I can't reproduce the problem on my own system to try and find out exactly what's causing it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>After further research I think that the problem is more likely to do with this <a class=\"\" href=\"https://bugs.php.net/bug.php?id=35050\" rel=\"nofollow\">bug</a>.   Function and method names with a capital 'I' in the title do not work when the locale is set to Turkish (for reasons possibly related to the strtolower() problem above).   So what could be happening is that the blank page arises when a function with a capital 'I' in the name is called, triggering an undefined function fatal error.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The culprit in the case of view_entry.php could be mrbsGetBookingInfo()</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Renamed in Rev 2994</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I fix for this has been included in a released version of MRBS, 1.5.0</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/320/", "title": "#320 Booking approval emails contain \"awaiting approval\"", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When approving a booking the system sends emails with the old (and therefore incorrect) status.</p>\n<p>A probable solution would be to reload the $data after updating it in the database in approve_entry_handler.php.</p>\n<div class=\"codehilite\"><pre><span></span>  $start_times = mrbsApproveEntry($id, $series); \n  $data = mrbsGetBookingInfo($id, $series); #new line\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/48ed6863/9272/\"><div class=\"markdown_content\"><p>This is exactly a bug. Is there any update on this?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Unfortunalely this bug is still present in 1.6.0, however the solution is still applicable: $data does not get updated and thus the \"approval pending\" state is in the email. So please fix, as I do not want to patch on each update...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2017-02-23</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Now fixed in the default branch.   See changest <a class=\"\" href=\"https://sourceforge.net/p/mrbs/hg-code/ci/67a6912f57893fc30ec0b092dbe7ee44fbc7ffd1/\">67a691</a>.   The fix will appear in 1.6.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This fix appears in MRBS 1.6.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/319/", "title": "#319 Help shows English instead of Italian", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When Italian language is detected and user clicks help link the English help is shown instead of Italian.</p>\n<p>I modified checklang.php to suit my needs (see attachment for diff)</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n          <a href=\"/p/mrbs/bugs/319/attachment/checklang.diff\">checklang.diff</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The Help file language is determined by the value of the config variable $faqfilelang.   To set it to Italian set</p>\n<p>$faqfilelang = \"_it\";</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/318/", "title": "#318 Too many room names on report.php", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, when i enter to get a report, first i choose Area, later i choose Rooms, but it appears all rooms of all areas, i would like only appears the rooms of the area selected.</p>\n<p>I have tried to change the SQL statement on </p>\n<p>case 'roommatch':</p>\n<p>$options = sql_query_array(\"SELECT DISTINCT t1.room_name FROM $tbl_room t1,$tbl_area t2 WHERE t1.area_id=t2.id ORDER BY t1.room_name\");</p>\n<p>but it doesnt work, same results</p>\n<p>thanks</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The query doesn't do what you want because you have \"t1.area_id=t2.id\" instead of \"t1.area_id=$area_id\" where $area_id is the id of the area shown in the area select box.   However it's not quite as simple as that for two reasons:</p>\n<p>(1) You'll need to arrange to change the room options in the room select when the area is changed.    This needs to be done in JavaScript.  You can look at edit_entry for an example.</p>\n<p>(2) The report form allows for partial matching of the area and room names.   If for example you had areas called Building100, Building101, Building200 and Building201 then typing \"Building1\" into the Area field will search for all entries in Building100 and Building101.   Similarly for rooms.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/317/", "title": "#317 1.4.11.tar.gz is wrong!!!!!", "status": "wont-fix", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If I download the 1.4.11.tar.gz, it contains files, but subdirs are empty!<br>\nIn the zip version everything is fine...</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Works for me, even with a Windows tar viewer:</p>\n<p><img alt=\"screenshot\" rel=\"nofollow\" src=\"http://i.imgur.com/KjERwIA.png\"/></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Closed as not reproducable</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; wont-fix</li>\n<li><strong>assigned_to</strong>: John Beranek</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/316/", "title": "#316 session.save_path in Debian 7 Wheezy problem", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When installing MRBS (I checked out trunk with svn) on a Debian 7, after having correctly configured everything, MRBS does not start and shows</p>\n<p>MRBS: server configuration error </p>\n<p>The problem is in web/session/session_php.inc in line 69</p>\n<p>As default session.save_path in debian 7 is this folder:<br>\n</p><pre>drwx-wx-wt  2 root    root    4096 Nov 18 16:09 /var/lib/php5</pre><p></p>\n<p>its default security settings deny read on folder (but files created by the www-data user are correctly readable so everything would work correctly) so the test in line 69 fails, giving that error.<br>\nThis 1733 octal settings are needed because a 777 would result in other users on the server be able to hijack sessions by getting the list of files in that directory.</p>\n<p>So I think the readable test could be avoided.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.   I've removed the readable test in Rev 2887.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/38bb8de0/f135/\"><div class=\"markdown_content\"><p>Thank you, I updated my local checked out version and all is working now!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/315/", "title": "#315 Default Repeat", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Good morning. For some strange reason, our MRBS installation has defaulted to setting the repeat type on each new booking to 'yearly' instead of leaving it set to 'None'.<br>\nHave you come across this before?<br>\nIs there an entry I can put in the config file to set it back to 'None'?<br>\nAny help you can offer will be gratefully received.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Never seen this before.   What version of MRBS are you using?   Can you do a View Source in your browser on a default new booking page and post the result here (having removed any confidential bits)?   You could even just post the section that should like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;label&gt;</span>Repeat type:<span class=\"nt\">&lt;/label&gt;</span>\n<span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"group\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;label</span> <span class=\"na\">class=</span><span class=\"s\">\"radio\"</span><span class=\"nt\">&gt;&lt;input</span> <span class=\"na\">class=</span><span class=\"s\">\"radio\"</span> <span class=\"na\">type=</span><span class=\"s\">\"radio\"</span> <span class=\"na\">name=</span><span class=\"s\">\"rep_type\"</span> <span class=\"na\">value=</span><span class=\"s\">\"0\"</span> <span class=\"na\">checked=</span><span class=\"s\">\"checked\"</span><span class=\"nt\">&gt;</span>None<span class=\"nt\">&lt;/label&gt;</span>\n<span class=\"nt\">&lt;label</span> <span class=\"na\">class=</span><span class=\"s\">\"radio\"</span><span class=\"nt\">&gt;&lt;input</span> <span class=\"na\">class=</span><span class=\"s\">\"radio\"</span> <span class=\"na\">type=</span><span class=\"s\">\"radio\"</span> <span class=\"na\">name=</span><span class=\"s\">\"rep_type\"</span> <span class=\"na\">value=</span><span class=\"s\">\"1\"</span><span class=\"nt\">&gt;</span>Daily<span class=\"nt\">&lt;/label&gt;</span>\n<span class=\"nt\">&lt;label</span> <span class=\"na\">class=</span><span class=\"s\">\"radio\"</span><span class=\"nt\">&gt;&lt;input</span> <span class=\"na\">class=</span><span class=\"s\">\"radio\"</span> <span class=\"na\">type=</span><span class=\"s\">\"radio\"</span> <span class=\"na\">name=</span><span class=\"s\">\"rep_type\"</span> <span class=\"na\">value=</span><span class=\"s\">\"2\"</span><span class=\"nt\">&gt;</span>Weekly<span class=\"nt\">&lt;/label&gt;</span>\n<span class=\"nt\">&lt;label</span> <span class=\"na\">class=</span><span class=\"s\">\"radio\"</span><span class=\"nt\">&gt;&lt;input</span> <span class=\"na\">class=</span><span class=\"s\">\"radio\"</span> <span class=\"na\">type=</span><span class=\"s\">\"radio\"</span> <span class=\"na\">name=</span><span class=\"s\">\"rep_type\"</span> <span class=\"na\">value=</span><span class=\"s\">\"3\"</span><span class=\"nt\">&gt;</span>Monthly<span class=\"nt\">&lt;/label&gt;</span>\n<span class=\"nt\">&lt;label</span> <span class=\"na\">class=</span><span class=\"s\">\"radio\"</span><span class=\"nt\">&gt;&lt;input</span> <span class=\"na\">class=</span><span class=\"s\">\"radio\"</span> <span class=\"na\">type=</span><span class=\"s\">\"radio\"</span> <span class=\"na\">name=</span><span class=\"s\">\"rep_type\"</span> <span class=\"na\">value=</span><span class=\"s\">\"4\"</span><span class=\"nt\">&gt;</span>Yearly<span class=\"nt\">&lt;/label&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/39a067a0/2470/\"><div class=\"markdown_content\"><p>We are using version 1.4.11<br/>\nThe code you requested has been attached.<br/>\nNot sure why the code says all of the buttons are \"checked\".</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Not sure either.   Can you add the following debugging code at line 1201 in edit_entry.php (ie just before the generate_radio_group($params); line):</p>\n<div class=\"codehilite\"><pre><span></span>  echo \"<span class=\"nt\">&lt;span</span> <span class=\"na\">style=</span><span class=\"s\">\\\"display:</span> <span class=\"err\">none\\\"</span><span class=\"nt\">&gt;</span>\\n\";\n  echo htmlspecialchars(var_export($params, TRUE));\n  echo \"\\n<span class=\"nt\">&lt;/span&gt;</span>\\n\";\n</pre></div>\n<p>and do View Source again.   You should see something like</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">\"rep_type\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;span</span> <span class=\"na\">style=</span><span class=\"s\">\"display: none\"</span><span class=\"nt\">&gt;</span>\narray (\n  'label' =<span class=\"ni\">&amp;gt;</span> 'Repeat type:',\n  'name' =<span class=\"ni\">&amp;gt;</span> 'rep_type',\n  'value' =<span class=\"ni\">&amp;gt;</span> 0,\n  'disabled' =<span class=\"ni\">&amp;gt;</span> false,\n  'options' =<span class=\"ni\">&amp;gt;</span> \n  array (\n    0 =<span class=\"ni\">&amp;gt;</span> 'None',\n    1 =<span class=\"ni\">&amp;gt;</span> 'Daily',\n    2 =<span class=\"ni\">&amp;gt;</span> 'Weekly',\n    3 =<span class=\"ni\">&amp;gt;</span> 'Monthly',\n    4 =<span class=\"ni\">&amp;gt;</span> 'Yearly',\n  ),\n  'force_assoc' =<span class=\"ni\">&amp;gt;</span> true,\n)\n<span class=\"nt\">&lt;/span&gt;</span>\n<span class=\"nt\">&lt;label&gt;</span>Repeat type:<span class=\"nt\">&lt;/label&gt;</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/39a067a0/b684/\"><div class=\"markdown_content\"><p>Yes, have seen exactly what you said as above (see attachment).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Not quite exactly the same.   It's missing </p>\n<div class=\"codehilite\"><pre><span></span>  'force_assoc' =&amp;gt; true,\n</pre></div>\n<p>Can you post lines 1189-1200 of the edit_entry.php file you are using?   They should look like:</p>\n<div class=\"codehilite\"><pre><span></span>  // Repeat type\n  echo \"&lt;div id=\\\"rep_type\\\"&gt;\\n\";\n  $params = array('label'         =&gt; get_vocab(\"rep_type\") . \":\",\n                  'name'          =&gt; 'rep_type',\n                  'value'         =&gt; $rep_type,\n                  'disabled'      =&gt; $disabled,\n                  'options'       =&gt; array(),\n                  'force_assoc'   =&gt; TRUE);\n  foreach (array(REP_NONE, REP_DAILY, REP_WEEKLY, REP_MONTHLY, REP_YEARLY) as $i)\n  {\n    $params['options'][$i] = get_vocab(\"rep_type_$i\");\n  }\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/39a067a0/942e/\"><div class=\"markdown_content\"><p>You are indeed correct, apologies.<br/>\nOutput attached.<br/>\nAs before, this is different to yours.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It looks like you've got a non-standard edit_entry.php file somehow.   Have you made any changes to it (apart from the debugging code just now)?    I would re-upload the standard MRBS 1.4.11 edit_entry.php file which is posted here.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/39a067a0/85fe/\"><div class=\"markdown_content\"><p>Hmm, how strange.<br/>\nI can't recall changing anything but that has fixed the issue.<br/>\nThanks again for your assistance.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/314/", "title": "#314 Duplicate bookings in MRBS", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Some users are reporting duplicate bookings in MRBS.    The discussion has previously been taking place on the general mailing list, but I am now opening this ticket so that all the information can be gathered in one place.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have suspicion that this could be something to do with transaction processing and InnoDB.  Looking back through Edward's emails it seems that the problem first started appearing when they switched to 1.4.8 from 1.2.2.    MRBS switched from using MyISAM to InnoDB in 1.4.6.</p>\n<p>Troels and Edward:  could you let me know please what are the settings of</p>\n<p>(a) $db_nopersist (in your MRBS config file)?<br/>\n(b) the value of autocommit in MySQL (execute SHOW VARIABLES; in MySQL)?</p>\n<p>Thanks,</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/836651de/042f/\"><div class=\"markdown_content\"><p>// Uncomment this to NOT use PHP persistent (pooled) database connections:<br/>\n// $db_nopersist = 1;</p>\n<p>and</p>\n<p>\"autocommit\" is not listed in the SHOW VARIABLES output.</p>\n<p>Our listed variables values are:<br/>\nVariables (--variable-name=value)<br/>\nand boolean options {FALSE|TRUE}  Value (after reading options)</p>\n<hr/>\n<p>auto-rehash                       TRUE<br/>\ncharacter-sets-dir                (No default value)<br/>\ncolumn-type-info                  FALSE<br/>\ncomments                          FALSE<br/>\ncompress                          FALSE<br/>\ndebug-check                       FALSE<br/>\ndebug-info                        FALSE<br/>\ndatabase                          (No default value)<br/>\ndefault-character-set             latin1<br/>\ndelimiter                         ;<br/>\nvertical                          FALSE<br/>\nforce                             FALSE<br/>\nnamed-commands                    FALSE<br/>\nignore-spaces                     FALSE<br/>\nlocal-infile                      FALSE<br/>\nno-beep                           FALSE<br/>\nhost                              (No default value)<br/>\nhtml                              FALSE<br/>\nxml                               FALSE<br/>\nline-numbers                      TRUE<br/>\nunbuffered                        FALSE<br/>\ncolumn-names                      TRUE<br/>\nsigint-ignore                     FALSE<br/>\nport                              0<br/>\nprompt                            mysql&gt; <br/>\nquick                             FALSE<br/>\nraw                               FALSE<br/>\nreconnect                         TRUE<br/>\nsocket                            (No default value)<br/>\nssl                               FALSE<br/>\nssl-ca                            (No default value)<br/>\nssl-capath                        (No default value)<br/>\nssl-cert                          (No default value)<br/>\nssl-cipher                        (No default value)<br/>\nssl-key                           (No default value)<br/>\nssl-verify-server-cert            FALSE<br/>\ntable                             FALSE<br/>\nuser                              (No default value)<br/>\nsafe-updates                      FALSE<br/>\ni-am-a-dummy                      FALSE<br/>\nconnect_timeout                   0<br/>\nmax_allowed_packet                16777216<br/>\nnet_buffer_length                 16384<br/>\nselect_limit                      1000<br/>\nmax_join_size                     1000000<br/>\nsecure-auth                       FALSE<br/>\nshow-warnings                     FALSE</p>\n<p>FYI - our mysql is \"mysql  Ver 14.14 Distrib 5.1.73, for redhat-linux-gnu (x86_64) using readline 5.1\"</p>\n<p>-Edward</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.   As an experiment could you set</p>\n<div class=\"codehilite\"><pre><span></span>$db_nopersist = 1;\n</pre></div>\n<p>in your config file (ie uncomment the line) and see if it changes the frequency of long-lived transactions that your cron job reports?</p>\n<p>Also thanks for the list of options.   However I think this is a list of MySQL options rather than variables.   What I'm after is the output of the SQL query</p>\n<div class=\"codehilite\"><pre><span></span>SHOW VARIABLES;\n</pre></div>\n<p>or more precisely</p>\n<div class=\"codehilite\"><pre><span></span>SHOW VARIABLES LIKE 'AUTOCOMMIT';\n</pre></div>\n<p>Thanks</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/836651de/1892/\"><div class=\"markdown_content\"><p>a) Same as Edward. // $db_nopersist = 1;</p>\n<p>I will uncomment the line and report back to you.</p>\n<p>b) Autocommit is set to ON</p>\n<p>Troels</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/836651de/6ff9/\"><div class=\"markdown_content\"><p>Not sure why my posting a day or 2 ago did not appear.</p>\n<p>I have set $db_nopersist =1 by unocmmenting the line in our config file.  Will report if I notice any change or not.</p>\n<p>The autocommit variable in MYSQL is set to ON in our server.</p>\n<p>-Edward</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Any updates?   Has $db_nopersist=1 made a difference?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/836651de/3aa8/\"><div class=\"markdown_content\"><p>I have dug through and checked with colleagues, and none of us have received one of our problem report emails since setting #db_nopersist=1</p>\n<p>This seems to have fixed the issue, as our scripts are not being trigerred!</p>\n<p>-Edward</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-10-31</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for the update.   At least there's now a circumvention for you, but there's still an issue in MRBS as you should be able to run with $db_nopersist=0.   I'll try and set up some tests to reproduce the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this, but my suspicion is that what's happening is that when a browser session is terminated in the middle of an edit, and the disconnection happens to take place just at the wrong point in the middle of a series of database operations, then if you are using persistent database connections, strange things happen (see the warning at <a href=\"http://php.net/manual/en/features.persistent-connections.php\" rel=\"nofollow\">http://php.net/manual/en/features.persistent-connections.php</a> for more details).</p>\n<p>I'm also inclined to this view because I assume that Edward's site, being a university (I think) and also in Hong Kong (I think), has a large number of MRBS transactions going on, many of them from students using mobiles, which will be more susceptible to losing a connection, and one or two of these disconnections will happen at just the wrong time.</p>\n<p>I have therefore committed a change in the trunk (Rev 2886) which sets ignore_user_abort for the duration of a transaction, or while a lock is in place.</p>\n<p>Unfortunately I haven't been able to reproduce the problem and so can't prove that these changes solve the problem.   If you were willing to try the two attached files when running with $db_nopersist=0 and report back it would be much appreciated - BUT ONLY if you are running MRBS 1.4.11.   The attached files will not work with earlier versions of MRBS.   If you are running an earlier version I could if you wish produce suitable files if you let me know the version.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2014-11-18</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/836651de/4673/\"><div class=\"markdown_content\"><p>We're currently running version 1.4.9.  We probably won't want to upgrade before Summer 2015 as we have a number of customisations.  We have not modified dbsys.inc, and our functions.inc only has cosmetic mods, like not using the drop-down list on day.php and changing a table.  So I am willing to try replacement versions to see if the problem with $db_nopersist=0 persists.<br/>\n-Ed</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Many thanks.   I've put together a version of dbsys.inc for 1.4.9 attached to this post here.  It doesn't need a new functions.inc because I've put the new functions in dbsys.inc, so you won't have to worry about re-applying your customisations to functions.inc.</p>\n<p>Let me know how you get on.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have tried to replace the two files you attached but when I enter the site I'm asked to upgrade the database. When I enter the db user details from the config.inc.php I get this error:</p>\n<p>\"The database needs to be upgraded. Please backup your database before proceeding.</p>\n<p>Upgrading to database version: 37Fatal error: Failed to open 'upgrade/37/mysql.sql' for reading.\"</p>\n<p>I have checked that the user have all privileges on the specific database.</p>\n<p>Any idea why I get this error?</p>\n<p>/Troels</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Troels Bugge 2014-11-18</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry - my fault.   I've now replaced the dbsys.inc in the post above (the one that has two files attached for 1.4.11) with a version of dbsys.inc that should work.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No problem.<br/>\nI have replaced both files and commented out $db_nopersist = 1. I will observe the bookings to see if the problem will occur again.</p>\n<p>/Troels</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>We haven't seen the error since we implemented the changes you sent me, Campbell.</p>\n<p>You're welcome to close the ticket.</p>\n<p>Thank you so much for your help!</p>\n<p>/Troels</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good news!   Before I close the ticket maybe Ed could confirm whether the code changes also seem to cure the problem on his site?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/836651de/5bad/\"><div class=\"markdown_content\"><p>It took me the longest time to find this listing again :)  </p>\n<p>I swapped out the dbsys.inc file on our installation, and re-commented out the \"$db_nopersist = 1;\" line in the config file.  I then awaited a few days to see what would happen.</p>\n<p>Unfortunately, our script has already caught 2 of these conflicts, so the problem still exists.</p>\n<p>It may be that the problem is fixed for 1.4.11 run by Troels - ours is the older 1.4.9.</p>\n<p>But our staff are happy enough with the nopersist workaround for the foreseeable future.</p>\n<p>-Ed</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for the feedback.   Unfortunately I don't think there's any difference between the 1.4.9 and 1.4.11 solutions, so I'll need to do some more thinking.    When you say your script has caught two of these conflicts, do you mean it has caught two conflicting bookings or two outstanding transactions?</p>\n<p>Certainly it's much safer not using persistent connections.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've added rollback of outstanding transactions to the shutdown function in Rev 2898, just in case there's some way the script is being killed in the middle of a transaction other than by a user abort.</p>\n<p>I won't ask you to try this as you've been patient enough as it is!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/836651de/1019/\"><div class=\"markdown_content\"><p>I left it in for a few more days, and it keeps throwing Outstanding transactions - 21 so far.  Before we had a script finding and killing them, the eventual result was duplicate entries.  I am changing config setting back today. :)</p>\n<p>Here is the output from one of our scripted 'catches', including INNODB monitor output.  Formatting is poor, so may not be useful for you. :)</p>\n<p>---TRANSACTION 0 364620744, ACTIVE 10 sec, process no 1633, OS thread id 139809618835200<br/>\nMySQL thread id 594764, query id 24835746 localhost MRBS18<br/>\nkill 594764</p>\n<p>---TRANSACTION 0 364620656, ACTIVE 21 sec, process no 1633, OS thread id 139809613510400<br/>\nMySQL thread id 595892, query id 24835757 localhost MRBS18<br/>\nkill 595892</p>\n<p>||=====================================||141210 20:02:01 INNODB MONITOR OUTPUT||=====================================||Per second averages calculated from the last 59 seconds||----------||SEMAPHORES||----------||OS WAIT ARRAY INFO: reservation count 16864360, signal count 16614930||Mutex spin waits 0, rounds 222871048, OS waits 11002887||RW-shared spins 12794587, OS waits 5857325; RW-excl spins 6406, OS waits 4146||------------||TRANSACTIONS||------------||Trx id counter 0 364620858||Purge done for trx's n:o &lt; 0 364620104 undo n:o &lt; 0 0||History list length 18||LIST OF TRANSACTIONS FOR EACH SESSION:||---TRANSACTION 0 0, not started, process no 1633, OS thread id 139809618302720||MySQL thread id 595950, query id 24835783 localhost root||SHOW ENGINE innodb STATUS||---TRANSACTION 0 364620832, not started, process no 1633, OS thread id 139809674581760||MySQL thread id 595888, query id 24835727 localhost MRBS18||---TRANSACTION 0 364620843, not started, process no 1633, OS thread i<br/>\n d 139809617237760||MySQL thread id 595886, query id 24835749 localhost MRBS18||---TRANSACTION 0 364620816, not started, process no 1633, OS thread id 139809675380480||MySQL thread id 595885, query id 24835699 localhost MRBS18||---TRANSACTION 0 364620752, not started, process no 1633, OS thread id 139809612711680||MySQL thread id 595883, query id 24835629 localhost MRBS18||---TRANSACTION 0 364620512, not started, process no 1633, OS thread id 139809614841600||MySQL thread id 595881, query id 24835277 localhost MRBS18||---TRANSACTION 0 364620835, not started, process no 1633, OS thread id 139809674315520||MySQL thread id 595880, query id 24835730 localhost MRBS18||---TRANSACTION 0 364620680, not started, process no 1633, OS thread id 139809612977920||MySQL thread id 595879, query id 24835518 localhost MRBS18||---TRANSACTION 0 364620839, not started, process no 1633, OS thread id 139809611912960||MySQL thread id 595797, query id 24835737 localhost MRBS18||---TRANSACTION 0 36462<br/>\n 0818, not started, process no 1633, OS thread id 139809616439040||MySQL thread id 595796, query id 24835701 localhost MRBS18||---TRANSACTION 0 364620604, not started, process no 1633, OS thread id 139809613244160||MySQL thread id 595794, query id 24835407 localhost MRBS18||---TRANSACTION 0 364620637, not started, process no 1633, OS thread id 139809615107840||MySQL thread id 595792, query id 24835446 localhost MRBS18||---TRANSACTION 0 364620745, not started, process no 1633, OS thread id 139809617504000||MySQL thread id 595790, query id 24835609 localhost MRBS18||---TRANSACTION 0 364620848, not started, process no 1633, OS thread id 139809616705280||MySQL thread id 595661, query id 24835765 localhost MRBS18||---TRANSACTION 0 364620515, not started, process no 1633, OS thread id 139809615906560||MySQL thread id 595591, query id 24835280 localhost MRBS18||---TRANSACTION 0 364620643, not started, process no 1633, OS thread id 139809614042880||MySQL thread id 595168, query id 24<br/>\n 835455 localhost MRBS18||---TRANSACTION 0 364620853, not started, process no 1633, OS thread id 139809614309120||MySQL thread id 595164, query id 24835773 localhost MRBS18||---TRANSACTION 0 364620857, ACTIVE 0 sec, process no 1633, OS thread id 139809615374080 fetching rows, thread declared inside InnoDB 12||mysql tables in use 1, locked 0||MySQL thread id 595882, query id 24835780 localhost MRBS18 Sorting result||SELECT room_name, start_time, end_time, name, repeat_id,||                   mrbs_entry.id AS entry_id, type, mrbs_entry.description AS entry_description, status, ||                   mrbs_entry.create_by AS entry_create_by||              FROM mrbs_entry, mrbs_room||             WHERE mrbs_entry.room_id = mrbs_room.id||               AND mrbs_room.area_id = 6||               AND mrbs_entry.room_id = 46||               AND mrbs_room.disabled = 0||               AND ((start_time &lt;= 1418140801 AND end_time &gt;= 1418227199) OR (start_time &gt;= 1418140801 AND end_time &lt;= 14<br/>\n 18227199))||          ORDER BY start_t||Trx read view will not see trx with id &gt;= 0 364620858, sees &lt; 0 364620656||---TRANSACTION 0 364620744, ACTIVE 10 sec, process no 1633, OS thread id 139809618835200||MySQL thread id 594764, query id 24835746 localhost MRBS18||Trx read view will not see trx with id &gt;= 0 364620745, sees &lt; 0 364620656||---TRANSACTION 0 364620656, ACTIVE 21 sec, process no 1633, OS thread id 139809613510400||MySQL thread id 595892, query id 24835757 localhost MRBS18||Trx read view will not see trx with id &gt;= 0 364620657, sees &lt; 0 364620657||--------||FILE I/O||--------||I/O thread 0 state: waiting for i/o request (insert buffer thread)||I/O thread 1 state: waiting for i/o request (log thread)||I/O thread 2 state: waiting for i/o request (read thread)||I/O thread 3 state: waiting for i/o request (write thread)||Pending normal aio reads: 0, aio writes: 0,|| ibuf aio reads: 0, log i/o's: 0, sync i/o's: 0||Pending flushes (fsync) log: 0; buffer pool: 0||4436366<br/>\n 7 OS file reads, 197623 OS file writes, 162007 OS fsyncs||31.32 reads/s, 141232 avg bytes/read, 0.14 writes/s, 0.14 fsyncs/s||-------------------------------------||INSERT BUFFER AND ADAPTIVE HASH INDEX||-------------------------------------||Ibuf: size 1, free list len 5, seg size 7,||182 inserts, 182 merged recs, 143 merges||Hash table size 17393, node heap has 1 buffer(s)||928.49 hash searches/s, 108.68 non-hash searches/s||---||LOG||---||Log sequence number 0 597270770||Log flushed up to   0 597270770||Last checkpoint at  0 597270770||0 pending log writes, 0 pending chkp writes||94502 log i/o's done, 0.07 log i/o's/second||----------------------||BUFFER POOL AND MEMORY||----------------------||Total memory allocated 20566736; in additional pool allocated 1048576||Dictionary memory allocated 107800||Buffer pool size   512||Free buffers       0||Database pages     511||Modified db pages  0||Pending reads 0||Pending writes: LRU 0, flush list 0, single page 0||Pages read 383<br/>\n 055720, created 94, written 71835||270.00 reads/s, 0.00 creates/s, 0.03 writes/s||Buffer pool hit rate 966 / 1000||--------------||ROW OPERATIONS||--------------||1 queries inside InnoDB, 0 queries in queue||4 read views open inside InnoDB||Main thread process no. 1633, id 139809629325056, state: sleeping||Number of rows inserted 10432, updated 4, deleted 1831, read 69654236055||0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 31064.58 reads/s||----------------------------||END OF INNODB MONITOR OUTPUT||============================||</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>See also <a href=\"https://sourceforge.net/p/mrbs/bugs/338/\">https://sourceforge.net/p/mrbs/bugs/338/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/313/", "title": "#313 iCAL export issues", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Good morning.<br>\nFirstly, I'd like to thank you all for providing the open source community with a fantastic product.<br>\nWe are using MRBS as a room booking &amp; timetabling system and it works really well.<br>\nOne issue we have come across is an issue with exporting to iCAL. If you create a report with multiple bookings and export to iCAL, it is only exporting the first booking in the report and not the rest. Is this a known issue? Or are we doing something wrong?<br>\nAny advice, fixes or information on config changes that are needed will be gratefully received.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've just tried this on 1.4.11 and everything seems to work OK.   What version of MRBS are you using?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Are your multiple bookings part of a series?   In which case only one VEVENT will be created, but it should have a recurrence rule (RRULE).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0fa9bbe3/e88f/\"><div class=\"markdown_content\"><p>Hi Campbell,</p>\n<p>Thanks for the prompt response.<br/>\nI can confirm we are using version 1.4.11.<br/>\nSome are part of a series and others are not. Our staff generally export a date range across multiple rooms and are attempting to import them into their Outlook calendars.<br/>\nI hope this information is of use.</p>\n<p>Vinny.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>If you produce an HTML report before you produce the iCal report can you see the multiple bookings?    Can you post the iCal file here if it is not confidential?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0fa9bbe3/6477/\"><div class=\"markdown_content\"><p>Yes, the HTML report shows multiple bookings.<br/>\nI have DM'd you with a link to the files you asked for.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.   I've got the files and everything looks OK to me.   I can see 14 entries in the .ics file which match the HTML entries.    I assume you are importing into Outlook using the \"Open as New\" option.   I've just tried this and indeed you only get the first entry.    However if you use the \"Import\" option you get all 14 entries.   I can only assume this is some quirk of Outlook.  I've tried validating the .ics file with <a href=\"http://severinghaus.org/projects/icv/\" rel=\"nofollow\">http://severinghaus.org/projects/icv/</a> and it validates OK.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>PS I was using Outlook 2013</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0fa9bbe3/08f7/\"><div class=\"markdown_content\"><p>I use Outlook 2013 as well and have tested this on Outlook 2010, which behaves in the same way.<br/>\nThanks for your time on looking into this issue.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I haven't given up on this.   I've just found that if in Outlook Calendar you do File -&gt; Save Calendar then Outlook will then re-import successfully the resultant .ics file.    So all I need to do is to find the magic difference between their .ics file and the MRBS .ics file and it should be possible to make MRBS produce files that Outlook likes (assuming of course that they're still liked by other calendar apps).</p>\n<p>I'll have a look into this later.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can see what the problem is.   Am working on a fix.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The problem is caused by the fact that the METHOD being used in the iCalendar file was REQUEST when it should be PUBLISH.    However simply changing the METHOD to REQUEST does not solve the problem for series where members of the series have been deleted or changed.   The export_icalendar() function needs to be rewritten.   I've started working on a fix but it'll be a few days before it can be ready due to other commitments.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have now fixed this in Rev 2868.   If you are using MRBS 1.4.11 you can patch your system by replacing functions_ical.inc with the latest version which is attached here.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0fa9bbe3/e1b9/\"><div class=\"markdown_content\"><p>That is great, thank you for looking into this so quickly.<br/>\nI was happy enough with the previous workaround but this will be ideal.</p>\n<p>Many thanks.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I experienced the exact same problem using Outlook 2007, which is how I got to this thread.<br/>\nTrying out the fix above from Campbell Morrison, Rev 2868, I'm still experiencing issues.<br/>\nWhen exporting an ical of a report with multiple bookings, and opening it straight into Outlook, it creates a second agenda next to mine.<br/>\nI'm not sure if it's supposed to do this... or if it's related to me having my mail and calendar on an Exchange server...<br/>\nSee attachment.<br/>\nWhen exporting and .ics of one booking and importing it in outlook it just behaves normally (toggles a window to save the calendar item and then shows up in my own calendar).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>How are you opening the file?   Are you using Open or Import?    If I use Import (I am using Outlook 2013, no Exchange server) then I get a dialog box asking me whether I want to \"Open as New\" or \"Import\"?    \"Open as New\" gives the result you were getting.   \"Import\" gives the result you were wanting, ie merging the events into my existing calendar.</p>\n<p>If I use Open from the File menu, then Opening a single event .ics file produces a new calendar (as in your screenshot), and opening a multi-event .ics file seems to do nothing.   Not quite sure why that is though - it doesn't seem right.   Searching the web I think \"Open\" is supposed to behave as you were seeing, whereas \"Import\" is what you need to use (unless you are using it already).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ah - I understand why Opening didn't work.   There's a bug in the latest version of MRBS in the trunk resulting in a malformed .ics file.   I'll fix it later.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed that bug in Rev 2980.   Outlook 2013 (no Exchange Server) now behaves as follows:</p>\n<ul>\n<li>Open (single event) - inserts event into existing calendar</li>\n<li>Open (multi-event) - opens as a new calendar</li>\n<li>Import - offers option to \"Open as New\" or \"Import\".   Import does what you'd expect, ie merge into your existing calendar.   Open as New will open a single event, if the file is a single event, or a new calendar, if it's a multi-event.</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>For me it behaved as you just described.</p>\n<p>I don't really agree with the standard behaviour of when you open a multi-event .ical file that per default it opens in a new calendar... whereas for a single event this is not default behavior... It seems more logical that events would be added to your existing calender at once...<br/>\nAnyway, since you googled it and you found that it should behave like this, then I guess this is how it's gonna be ;-).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>My guess is that the reason it is done this way is that quite a few people probably operate more than one calendar, eg work and home calendars, so Outlook won't know which one to add the event(s) to.</p>\n<p>You could always check that it's nothing to do with MRBS by exporting events from another system, eg Google Calendar, and see what happens then.   You could also check whether other calendar applications behave the same way as Outlook.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0fa9bbe3/a3f5/\"><div class=\"markdown_content\"><p>Hello All,</p>\n<p>i am having the same problem with outlook 2013</p>\n<p>i have replaced the functions_ical.inc with the one above, and i can see $method is publish </p>\n<p>however the opening the attachments received in the email in notepad they are still METHOD:REQUEST</p>\n<p>do i need to do any other file modifications to get this to work? </p>\n<p>running<br/>\nMRBS 1.4.11</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2015-05-28</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you just confirm which problem you are seeing please?    And are you using an Exchange server?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0fa9bbe3/d0d4/\"><div class=\"markdown_content\"><p>ps we are using an exchange server </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0fa9bbe3/730b/\"><div class=\"markdown_content\"><p>sure so the problem is we have recently updated to office 365, since the migration i now just get two attachments </p>\n<p>company_name.ics and not supported calendar message.ics</p>\n<p>we are using an exchange server but all worked well prior to the upgrade from 2007 to 365</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/312/", "title": "#312 Room created the file day.php blank page - mrbs-1.4.11", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,</p>\n<p>I have a bug in my RSB-1.4.11 I installed it but when I acresento standard one room of the page it blank, in rooms reservation link, if I remove the room back to normal and it opens the page but day.php if you have a room created the file day.php blank page opens, have any solution?</p>\n<p>I thank you.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>How did you add the room?   Through MRBS or through phpMyAdmin?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/00b89bcf/d5f5/\"><div class=\"markdown_content\"><p>I am adding through MRBS and I am get the blank page too on week.php and day.php</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/00b89bcf/5704/\"><div class=\"markdown_content\"><p>The problem about not showing anything on week.php and day.php is the <br/>\nline 738 -&gt; $is_possibly_invalid = !$enable_periods &amp;&amp; is_possibly_invalid($am7, $pm7);</p>\n<p>Removing it the screen is showing again</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-10-27</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Are you using periods?   If not, what is the start time of your booking day?   And what resolution are you using?</p>\n<p>And how did you conclude it was this line?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/00b89bcf/718e/\"><div class=\"markdown_content\"><p>I ain't using periods, the Start Time is 07:00 until 18:30.</p>\n<p>The resolution isn't the problem I test it, right now.</p>\n<p>About how I conclude it, is because I was debugging inserting some echoes in the code. So I could find the line that was generating the blank screen. After it I remove the line and it is working.</p>\n<p>att<br/>\nMauricio N. Ferreira</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, many thanks.   Have you made any changes to that file?   What happens if you restore the standard version of that file?   And were you getting any errors in your PHP error log?  And what timezone are you using?</p>\n<p>Apologies for all the questions - it's just that I can't reproduce the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/00b89bcf/03a8/\"><div class=\"markdown_content\"><p>No problems, I am new in this project so now I can't help too much with  code, but the questions I can answer all of them.</p>\n<p>I am using a ubuntu with pt_BR.UTF-8 and the MRBS is get the locate automaticly.</p>\n<p>I couldn't change the file to the previous version because on the download page have just the last version.</p>\n<p>Accessing the error.log or access.log on apache no errors are displayed. The timezone is \"America/Brasilia\"</p>\n<p>att<br/>\nMauricio N. Ferreira</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-10-27</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.   I mean what happens if you just upload the standard functions_table.inc from the download page?   Does the error come back again?  If it does come back again can you add the following lines right at the end of internalconfig.inc.php and see if any errors are reported in your browser?</p>\n<div class=\"codehilite\"><pre><span></span>ini_set('display_errors', '1');\nerror_reporting(-1);\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Campbell, I restored the file and nothing happen. Also Added these 2 lines to the end of internalconfig.inc but simply the php stop on that line and nothing else is interpreted.</p>\n<p>I will try to find the problem here. But the problem is in this function: is_possibly_invalid($am7, $pm7);</p>\n<p>Thanks.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Does the problem just occur when you try and make a booking for just one particular day?   What happens if you make a booking for a day in December?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This problem happens when create a room for any area not when is booking.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think I can reproduce the problem.  And I think the problem is that the \"America/Brasilia\" timezone does not exist in PHP.   Can you try using \"America/Sao_Paulo\"?   You will need to edit the timezone of your areas.  Login as an admin, go to the Rooms page, select an area and then click on the Edit icon.   Change the timezone and then \"Save\".</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed this (by adding a check that the $timezone config variable is valid) in the trunk in Rev 2874.   You should switch from \"America/Brasilia\" to another timezone.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/311/", "title": "#311 Upgrade from MRBS 1.4beta2 causes double up of first two periods ?", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello</p>\n<p>I inherited an mrbs install and tried to move it to a new server and decommission the old server it runs from but received error mrbs Deprecated: Function set_magic_quotes_runtime() is deprecated on line 527. So I know this is because its a much newer version of MySQL and I found it was running MRBS 1.4beta2 so I tried to upgrade initially to the newest and then tried 1.4.5 but both had the same side effect that I get the first two periods doubled up and it throws everthing out of whack. I attached a before and after shot as I thought it was easiest to show what I meant. I looked in the config file but couldn't see if I did something wrong. I reverted to a backup so its running again on the old server. Any help is greatly appreciated</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/311/attachment/Issue.jpg\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/311/attachment/Issue.jpg/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/311/attachment/Issue.jpg\">Issue.jpg</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The period configuration in your config.inc.php just needs to start with the line:</p>\n<div class=\"codehilite\"><pre><span></span>unset($periods); \n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d969c9fc/389e/\"><div class=\"markdown_content\"><p>Thanks for the quick response, worked like a charm ! On the new server it still gives <br/>\nDeprecated: Function set_magic_quotes_runtime() is deprecated in C:\\xampp\\htdocs\\mrbs\\web\\config.inc.php on line 539<br/>\nShould I comment out that line in the config ?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Recommendation (especially if coming from an older version of MRBS) is to start with a clean config.inc.php and then copy in just your customisations.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d969c9fc/8bc3/\"><div class=\"markdown_content\"><p>Ok will do thanks</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/310/", "title": "#310 Time slot views", "status": "open", "labels": "time slot (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi<br>\nI would like to check if anyone knows how to have a change on the timeslot view in the edit_entry page to 0800-0830, 0830-0900...etc instead of 0800,0830,0900?</p>\n<p>Thanks </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I don't think that change makes sense.   How would you then book a room from, for example, 0800-0900?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is not a bug submit issue, more of a support request. I believe I answered your question under support request.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: TechGuy96 2014-09-24</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/309/", "title": "#309 Prevent editing users on first installation.", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,<br>\nwhen connecting mrbs to joomla we don't have to add users to the default from mrbs. But it is possible to add an user for the first time!<br>\nAfter a clean installation and when using Joomla for the user authorization. It should block guest to add new users. </p>\n<p>add the following to the file edit_users.php will prevent editing </p>\n<p>checkAuthorised();</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/762e687b/ba94/\"><div class=\"markdown_content\"><p>I think there has to change something on row 274 in edit_users.php</p>\n<div class=\"codehilite\"><pre><span></span>if (isset($Action) &amp;&amp; ( ($Action == \"Edit\") or ($Action == \"Add\") )){\n\ncheckAuthorised();\n\nif ($Id &gt;= 0) /* -1 for new users, or &gt;=0 for existing ones */\n{\n// If it's an existing user then get the data from the database\n</pre></div>\n<p>after adding checkAuthorised it is possible to change the way I want to edit users in the file mrbs_auth.inc</p>\n<div class=\"codehilite\"><pre><span></span>$page_level['edit_users.php']            = 2;  // Ordinary users can edit their own details\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-09-04</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/308/", "title": "#308 Edit the entry description results in two entrys", "status": "open", "labels": "description (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If I choose to edit an entry and while doing so changes the description field I will end up with two bookings at the same time. The two bookings are non-changeable and non-deletable unless I go into the sql db manually and deletes one of them.</p>\n<p>Quickfix: make the entry description field non-editable, only new entrys can get a description.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/461aad34/5f6d/\"><div class=\"markdown_content\"><p>Strange - I cannot reproduce this. What are your versions of MRBS, database, server and PHP? Answers on the Help page.</p>\n<p>Campbell </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi!<br/>\nIt runs on OS-X server 10.6.8, fully updated </p>\n<p>I should probably install a fresh version of mrbs setting up a fresh db to try it again.</p>\n<p>Anyway our system is:<br/>\nApache/2.2.24 (Unix) PHP/5.3.26 <br/>\nLatest mrbs, I just changed some colors, no editing of the field in the first of two installs.<br/>\nMySQL locally on server, mysqlnd 5.0.8-dev</p>\n<p>I have a another install in which I try adding fields in the db but the error shows up in both installs, each with seperate db (of course).</p>\n<p>I user FF 32 (new from today) to gether with Safari for browsing.</p>\n<p>From help field:<br/>\nMKV - salbokning:   MRBS 1.4.11<br/>\nDatabas:    MySQL 5.0.92-log<br/>\nSystem: Darwin florin.itm.miun.se 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun 7 16:32:41 PDT 2011; root:xnu-1504.15.3~1/RELEASE_X86_64 x86_64<br/>\nServertid:  Ons 3 Sep 15:39:50 2014<br/>\nPHP:    5.3.26</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I did a fresh install and the problem doesn't show up now.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>So we can cancel this - I wonder what's up with the other installs</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/307/", "title": "#307 select_options not storing key", "status": "open", "labels": "select_options (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have added a column \"classid\" to the entry db, and the following to config.inc.php:<br>\n$select_options<span>['entry.classid']</span> = array( 'C1'=&gt;'STICKS + STRING: LEARN TO KNIT', <br>\n                                          'C2' =&gt; 'REVERSIBLE JEKYLL BAG - WORKSHOP',<br>\n                                           'C3' =&gt;'THE DIGITAL DARKROOM - EDITING DIGITAL IMAGES WORKSHOP');<br>\n$select_options<span>['repeat.classid']</span> = array( 'C1'=&gt;'STICKS + STRING: LEARN TO KNIT', <br>\n                                          'C2' =&gt; 'REVERSIBLE JEKYLL BAG - WORKSHOP',<br>\n                                           'C3' =&gt;'THE DIGITAL DARKROOM - EDITING DIGITAL IMAGES WORKSHOP');</p>\n<p>When I edit an entry, the list of options appears, but the classid field always contains \"0\" regardless of what is selected.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this.   Which version of MRBS are you using?   And what is the type of your field in the database (eg INT, VARCHAR(255), etc.)?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/559a6417/c94f/a35b/\"><div class=\"markdown_content\"><p>Version 1.4.10. Yes, I see that the datatype can be an issue. Initially I used ints as keys, so I used ints in the database. I'll change the DB column to a varchar and try again. Thanks. And HUGE kudos from my users, they really love this system.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/559a6417/c94f/a35b/5995/\"><div class=\"markdown_content\"><p>OK, changing the field type to varchar 32 gets the selected VALUE stored in the DB. I was expecting the KEY to be stored (C1, C2, C3, etc.) so I could use it in a lookup on another table. What am I missing?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this on either 1.4.10 or 1.4.11 (BTW, I recommend upgrading to 1.4.11 anyway, though it won't solve this problem).</p>\n<p>However there is a problem if you are using integers as your keys, eg</p>\n<div class=\"codehilite\"><pre><span></span>$select_options['entry.classid'] = array( '1'=&gt;'STICKS + STRING: LEARN TO KNIT', \n// etc.\n</pre></div>\n<p>See the documentation in systemdefaults.inc.php for an explanation:</p>\n<div class=\"codehilite\"><pre><span></span>// Note that an array such as\n//\n// $select_options['entry.catering'] = array('2' =&gt; 'Coffee', \n//                                           '4' =&gt; 'Sandwiches',\n//                                           '5' =&gt; 'Hot Lunch');\n//\n// will be treated as a simple indexed array rather than as an associative array.\n// That's because (a) strictly speaking PHP does not distinguish between indexed\n// and associative arrays and (b) PHP will cast any string key that looks like a\n// valid integer into an integer.\n</pre></div>\n<p>So if you are able to use 'C1' instead of '1' then you'll avoid that problem.    However if you do need to use integers as your key then you can but you'll have to edit MRBS a little.   Briefly you'll need to modify the function create_field_entry_custom_field() in edit_entry.php so that it takes special action for your field.   Just before the generate_input() add the following:</p>\n<div class=\"codehilite\"><pre><span></span>    if ($key == 'classid')\n    {\n      $params['force_assoc'] = TRUE;\n    }\n</pre></div>\n<p>(It may be that you have to be on 1.4.11 for this to work)</p>\n<p>Also note that you don't need to set $select_options<span>['repeat.classid']</span> in the config file.   Setting $select_options<span>['entry.classid']</span> is sufficient.</p>\n<p>If you're still getting problems with the C1 etc. keys then I suggest you upgrade to 1.4.11 and see if it still happens there and if so I'll need to investigate further.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/559a6417/f7ba/\"><div class=\"markdown_content\"><p>That did the job. Thanks. Mahlon Stacy on behalf of Jekyll Island Arts Association. <span>[email address snipped]</span></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2014-08-08</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/306/", "title": "#306 Periods error", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have configured my system for periods submissions, like \"period 1\" and \"period 2\" and the user can select only one period for each room.  So i set in my \"config.inc.php\" to \"$max_duration_enabled = TRUE;\" and \"$max_duration_periods = 1;\" right? Ok</p>\n<p>After then, when user select in calendar \"period 1\", the system not allow submission because there is some policy conflicts \"the maximum duration of booking is 1 period\" and they can't go ahead.</p>\n<p>But, if the user select in calendar \"period 2\", the system works fine.</p>\n<p>So, can you help me?</p>\n<p>Thank you very much!!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I haven't been able to reproduce this problem.   Can you tell me please</p>\n<ul>\n<li>what timezone your system is set to?</li>\n<li>which version of MRBS you are using?</li>\n<li>whether your server is a Windows or Linux server?</li>\n<li>your version of PHP?</li>\n</ul>\n<p>Thanks,</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/b19a150e/77d3/\"><div class=\"markdown_content\"><p>Hi Campbell,</p>\n<p>Your requests:</p>\n<ul>\n<li>Timezone America/Sao_Paulo</li>\n<li>MRBS Latest version 1.4.11 (prior version 1.4.10 occurs the same problem)</li>\n<li>Server Linux CentOS</li>\n<li>PHP version 5.3.28</li>\n<li>Server provider: Hostgator</li>\n</ul>\n<p>Thank you.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-07-29</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.   I think I can reproduce the problem.   Do you find that the period select box is disabled if you select \"period 1\"?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/b19a150e/3414/\"><div class=\"markdown_content\"><p>Exactly. Period select box is disabled when \"period 1\" is selected in calendar and the system results policy conflicts \"the maximum duration of booking is 1 period\". But, if selected \"period 2\" in calendar, works fine.</p>\n<p>I think, as a suggestion, if selected $max_duration_periods = 1;\" the system may be disable the end of period.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-07-29</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed this in Rev 2854.    You can patch your system by replacing the code for the function genAllDay() in edit_entry.php with the following code:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">// Generate the All Day checkbox for an area</span>\n<span class=\"kd\">function</span> <span class=\"nx\">genAllDay</span><span class=\"p\">(</span><span class=\"nx\">$a</span><span class=\"p\">,</span> <span class=\"nx\">$id</span><span class=\"p\">,</span> <span class=\"nx\">$name</span><span class=\"p\">,</span> <span class=\"nx\">$display_none</span><span class=\"o\">=</span><span class=\"nx\">FALSE</span><span class=\"p\">,</span> <span class=\"nx\">$disabled</span><span class=\"o\">=</span><span class=\"nx\">FALSE</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n  <span class=\"nx\">global</span> <span class=\"nx\">$default_duration_all_day</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">echo</span> <span class=\"s2\">\"&lt;div class=\\\"group\\\"\"</span> <span class=\"p\">.</span> <span class=\"p\">((</span><span class=\"nx\">$display_none</span> <span class=\"o\">||</span> <span class=\"o\">!</span><span class=\"nx\">$a</span><span class=\"p\">[</span><span class=\"s1\">'show_all_day'</span><span class=\"p\">])</span> <span class=\"o\">?</span> <span class=\"s1\">' style=\"display: none\"'</span> <span class=\"o\">:</span> <span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"p\">.</span><span class=\"s2\">\"&gt;\\n\"</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">$class</span> <span class=\"o\">=</span> <span class=\"nx\">array</span><span class=\"p\">();</span>\n  <span class=\"nx\">$class</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s1\">'all_day'</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">$disable_field</span> <span class=\"o\">=</span> <span class=\"nx\">$disabled</span> <span class=\"o\">||</span> <span class=\"nx\">$display_none</span> <span class=\"o\">||</span> <span class=\"o\">!</span><span class=\"nx\">$a</span><span class=\"p\">[</span><span class=\"s1\">'show_all_day'</span><span class=\"p\">];</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">$disable_field</span><span class=\"p\">)</span>\n  <span class=\"p\">{</span>\n    <span class=\"c1\">// and if $disabled is set, give the element a class so that the JavaScript</span>\n    <span class=\"c1\">// knows to keep it disabled</span>\n    <span class=\"nx\">$class</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"s1\">'keep_disabled'</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n  <span class=\"c1\">// (1) If $display_none or $disabled are set then we'll also disable the select so</span>\n  <span class=\"c1\">//     that there is only one select passing through the variable to the handler.</span>\n  <span class=\"c1\">// (2) If this is an existing booking that we are editing or copying, then we do</span>\n  <span class=\"c1\">//     not want the default duration applied</span>\n  <span class=\"nx\">$params</span> <span class=\"o\">=</span> <span class=\"nx\">array</span><span class=\"p\">(</span><span class=\"s1\">'name'</span>        <span class=\"o\">=&gt;</span> <span class=\"nx\">$name</span><span class=\"p\">,</span>\n                  <span class=\"s1\">'id'</span>          <span class=\"o\">=&gt;</span> <span class=\"nx\">$id</span><span class=\"p\">,</span>\n                  <span class=\"s1\">'label'</span>       <span class=\"o\">=&gt;</span> <span class=\"nx\">get_vocab</span><span class=\"p\">(</span><span class=\"s2\">\"all_day\"</span><span class=\"p\">),</span>\n                  <span class=\"s1\">'label_after'</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">TRUE</span><span class=\"p\">,</span>\n                  <span class=\"s1\">'attributes'</span>  <span class=\"o\">=&gt;</span> <span class=\"s1\">'data-show='</span> <span class=\"p\">.</span> <span class=\"p\">((</span><span class=\"nx\">$a</span><span class=\"p\">[</span><span class=\"s1\">'show_all_day'</span><span class=\"p\">])</span> <span class=\"o\">?</span> <span class=\"s1\">'1'</span> <span class=\"o\">:</span> <span class=\"s1\">'0'</span><span class=\"p\">),</span>\n                  <span class=\"s1\">'value'</span>       <span class=\"o\">=&gt;</span> <span class=\"p\">(</span><span class=\"nx\">$default_duration_all_day</span> <span class=\"o\">&amp;&amp;</span> <span class=\"o\">!</span><span class=\"nx\">isset</span><span class=\"p\">(</span><span class=\"nx\">$id</span><span class=\"p\">)</span> <span class=\"o\">&amp;&amp;</span> <span class=\"o\">!</span><span class=\"nx\">$drag</span><span class=\"p\">),</span>\n                  <span class=\"s1\">'disabled'</span>    <span class=\"o\">=&gt;</span> <span class=\"nx\">$disable_field</span><span class=\"p\">,</span>\n                  <span class=\"s1\">'class'</span>       <span class=\"o\">=&gt;</span> <span class=\"nx\">$class</span><span class=\"p\">);</span>\n\n  <span class=\"nx\">generate_checkbox</span><span class=\"p\">(</span><span class=\"nx\">$params</span><span class=\"p\">);</span>\n\n  <span class=\"nx\">echo</span> <span class=\"s2\">\"&lt;/div&gt;\\n\"</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/b19a150e/1d24/\"><div class=\"markdown_content\"><p>Thank you man!! Works fine now! I would like to reward you for your work. Is there any way that i make a donation? </p>\n<p>Anderson</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/305/", "title": "#305 Instalation results: 500 internal server error", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>After install latest version 1.4.11 the system results: \"500 internal server error\".</p>\n<p>I have already installed prior version 1.4.10 and works fine.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Are you getting any error messages in your PHP error log?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2bdc249d/7728/fa7c/\"><div class=\"markdown_content\"><p>PHP Warning: Module 'mailparse' already loaded in Unknown on line 0</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2bdc249d/7728/d1c5/\"><div class=\"markdown_content\"><p>Hello Morrison,</p>\n<p>Do you have some idea of what's going on with my installation? I really appreciated the system and i want use the new version, but i need your help if you can do it for me.</p>\n<p>As i said, the PHP error log returns: \"PHP Warning: Module 'mailparse' already loaded in Unknown on line 0\"</p>\n<p>Thank you very much.</p>\n<p>Anderson</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2bdc249d/7728/d1c5/277f/\"><div class=\"markdown_content\"><p>Thank you man! I fixed it!!</p>\n<p>Regards,</p>\n<p>Anderson</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2bdc249d/105c/\"><div class=\"markdown_content\"><p>PHP Warning:  Module 'mailparse' already loaded in Unknown on line 0</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/304/", "title": "#304 Demo fails - requests to upgrade database & denies access", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><a href=\"http://mrbs.sourceforge.net/mrbs/\">http://mrbs.sourceforge.net/mrbs/</a></p>\n<p>Login with demo1, demo2 or admin - result is a message saying the database needs to be upgraded, and access is denied for any of these accounts.</p>\n<p>Can't test the preview :(</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: John Beranek</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is now fixed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/303/", "title": "#303 Report duration not respecting per area configuration", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Set a room to an 8 hour day for an area.  User goes in and defines a booking over 12 days.  On the entry screen it shows 12 days times 8 hours.  However on the report page the duration is 12 days times 24 hours.  </p>\n<p>If the user does a repeat booking of 8 hours over the 12 days the duration on the reports page is correct.  </p>\n<p>Is this the way things are supposed to happen or do I need to make a config change for this?  </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No, it's not the way that it's supposed to happen and you're not missing a config change.   It's a bug, but fixing it requires a bit of thought about how the system should behave and what the booking day really is.</p>\n<p>Is the booking day a viewing window or is it a booking window?    In other words does the booking day define a slot through which one can view the underlying bookings?   Or does it define the slot within which one can only make bookings?</p>\n<p>As an example, if I were to make an \"all day\" booking in an area that has an 8 hour day defined, and then later the administrator redefines the area to have a 9 hour day, would you expect my booking to appear in the extra hour, or would the extra hour be empty, available for booking by somebody else?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Campbell thanks for answering.  Basically someone would come in and say we need to use this room for the next 5 weeks so they change the end date on add entry page.  They would then see 25 days and 8 hours per day.  There are so many people using it, it is hard to keep them trained on repeat booking usage.</p>\n<p>I only have our calendar set up to show those 8 hours so the calendar would be full and no one would be able to book that room the next 5 weeks.</p>\n<p>I usually run the reports off my own reporting engine but quite frankly I love the cross-tab reports you have set up and I can add extra fields easily.  That is why I have been using MRBS for 7 years and now just noticed this.  </p>\n<p>The expectation around the reporting is I have none.  It could work either way and I would be happy with that.  As long as I knew that #1 how you set it up is set in stone then that is cool and #2 if you change an area default then you change all underlying reports - that is cool too.  I guess if I had to pick I would take choice #2 but really a coin flip to me.  I would say whatever is easiest.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: David Moore 2014-07-01</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ah - I've had a closer look at this and see what the problem is.   I don't think it's a bug at all now.  The problem is one of interpretation.   When you see 12 days 8 hours on the edit_entry screen that's not 12 days times 8 hours, it's \"12 days, 8 hours\". In other words the total duration is correctly reported as 12 days and (plus) 8 hours.  This is consistent with the way it's presented in the reports.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>But it does mess up the reporting.  If I have a room that can only be used 8 hours a day then the data gets messed up if it shows 104 hours for a week.  When trying to do long term reports this really skews everything.  </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, I think you're right.   The reports should just show the time that the room can be used for.  I'll take a look at it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/302/", "title": "#302 booking becomes longer than defind 1 hour becomes 1.25", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>latest mrbs<br>\nwamp install</p>\n<p>i have time slots in 15 min intervals</p>\n<p>if i book a room for an hour the duration becomes 1.25 in the confirmation page<br>\ni need the end time to be the defind end time.</p>\n<p>can i change something to make the duration display the defined time.<br>\nour staff would be confused so this is the only thing stopping the installation from going live.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this I'm afraid.    Can you describe the steps to reproduce this a bit more?    How are you selecting an hour - by drag selecting on the day/week page or by using the select box on the edit_entry.php form?  What do you mean by the confirmation page?</p>\n<p>Also can you give your MRBS version (I know you said latest, but that could mean lots of things) and also PHP and MySQL/PostgreSQL versions?  (Information available on the Help page).</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/c737/\"><div class=\"markdown_content\"><p>not at work right now but downloaded mrbs 2 days ago<br/>\ni use the drag and select method</p>\n<p>if i select 8.00 until 9.00 in the booking confirmation page shows a duration of 1.25 hours</p>\n<p>the only thing i changed was the end time to 18:00 and the interval from 30 down to 15 in the area settings</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/6cee/\"><div class=\"markdown_content\"><p>confirmation page</p>\n<p>when you select your booking time by dragging over the time slots you then see a page confirming your booking</p>\n<p>time location you click the button at the bottom to save the booking.</p>\n<p>i will post screen shots tomorrow.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/be44/\"><div class=\"markdown_content\"><p>wamp downloaded 2 days ago so would say latest version</p>\n<p>will post exact details tomorrow am</p>\n<p>thanks for the quick reply</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/2211/\"><div class=\"markdown_content\"><p>Apache : 2.4.9 MySQL : 5.6.17 PHP : 5.5.12\u00a0</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The other interesting things to know would be (a) the browser and version you are seeing the problem with and (b) whether you have the slot times on the y-axis (the default) or along the x-axis.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/59bd/\"><div class=\"markdown_content\"><p>windows 7<br/>\nie9<br/>\nall settings default <br/>\nwill try in google chrome tomorrow</p>\n<p>i wont waste your time tonight i will post screen shots tomorrow</p>\n<p>do you need to see any of the config files<br/>\nthe areas and rooms were imported from your sample data and edited if that makes any difference</p>\n<p>thankyou again for your time</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK - I look forward to seeing the screen shots.  Don't need the config file at the moment.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/8251/\"><div class=\"markdown_content\"><p>Here are the details of my issue, hope the pdf has all the info you require</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/e7c6/\"><div class=\"markdown_content\"><p>I think the issue is that when i select 7-00 till 8-00 </p>\n<p>8-00 becomes the start of the last 15min block hence the 1.15 duration i need the 8-00 time to be the end of the booking and not the start of the last 15 min block</p>\n<p>i would like the the bookings to be displayed to the time defind and not the begging of the slot before this is a visual aid and not a bug in the project.</p>\n<p>hope this comes across correctly</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-06-06</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/7d02/\"><div class=\"markdown_content\"><p>Yes, you have selected five slots (highlighted in pink) so it has given you 1.25 hours. The times represent the start times of the slots.</p>\n<p>Campbell </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/4229/\"><div class=\"markdown_content\"><p>Can this be changed as i understand that it is not a bug but by design </p>\n<p>after looking at my system it is correct but sometime personally i ignore the slots and select by times 7-00 till 8-00</p>\n<p>if nothing can be done i will just ensure my training guide represents this understanding</p>\n<p>thank you Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/fc67/\"><div class=\"markdown_content\"><p>or could i turn off the drag and book facility</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/35ef/\"><div class=\"markdown_content\"><p>I'd be happy to change it if you could suggest a user interface that makes sense. I'll tell you how to disable drag and select later today or tomorrow.</p>\n<p>Campbell </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/e48e/\"><div class=\"markdown_content\"><p>your a star Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suppose one solution would be to have the times displayed as \"0800-0815\" etc. instead of \"0800\" etc.   Would that work?    It would take up a little more space on the screen but might be clearer.    Could be made a configurable option for those who don't want it.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>If in the short term you want to disable the drag and select booking then the easiest thing to do is to add a return at line 778 in the file js/resizable.js.php.   In other words the code would now look like this:</p>\n<div class=\"codehilite\"><pre><span></span>          <span class=\"cp\">&lt;?php</span>\n          <span class=\"c1\">// Turn all the empty cells where a new multi-cell selection</span>\n          <span class=\"c1\">// can be created by dragging the mouse</span>\n          <span class=\"cp\">?&gt;</span>     \n          <span class=\"nx\">table</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'td.new'</span><span class=\"p\">).</span><span class=\"nx\">each</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n              <span class=\"k\">return</span><span class=\"p\">;</span>  <span class=\"c1\">// add this line to disable drag and select</span>\n              <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'a'</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                  <span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">preventDefault</span><span class=\"p\">();</span>\n                <span class=\"p\">});</span>\n              <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">mousedown</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                  <span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">preventDefault</span><span class=\"p\">();</span>\n                  <span class=\"nx\">downHandler</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">);</span>\n                  <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">bind</span><span class=\"p\">(</span><span class=\"s1\">'mousemove'</span><span class=\"p\">,</span> <span class=\"nx\">moveHandler</span><span class=\"p\">);</span>\n                  <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">bind</span><span class=\"p\">(</span><span class=\"s1\">'mouseup'</span><span class=\"p\">,</span> <span class=\"nx\">upHandler</span><span class=\"p\">);</span>\n                <span class=\"p\">});</span>\n            <span class=\"p\">});</span>\n</pre></div>\n<p>I don't think it's worth making this into a configurable option as I can't see that it would be necessary if the time slot labelling was clearer.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/5b55/\"><div class=\"markdown_content\"><p>Thanks campbell for taking the time to help</p>\n<p>First class project</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Do you have a view on labelling the slots as 0800-0815, 0815-0830 etc. instead of 0800, 0815, etc.?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/fa4eb3fb/8617/\"><div class=\"markdown_content\"><p>you can close this now cambell as the staff need to get a grip and understand how calendars work.</p>\n<p>Thanks for your help</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/301/", "title": "#301 Reports case sensitive", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,</p>\n<p>1) In MRBS a user can login with an case insensitive username (not a problem).<br>\n2) In the reporting/user, the reporting results are not being merged, i.e. the same username is listed several times, depending the case used during login --&gt;</p>\n<p>Username: 1 meeting<br>\nusername: 1 meeting<br>\nUSERNAME= 1 meeting</p>\n<p>and not:<br>\nUsername: 3 meetings</p>\n<p>Can this be fixed?</p>\n<p>Thanks,<br>\nSven</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Would love to see this too.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/6c3e54e2/9dad/\"><div class=\"markdown_content\"><p>Hello,</p>\n<p>Any idea if and when this would be implemented, because at this moment our reports are useless? Thanks a lot for considering it!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>We have a case where bookings are made by one person on behalf of real bookers.<br/>\nThis person logs on MRBS with her own id and puts the name of the real booker in the short description. Of course, the short description is sometimes all uppercase, other times with accentuated characters, in \"camel case\" and whatever other variants she sees fit which make summarized reports a total mess. </p>\n<p>I did a quick and dirty fix in report.php somewhere around line 800 as follows :</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kd\">function</span> <span class=\"nx\">get_sumby_name_from_row</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"nx\">$row</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n  <span class=\"nx\">global</span> <span class=\"nx\">$sumby</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// Use brief description, created by or type as the name:</span>\n  <span class=\"k\">switch</span><span class=\"p\">(</span> <span class=\"nx\">$sumby</span> <span class=\"p\">)</span>\n  <span class=\"p\">{</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'d'</span><span class=\"o\">:</span>\n      <span class=\"nx\">$name</span> <span class=\"o\">=</span> <span class=\"nx\">$row</span><span class=\"p\">[</span><span class=\"s1\">'name'</span><span class=\"p\">];</span>\n      <span class=\"c1\">// MOD GJL - BEG</span>\n      <span class=\"c1\">// Clean the name, i.e get rid of accentuated characters, take what is on the left of \"/\" and \"uppercase\" it</span>\n      <span class=\"nx\">$name</span> <span class=\"o\">=</span> <span class=\"nx\">strtr</span><span class=\"p\">(</span><span class=\"nx\">strtoupper</span><span class=\"p\">(</span><span class=\"nx\">$name</span><span class=\"p\">),</span> <span class=\"nx\">array</span><span class=\"p\">(</span>\n        <span class=\"s2\">\"\u00e0\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"A\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00e8\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"E\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00ec\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"I\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00f2\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"O\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00f9\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"U\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"\u00e1\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"A\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00e9\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"E\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00ed\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"I\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00f3\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"O\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00fa\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"U\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"\u00e2\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"A\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00ea\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"E\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00ee\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"I\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00f4\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"O\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00fb\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"U\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"\u00e4\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"A\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00eb\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"E\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00ef\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"I\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00f6\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"O\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00fc\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"U\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"\u00c0\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"A\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00c8\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"E\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00cc\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"I\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00d2\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"O\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00d9\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"U\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"\u00c1\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"A\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00c9\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"E\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00cd\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"I\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00d3\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"O\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00da\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"U\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"\u00c2\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"A\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00ca\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"E\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00ce\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"I\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00d4\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"O\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00db\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"U\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"\u00c4\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"A\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00cb\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"E\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00cf\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"I\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00d6\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"O\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00dc\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"U\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"\u00e7\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"\u00c7\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\u00ff\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"Y\"</span><span class=\"p\">));</span> \n      <span class=\"nx\">$pos</span> <span class=\"o\">=</span> <span class=\"nx\">strpos</span><span class=\"p\">(</span><span class=\"nx\">$name</span><span class=\"p\">,</span> <span class=\"s2\">\"/\"</span><span class=\"p\">);</span>\n      <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">$pos</span> <span class=\"o\">===</span> <span class=\"nx\">FALSE</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">$name</span> <span class=\"o\">=</span> <span class=\"nx\">trim</span><span class=\"p\">(</span><span class=\"nx\">strstr</span><span class=\"p\">(</span><span class=\"nx\">$name</span><span class=\"p\">,</span> <span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"kc\">true</span><span class=\"p\">));</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// MOD GJL - END</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'t'</span><span class=\"o\">:</span>\n      <span class=\"nx\">$name</span> <span class=\"o\">=</span> <span class=\"nx\">get_type_vocab</span><span class=\"p\">(</span><span class=\"nx\">$row</span><span class=\"p\">[</span><span class=\"s1\">'type'</span><span class=\"p\">]);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'c'</span><span class=\"o\">:</span>\n    <span class=\"k\">default</span><span class=\"o\">:</span>\n      <span class=\"nx\">$name</span> <span class=\"o\">=</span> <span class=\"nx\">$row</span><span class=\"p\">[</span><span class=\"s1\">'create_by'</span><span class=\"p\">];</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n  <span class=\"k\">return</span> <span class=\"nx\">escape</span><span class=\"p\">(</span><span class=\"nx\">$name</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</pre></div>\n<p>I'm sure there are better ways to do this and mostly only the french the accentuated letters are taken into account and will have to be adapted to other languages (unless there an inbuilt PHP functions that takes care of this).</p>\n<p>The above can be used for the \"username\" case ($row<span>['create_by']</span> ?) of the same function which would solve your problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Treblig 2014-12-02</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/6c3e54e2/3355/\"><div class=\"markdown_content\"><p>Treblig: Thanks a lot, is working like a charm!<br/>\nHope that it will be included in one of the future code releases as well.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Possible in PHP, but only with PHP &gt;= 5.3.0 and with the intl extension enabled. Also needs to be applied for a specific locale, but that could presumably be the user's locale.</p>\n<p>e.g.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">$</span><span class=\"nt\">coll</span> <span class=\"o\">=</span> <span class=\"nt\">collator_create</span><span class=\"o\">(</span><span class=\"s2\">\"fr_FR\"</span><span class=\"o\">);</span>\n<span class=\"nt\">collator_set_strength</span><span class=\"o\">($</span><span class=\"nt\">coll</span><span class=\"o\">,</span> <span class=\"nt\">Collator</span><span class=\"p\">::</span><span class=\"nd\">PRIMARY</span><span class=\"o\">);</span>\n<span class=\"nt\">echo</span> <span class=\"nt\">collator_compare</span><span class=\"o\">($</span><span class=\"nt\">coll</span><span class=\"o\">,</span> <span class=\"s2\">\"CAf\u00e9\"</span><span class=\"o\">,</span> <span class=\"s2\">\"caFe\"</span><span class=\"o\">);</span>\n</pre></div>\n<p>Gives the output '0' telling you that \"CAf\u00e9\" and \"caFe\" can be considered identical.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: John Beranek 2014-12-15</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think it should also be possible to shift the task of ignoring accents and cases to the SQL query using \"COLLATE utf8_general_ci\".</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2014-12-15</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>@Anonymous : happy it helps. Don't trust my coding though, I'm not a \"real\" developer. You'd probably trust John's or Campbell's solutions above rather than mine which is bound to fall short for many languages. This said I don't know how to use either of their solutions ;-)</p>\n<p>@John Beranek &amp; Campbell : thanks for your inputs, it may help people who know what they are doing. As stated earlier, while I'm occasionally putting my hands under the PHP bonnet, I'm galaxies away from you guys when it comes to trusted knowledge of PHP (and MySQL for that matter) therefore I'm not too sure how I would implement either of your solutions.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/300/", "title": "#300 Problem with resizing bookings in IE", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I've noticed that there's sometimes a problem with resizing bookings when using IE.   It happened to me when I tried to resize from the bottom a booking that extended all the way to the bottom in the Day view.   It didn't happen for all the rooms (columns) however.   Not only could I not resize the booking, I found that the colour key was shifted downwards while I was trying to resize it.</p>\n<p>I'll investigate in the next couple of weeks.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have fixed the problem of the colour key shifting downwards in Rev 2836.   The other problem remains.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Rev 2837.   See also <a href=\"https://sourceforge.net/p/mrbs/bugs/293/\">https://sourceforge.net/p/mrbs/bugs/293/</a></p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/299/", "title": "#299 too many carriage returns in ics files", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><span>[Transferred from the mailing list]</span></p>\n<p>Hi</p>\n<p>There may be a bug in MRBS' way of how timezone data is stored in mrbs_zoneinfo.vtimezone.<br>\nWhen I run a mysql mrbs -e 'select * from mrbs_zoneinfo' &gt; output.txt I receive a one-liner that looks like this in vi: </p>\n<p>id      timezone        outlook_compatible      vtimezone       last_updated<br>\n1       Europe/Zurich   1       BEGIN:VTIMEZONE^M^M\\nTZID:Europe/Zurich^M^M\\nTZURL:http://tzurl.org/zoneinfo-outlook/Europe/Zurich^M^M\\nX-LIC-LOCATION:Europe/Zurich^M^M\\nBEGIN:DAYLIGHT^M^M\\nTZOFFSETFROM:+0100^M^M\\nTZOFFSETTO:+0200^M^M\\nTZNAME:CEST^M^M\\nDTSTART:19700329T020000^M^M\\nRRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU^M^M\\nEND:DAYLIGHT^M^M\\nBEGIN:STANDARD^M^M\\nTZOFFSETFROM:+0200^M^M\\nTZOFFSETTO:+0100^M^M\\nTZNAME:CET^M^M\\nDTSTART:19701025T030000^M^M\\nRRULE:FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU^M^M\\nEND:STANDARD^M^M\\nEND:VTIMEZONE     1396361075<br>\n2       Europe/Zurich   0       BEGIN:VTIMEZONE^M^M\\nTZID:Europe/Zurich^M^M\\nTZURL:http://tzurl.org/zoneinfo/Europe/Zurich^M^M\\nX-LIC-LOCATION:Europe/Zurich^M^M\\nBEGIN:DAYLIGHT^M^M\\nTZOFFSETFROM:+0100^M^M\\nTZOFFSETTO:+0200^M^M\\nTZNAME:CEST^M^M\\nDTSTART:19810329T020000^M^M\\nRRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU^M^M\\nEND:DAYLIGHT^M^M\\nBEGIN:STANDARD^M^M\\nTZOFFSETFROM:+0200^M^M\\nTZOFFSETTO:+0100^M^M\\nTZNAME:CET^M^M\\nDTSTART:19961027T030000^M^M\\nRRULE:FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU^M^M\\nEND:STANDARD^M^M\\nBEGIN:STANDARD^M^M\\nTZOFFSETFROM:+003408^M^M\\nTZOFFSETTO:+002944^M^M\\nTZNAME:BMT^M^M\\nDTSTART:18480912T000000^M^M\\nRDATE:18480912T000000^M^M\\nEND:STANDARD^M^M\\nBEGIN:STANDARD^M^M\\nTZOFFSETFROM:+002944^M^M\\nTZOFFSETTO:+0100^M^M\\nTZNAME:CET^M^M\\nDTSTART:18940601T000000^M^M\\nRDATE:18940601T000000^M^M\\nEND:STANDARD^M^M\\nBEGIN:DAYLIGHT^M^M\\nTZOFFSETFROM:+0100^M^M\\nTZOFFSETTO:+0200^M^M\\nTZNAME:CEST^M^M\\nDTSTART:19410505T010000^M^M\\nRDATE:19410505T010000^M^M\\nRDATE:19420504T010000^M^M\\nEND:DAYLIGHT^M^M\\nBEGIN:STANDARD^M^M\\nTZOFFSETFROM:+0200^M^M\\nTZOFFSETTO:+0100^M^M\\nTZNAME:CET^M^M\\nDTSTART:19411006T020000^M^M\\nRDATE:19411006T020000^M^M\\nRDATE:19421005T020000^M^M\\nRDATE:19810927T030000^M^M\\nRDATE:19820926T030000^M^M\\nRDATE:19830925T030000^M^M\\nRDATE:19840930T030000^M^M\\nRDATE:19850929T030000^M^M\\nRDATE:19860928T030000^M^M\\nRDATE:19870927T030000^M^M\\nRDATE:19880925T030000^M^M\\nRDATE:19890924T030000^M^M\\nRDATE:19900930T030000^M^M\\nRDATE:19910929T030000^M^M\\nRDATE:19920927T030000^M^M\\nRDATE:19930926T030000^M^M\\nRDATE:19940925T030000^M^M\\nRDATE:19950924T030000^M^M\\nEND:STANDARD^M^M\\nBEGIN:STANDARD^M^M\\nTZOFFSETFROM:+0100^M^M\\nTZOFFSETTO:+0100^M^M\\nTZNAME:CET^M^M\\nDTSTART:19810101T000000^M^M\\nRDATE:19810101T000000^M^M\\nEND:STANDARD^M^M\\nEND:VTIMEZONE       1397650421</p>\n<p>Please note the double ctrl-M. According to this the ics file looks like this. When this is sent to an IBM Domino server the mail automatically receives status 'deleted' (this in turn may be a Domino bug). </p>\n<p>BEGIN:VCALENDAR<br>\nPRODID:-//MRBS//NONSGML MRBS 1.4.10 //EN<br>\nVERSION:2.0<br>\nCALSCALE:GREGORIAN<br>\nMETHOD:REQUEST<br>\nBEGIN:VTIMEZONE</p>\n<p>TZID:Europe/Zurich</p>\n<p>TZURL:http://tzurl.org/zoneinfo-outlook/Europe/Zurich</p>\n<p>X-LIC-LOCATION:Europe/Zurich</p>\n<p>BEGIN:DAYLIGHT</p>\n<p>TZOFFSETFROM:+0100</p>\n<p>TZOFFSETTO:+0200</p>\n<p>TZNAME:CEST</p>\n<p>DTSTART:19700329T020000</p>\n<p>RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU</p>\n<p>END:DAYLIGHT</p>\n<p>BEGIN:STANDARD</p>\n<p>TZOFFSETFROM:+0200</p>\n<p>TZOFFSETTO:+0100</p>\n<p>TZNAME:CET</p>\n<p>DTSTART:19701025T030000</p>\n<p>RRULE:FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU</p>\n<p>END:STANDARD</p>\n<p>END:VTIMEZONE<br>\nBEGIN:VEVENT<br>\nUID:MRBS-5357582d39564-fb15b8fe@booking.business.uzh.ch<br>\nDTSTAMP:20140423T065523Z<br>\nLAST-MODIFIED:20140423T060533Z<br>\nDTSTART;TZID=Europe/Zurich:20140430T070000<br>\nDTEND;TZID=Europe/Zurich:20140430T080000<br>\nSUMMARY:Angewandte Relativit\u00e4tstheorie<br>\nDESCRIPTION:Beschreibung: Das ist ein Test\\nBest\u00e4tigungsstatus: vorl\u00e4ufig<br>\n \\nGenehmigungsstatus: Genehmigung ausstehend\\nRaum: PLM - 103/104\\nAnfangs<br>\n datum: 07:00:00 - Mittwoch 30 April 2014\\nDauer: 1 Stunden\\nEnddatum: 08:0<br>\n 0:00 - Mittwoch 30 April 2014\\nKategorie: Intern\\nErstellt von: hmust\\nLet<br>\n zte \u00c4nderung: 08:05:33 - Mittwoch 23 April 2014\\nLehrstuhl: Einstein\\nTel<br>\n efon: 45913\\nKontakt Name: Alfred Einstein\\nSerientyp: Keine\\n<br>\nX-ALT-DESC;FMTTYPE=text/html:\\n\\n\\n<br>\\n\\n\\n\\n&lt;td</p><p></p><blockquote>\n<p>vorl\u00e4ufig\\n</p></blockquote>\\n\\n\\n\\n\\n\\n\\n\\n&lt;<br>\n /tr&gt;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n&lt;t d=\"\"&gt;Kategorie:\\n\\n\\n\\n\\n&lt;<br>\n td&gt;hmust\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n<br>\n \\n\\n\\n\\n <table><tbody><tr><td>Beschreibung:</td>\n <td>Das ist ein Test</td></tr><tr><td>Best\u00e4tigungsstatus:</td>\n</tr><tr><td>Genehmigungsstatus:</td><td>Genehmigu<br>\n ng ausstehend</td></tr><tr><td>Raum:</td><td>PLM - 103/104</td></tr><tr><td>Anfangsdatum:</td><td>07:00:00 - Mittwoch 30 April 2014&lt;<br>\n /td&gt;\\n</td></tr><tr><td>Dauer:</td><td>1 Stunden</td></tr><tr><td>E<br>\n nddatum:</td><td>08:00:00 - Mittwoch 30 April 2014</td></tr><tr><td>Intern</td></tr><tr><td>Erstellt von:</td></tr><tr><td>Letzte \u00c4nderung:</td><td>08:05:33 - Mit<br>\n twoch 23 April 2014</td></tr><tr><td>Lehrstuhl:</td><td>Einstein\\n</td></tr><tr><td>Telefon:</td><td>45913</td></tr><tr><td>Kont<br>\n akt Name:</td><td>Alfred Einstein</td></tr><tr><td>Serientyp:</td><td>Keine</td></tr></tbody></table><br>\nLOCATION:PLM - 103/104<br>\nSEQUENCE:0<br>\nSTATUS:TENTATIVE<br>\nORGANIZER;CN=\"hmust\":mailto:my@email.adress.ch<br>\nEND:VEVENT<br>\nEND:VCALENDAR<p></p>\n\n<p>I believe RFC 2445 states that lines are separated by one CRLF and not by a double CR.</p>\n<p>Many thanks for looking into this.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Strange.  Yes, you're right, the RFC requires one CRLF, but as far as I can see MRBS is just using one, correctly.    I've run the attached test program on my system and get the output I expect, ie </p>\n<p>66 (B)<br/>\n69 (E)<br/>\n71 (G)<br/>\n73 (I)<br/>\n78 (N)<br/>\n58 (:)<br/>\n86 (V)<br/>\n84 (T)<br/>\n73 (I)<br/>\n77 (M)<br/>\n69 (E)<br/>\n90 (Z)<br/>\n79 (O)<br/>\n78 (N)<br/>\n69 (E)<br/>\n13<br/>\n10<br/>\n84 (T)<br/>\n90 (Z)<br/>\n73 (I)<br/>\netc.</p>\n<p>Can you run it on your system please (you'll need to put it in the MRBS directory as it uses some MRBS include files) and let me know what the output is, ie whether you're getting a double CR?  If there is a double CR then we'll have to work out how they got there.  If not, then how they're being inserted later.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e56dedc1/56c7/\"><div class=\"markdown_content\"><p>Hi Campell</p>\n<p>thanks for your quick response. Please find the output of test.php attached.</p>\n<p>Thanks,<br/>\nPhilipp</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.   So, yes, the double CR is already in the database.  Two things:  (1) what versions of MRBS, PHP and MySQL are you using (answers on the Help page)? and (2) can you empty the vtimezone table and then export an entry from MRBS, which will force a new entry to be inserted in the table, and then re-run the test and let me know the output.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e56dedc1/3f48/\"><div class=\"markdown_content\"><p>System Info:<br/>\nRaumbuchungssystem: MRBS 1.4.10<br/>\nDatenbank:  MySQL 5.5.35-0ubuntu0.12.04.2-log<br/>\nSystem: Linux ibwcloud 3.2.0-60-generic #91-Ubuntu SMP Wed Feb 19 03:54:44 UTC 2014 x86_64<br/>\nServerzeit: Mit 23 Apr 2014 13:03:12 CEST<br/>\nPHP:    5.3.10-1ubuntu3.11</p>\n<p>Please find attached the new output of test.php.</p>\n<p>Philipp</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Here's a new test program.   This time it checks the contents of the timezone definition in the filesystem.   Could you let me know the output please?</p>\n<p>Thanks,</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e56dedc1/0b46/\"><div class=\"markdown_content\"><p>I've attached the output.</p>\n<p>thank you.</p>\n<p>Philipp</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.   The problem is that the timezone definitions in the standard release distribution have the double CR.  I suspect that this is caused by an incorrect EOL property setting in Subversion.   I will look into this and fix it for the next release.  In the meantime you can patch your system by replacing the tzurl directory on your webserver with the one attached here.   Then empty the vtimezone table again in your database in order to force the new definitions to be used.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2014-04-23</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e56dedc1/a3b1/\"><div class=\"markdown_content\"><p>Thank you, Campbell! <br/>\nNow I guess it's up to IBM to fix the still not arriving ics emails generated by MRBS. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This may help <a href=\"https://sourceforge.net/p/mrbs/support-requests/317/\">https://sourceforge.net/p/mrbs/support-requests/317/</a></p>\n<p>I never did look into the problem with Lotus Notes in detail, but from what I remember it seemed that Lotus isn't obeying the RFC.   It's probably going to be quicker to put a circumvention into MRBS.  I might take another look at it somehow, the only problem being that I don't have a Lotus system to test with.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e56dedc1/936c/\"><div class=\"markdown_content\"><p>Hello all,</p>\n<p>I have not studied in detail Philipp\u2019s post.</p>\n<p>Either indirectly or directly related, I would like to point out that when I import the .ics file included in the MRBS 1.4.9 email notifications into Google Calendar, the file is successfully imported instantly and all content including time and timezone are displayed correctly.</p>\n<p>Regards,<br/>\nRobert</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e56dedc1/2549/\"><div class=\"markdown_content\"><p>I hope I did the right changes. Pls see below. If yes, then there's no change. MRBS mails containing ics files don't arrive in my Notes Mailbox.<br/>\nHowever, this is only true for emails with ics files. <br/>\nMRBS mails without ics file arrive just well as well as emails that were sent to another mail system with ics files attached and then forwarded to the Domino server.</p>\n<p>--- functions_mail.inc-orig     2014-04-23 15:28:33.006939691 +0200<br/>\n+++ functions_mail.inc  2014-04-23 15:30:01.548129355 +0200<br/>\n@@ -976,7 +976,7 @@ function notifyAdminOnBooking($data, $ma<br/>\n   $attachment = array();<br/>\n   if ($mail_settings<span>['icalendar']</span> &amp;&amp; !$enable_periods)<br/>\n   {<br/>\n-    $attachment<span>['method']</span>   = \"REQUEST\";<br/>\n+    $attachment<span>['method']</span>   = \"PUBLISH\";<br/>\n     $ical_components = array();<br/>\n     $ical_components[] = create_ical_event($attachment<span>['method']</span>, $data, $text_body, $html_body, $addresses, $series);<br/>\n     $attachment<span>['content']</span>  = create_icalendar($attachment<span>['method']</span>, $ical_components);</p>\n<p>--- functions_ical.inc-orig     2014-04-23 15:28:22.638800363 +0200<br/>\n+++ functions_ical.inc  2014-04-23 15:29:04.831367291 +0200<br/>\n@@ -1217,7 +1217,7 @@ function export_icalendar(&amp;$res, $keep_p<br/>\n     }<br/>\n   }<br/>\n   // Build the iCalendar from the array of events and output it<br/>\n-  $icalendar = create_icalendar(\"REQUEST\", $ical_events);<br/>\n+  $icalendar = create_icalendar(\"PUBLISH\", $ical_events);<br/>\n   echo $icalendar;<br/>\n }</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, those were the right changes.   Strange that forwarding via another mail system works OK.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e56dedc1/f8fd/\"><div class=\"markdown_content\"><p>Hi Robert </p>\n<p>I agree. I made the same experience as you sending to google mail or to my own mail service which is dovecot/postfix based. It's a different experience however with Domino. I believe it's a Domino problem. Anyhow, CRCRLF in ical files is not RFC compliant. Fixing this is necessary, I believe.</p>\n<p>Philipp</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The files were correct in MRBS 1.4.9, which may be why Robert did not see the problem.  The extra CR was introduced in 1.4.10 somehow.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Well I've installed the IBM Notes client Social Edition Release 9.0.1 and everything works OK there when I point it at a non-Domino server.   So I suspect the problem is indeed a Domino problem of some kind.  Over to IBM.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It would be helpful to know if you get the same problem with Domino if you generate an appointment using another calendar program, eg Google Calendar or Outlook.   If you do, then it's almost certainly a Domino problem.  If not, then it may be an MRBS problem.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e56dedc1/9f9a/\"><div class=\"markdown_content\"><p>Hi </p>\n<p>It's the last body part of multipart/alternative.<br/>\nWhen I comment this code in functions_mail.inc emails arrive in my Domino mailbox. Since this code works with other mail systems do believe it's a Domino bug. Maybe you have an idea what could be wrong?</p>\n<p>1262     // Otherwise we need to carry on and add the text version of the iCalendar<br/>\n1263     $mime_params<span>['content_type']</span> = \"text/calendar; method=\" . $attachment<span>['method']</span>;<br/>\n1264     // The encoding needs to be base64, because Postfix will otherwise not preserve<br/>\n1265     // CRLF sequences and these are mandatory terminators in the iCalendar file<br/>\n1266     $mime_params<span>['encoding']</span> = \"base64\";<br/>\n1267     $mime_inner-&gt;addSubPart($attachment<span>['content']</span>, $mime_params);</p>\n<p>Thanks,<br/>\nPhilipp</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Could you try creating an event in Google Calendar and inviting somebody with a Domino mailbox and see if that works?   If it does then I can try and narrow down the differences between a Google and an MRBS .ics file.   If it doesn't, then it looks like a Domino problem, though some circumvention might be possible along the lines you suggest above.  (If you don't have a Google account let me have your email address off-list and I'll generate an event).</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e56dedc1/3859/\"><div class=\"markdown_content\"><p>I did as you asked and yes, it works with Google Calendar and Domino. </p>\n<p>Philipp</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, thanks.  I'll try and work out what the difference is then between a Google file and an MRBS file.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e56dedc1/2153/\"><div class=\"markdown_content\"><p>Let me know if you need a domino account for testing.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes please, that would save a lot of time.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e56dedc1/b9da/\"><div class=\"markdown_content\"><p>Ok, please send me your email address to <span>[snipped]</span>. I will send you the credentials to the university's system.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2014-04-26</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Well I now understand what's happening.   The problem is that if the ORGANIZER of the VEVENT has the same email address as the Domino recipient then Domino doesn't bother showing the email or the calendar entry - presumably because it assumes you know about the event already.   If you make the booking under another name and set say the Domino email address as the MRBS admin then the email arrives correctly.</p>\n<p>I'll have a think about what can be done to get round this problem.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think the easiest thing to do is to make the organizer MRBS, or the 'from' address.   If you're running MRBS 1.4.10 then you can patch your system by commenting out line 920 in functions_ical.inc:</p>\n<div class=\"codehilite\"><pre><span></span>  // $organizer_email = get_email_address($data['create_by']);\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/298/", "title": "#298 style.inc sets robots noindex but not nofollow", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,</p>\n<p>While preparing a robots.txt to prevent unnecessary crawling of our MRBS installation, I noticed MRBS sets the robots meta tag for noindex but not nofollow.  Is this omission intentional?  Without nofollow, the crawler wanders endlessly into past/future calendars, but never indexes anything.  The only exception I can think of is if a reservation links to off-site content, but I wouldn't expect MRBS to hold the only reference to such content.</p>\n<p>It seems like style.inc should set the robots meta tag to \"noindex,nofollow\" instead, to prevent crawling entirely.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed this in Rev 2832.   The other exception I can see is the link from the header to the organisations's home page, but again that won't be the only reference to it and it doesn't seem worth the overhead of adding a rel=\"nofollow\" attribute to all internal links.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/297/", "title": "#297 A long Thai string cannot be saved as name", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>At edit_entry, I fill this string \"\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32x\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32\u0e01\u0e32\" in name box and then the system denied to save the entry.</p>\n<p>I found that it was because edit_entry_handler.php use substr that is not unaware of UTF-8 string.</p>\n<p>I used MRBS 1.4.10.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This problem has already been fixed in the trunk (Rev 2766, 18 Oct 2013).   You can easily patch your system by changing line 316 of edit_entry_handler.php from</p>\n<div class=\"codehilite\"><pre><span></span>$name = substr($name, 0, $maxlength['entry.name']);\n</pre></div>\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span>$name = utf8_substr($name, 0, $maxlength['entry.name']);\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/cf1ddbca/5683/\"><div class=\"markdown_content\"><p>\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e08\u0e33\u0e19\u0e27\u0e19 \u0e15\u0e31\u0e27\u0e23\u0e31\u0e1a\u0e04\u0e48\u0e32\u0e17\u0e35\u0e48 \u0e1f\u0e34\u0e27 mysql \u0e43\u0e2b\u0e49\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e23\u0e31\u0e1a\u0e04\u0e48\u0e32\u0e44\u0e14\u0e49\u0e21\u0e32\u0e01\u0e02\u0e36\u0e49\u0e19 \u0e01\u0e49\u0e08\u0e30\u0e23\u0e31\u0e1a\u0e44\u0e14\u0e49\u0e21\u0e32\u0e01\u0e02\u0e36\u0e49\u0e19\u0e04\u0e23\u0e31\u0e1a</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This problem is fixed in MRBS 1.4.11.    However note that in 1.4.11 the name will be truncated.  If you want to be able to store longer strings you will need to increase the length of the var_char in the entry and repeat tables and increase the length of $maxlength<span>['entry.name']</span> in your config file.</p>\n<p>You can patch your 1.4.10 system by editing edit_entry_handler.php and changing substr() to utf8_substr()</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2015-02-25</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have just committed (Rev 3004) a change to the trunk which means that it's no longer necessary to set the $maxlength config variable as the maximum field lengths are now calculated automatically.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/296/", "title": "#296 Downloaded Zip Does NOT Install on Windows?", "status": "wont-fix", "labels": "Download File (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I've downloaded the zip file several times from your website but it will not install?  Why??</p>\n<p>Appreciate any help with this.</p>\n<p>Simon</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is not a bug.   It is not designed to install on a PC (if that's what you mean).   See <a href=\"https://sourceforge.net/p/mrbs/support-requests/494/\">https://sourceforge.net/p/mrbs/support-requests/494/</a></p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; wont-fix</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/295/", "title": "#295 PHP Warning:  mktime()", "status": "open", "labels": "mktime (1)\n          \n        \n          \n              php warning (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>My apache error log is full of php duplicate warnings:</p>\n<p>PHP Warning:  mktime(): It is not safe to rely on the system's timezone settings. You are <em>required</em> to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'UTC' for 'GMT/0.0/no DST' instead in /var/www/html/bookings/functions.inc on line 2313</p>\n<p>Not sure if this is my setup or anything that needs changing in MRBS to remove the warning or if safe to ignore.</p>\n<p>Using 1.4.10 of mrbs on centos 6.5</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is a bug in MRBS.  It has been fixed in the trunk since the 1.4.10 release.  You can solve the problem in any of the following three ways:</p>\n<p>(1) Downloading the latest version of MRBS from the trunk, or<br/>\n(2) Setting the timezone using date.timezone in your php.ini file, or<br/>\n(3) Patching your system by editing internalconfig.inc.php as follows:</p>\n<p>Replace lines 74 and 75 which look like this:</p>\n<div class=\"codehilite\"><pre><span></span>  $start_first_slot = get_start_first_slot(1, 1, 2000);  // 1 Jan 2000 free of DST changes\n  $start_last_slot  = get_start_last_slot(1, 1, 2000);\n</pre></div>\n<p>with the following:</p>\n<div class=\"codehilite\"><pre><span></span>  // Not safe to call get_start_first_slot() etc. here as the timezone won't necessarily have\n  // been set yet(although quite often it will have been by php.ini using date.timezone)\n  $start_first_slot = (($morningstarts * 60) + $morningstarts_minutes) * 60;\n  $start_last_slot = (($eveningends * 60) + $eveningends_minutes) * 60;\n  if ($start_last_slot &lt; $start_first_slot)\n  {\n    $start_last_slot += 60*60*24;\n  }\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/294/", "title": "#294 dbsys.inc fatal error", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Unable to connect to database table and found the following in the logs:<br>\n PHP Fatal error: require_once() <span>[<a href=\"../function.require\">function.require</a>]</span>: Failed opening required 'MySQL.inc' (include_path='.:/usr/lib/php:/usr/local/lib/php') in /home/dorcan5/public_html/mrbs/dbsys.inc on line 25.</p>\n<p>Can you help?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think it's the capitalisation of 'mysql' in your config file.  I suspect you have</p>\n<div class=\"codehilite\"><pre><span></span>$dbsys = 'MySQL';\n</pre></div>\n<p>when you should have</p>\n<div class=\"codehilite\"><pre><span></span>$dbsys = 'mysql';\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/bbfb6280/0b2b/\"><div class=\"markdown_content\"><p>Thanks. I tried both but have resolved the problem by performing a complete re-installation. I suspect a file had been corrupted during the download/unzip process.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/293/", "title": "#293 Draging an entry with mouse cause the reservation to jump to next room", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Dragging a reservation with the mouse in day view- just expanding the time slot - say from 2 to 3 hrs, results in having the reservation jumping to the next room. This does happen only in second up to forelast rooms, i.e not in the first room and not in the last room. Is there any tipp how to prevent his? (testing on local host , W7 with XAMMP).</p></div></div>\n  \n    <strong class=\"grid-18\">2 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/293/attachment/Bahnbelegung%20-%20Internet%20Explorer1-001.jpg\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/293/attachment/Bahnbelegung%20-%20Internet%20Explorer1-001.jpg/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/293/attachment/Bahnbelegung%20-%20Internet%20Explorer1-001.jpg\">Bahnbelegung - Internet Explorer1-001.jpg</a>\n        </div>\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/293/attachment/Bahnbelegung%20-%20Internet%20Explorer2-001.jpg\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/293/attachment/Bahnbelegung%20-%20Internet%20Explorer2-001.jpg/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/293/attachment/Bahnbelegung%20-%20Internet%20Explorer2-001.jpg\">Bahnbelegung - Internet Explorer2-001.jpg</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/89a8e4d2/c3c2/\"><div class=\"markdown_content\"><p>Sorry, If I did not use the right forum to capture this - thanks for a reply in advance , regrds Horst</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-03-30</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for reporting this.  I cannot reproduce this though.  To help me could you let me know:</p>\n<p>Which version of MRBS are you using?<br/>\nIt looks like you are using Internet Explorer - which version?<br/>\nIs the booking really moved - in other words is it still in the wrong room when you reload the page?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It's OK - I can reproduce it now in IE.   I will investigate.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Annoying!  The bug disappears if you turn on IE Developer Tools.   It's only there when Developer Tools is turned off.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/89a8e4d2/bfb4/\"><div class=\"markdown_content\"><p>Thanks for looking into it. I confirm it does not appear in firefox. Horst</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now fixed it in the trunk in Rev 2809.    I upgraded to the latest version of jQuery and the problem went away.</p>\n<p>The easiest way to patch your system is to replace line 32 in the file js.inc which looks like this</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;script</span> <span class=\"na\">type=</span><span class=\"s\">\"text/javascript\"</span> <span class=\"na\">src=</span><span class=\"s\">\"jquery/jquery-1.8.2.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n</pre></div>\n<p>by the two lines</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;script</span> <span class=\"na\">src=</span><span class=\"s\">\"http://code.jquery.com/jquery-1.11.0.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script</span> <span class=\"na\">src=</span><span class=\"s\">\"http://code.jquery.com/jquery-migrate-1.2.1.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n</pre></div>\n<p>Note that this solution uses the jQuery CDN as opposed to having jQuery on your server, and so relies on an external internet connection being available.   If you want to have jQuery hosted locally then you'll have to download the full set of MRBS files from the trunk.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>There are still some problems - although IE works OK now, it's difficult to grab hold of the edge of the booking on Firefox.   I'll keep working on it.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/89a8e4d2/3d7e/\"><div class=\"markdown_content\"><p>Thank you so far. Horst</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>My Firefox actually works OK now and I can grab the edges OK.  I think maybe I hadn't reloaded all the files before.   There is another bug I've found running on Firefox.   I understand why its happening though - just working on the best way to fix it.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/89a8e4d2/f930/\"><div class=\"markdown_content\"><p>Thanks for your efforts, Campell. I replaced the lines in js.inc with no results. I possibly did something wrong... <br/>\nMy ie is 11.0.9600.16476<br/>\nmy firefox does not allow the edge to grap either - firefox is 26.0</p>\n<p>How do I get a full set of \"new\" mrbs files from \"trunk\" ?<br/>\nAgain,  THANKS, Horst</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-02-09</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You can get a copy of the trunk from here <a href=\"http://sourceforge.net/p/mrbs/code/HEAD/tree/mrbs/\">http://sourceforge.net/p/mrbs/code/HEAD/tree/mrbs/</a></p>\n<p>If you have any problems let me know.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/89a8e4d2/e9bc/\"><div class=\"markdown_content\"><p>Thank you.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The problem was nothing to do with the jQuery version as I found it was still happening.    It turns out to be caused by IE for some reason not respecting the position: absolute property of the outline div.   Instead it gave it a relative position which caused it to appear somewhere to the bottom and right of the booking being resized.    This in turn caused IE to produce a vertical scrollbar, which then altered the table size but didn't alter the size of the booking.  This then led to the JavaScript calculating that the booking belonged to the next room.   (The appearance of the scrollbar also explains why it appeared to go away when Developer Tools was enabled - because the scrollbar was there in the first place and so the dimensions didn't change.)</p>\n<p>I've fixed the problem in Rev 2837 by adding !important to the property to stop IE overriding it - though I'm not sure why it does so in the first place.</p>\n<p>See also <a href=\"https://sourceforge.net/p/mrbs/bugs/300/\">https://sourceforge.net/p/mrbs/bugs/300/</a></p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2014-05-09</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/292/", "title": "#292 missing commas in array in internalconfig.inc.php lines 245 and 267", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>internalconfig.inc.php</p>\n<p>modified_by appears to be missing a comma after its addition to arrays in two areas</p>\n<p>lines 245 and 267 </p>\n<p>i run mrbs from svn and a recent up threw an error after trying to upgrade from the latest trunk. Adding commas fixed the errors and allowed upgrade.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ooops!  Fixed in Rev 2805.</p>\n<p>Thanks,</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/291/", "title": "#291 Repeat end date doesn't get updated when manually entered", "status": "open", "labels": "ui (1)\n          \n        \n          \n              date picker (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Setting the repeat end date only works if you click on the date in the JS date picker. Entering it manually doesn't throw an error but also doesn't change anything.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.  Actually the problem applies to all datepickers, not just the repeat end date.  Fixed in Rev 2804.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Perfect, just tested it and it works as expected now. Thank you!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/290/", "title": "#290 More info request should not include .ics attachment", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When using booking approval, a request by the admin for More Info should not include the .ics attachment.    The reason for this is that some email clients, eg Outlook, will ignore the text in the mail and just display the calendar entry.</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/289/", "title": "#289 Hiding fields from entry form", "status": "open", "labels": "Hide Fields (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi, I need to hide some fields from the entry form, fields that i don't need.<br>\nAny idea how can I do this?. Thnak you very much.</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/288/", "title": "#288 Export entry gives an ics files that is not valid ?", "status": "closed", "labels": "None", "priority": "4", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When export an ics file, using the export entry on de site.<br>\nIcal can not read the file. (osx)<br>\nI checked the ics file using a online ics checker.<br>\nAnd at the start there are 2 empty lines.</p>\n<p><strong><em> empty line<br>\n</em></strong> empty line<br>\nBEGIN:VCALENDAR<br>\nPRODID:-//MRBS//NONSGML MRBS 1.4.10 //EN</p>\n<p>Removing this lines fixed the problem.<br>\nWhere in the code can i find this ?</p>\n<p>gr. Hebus</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The code that produces this is in functions_ical.inc.  However I can't reproduce this problem.   Have you made any modifications to MRBS?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I modified mrbs a little but nothing from the export entry part.</p>\n<p>I now tested it using the last version of functions_ical.inc/view entry.php. Still 2 lines.<br/>\nAny idee, where i can look ?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>What happens if you produce a report in .ics format?  Do you still get those two empty lines?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I tested it.<br/>\nWhen i do an export in the overview page, ics file gives 2 empty lines.<br/>\nHtml version looks ok, cvs version also has 2 empty lines.</p>\n<p>gr. hebus</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suspect the problem may be that you have two empty lines before the &lt;?php at the beginning of one of the MRBS files.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good idee, looking in to it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/8c76d673/c70c/\"><div class=\"markdown_content\"><p>Another possibility is that you have some empty new lines after the last ?&gt; in your config file.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Using you last tip i found in my cas.php file empty lines at the end , i removed this one and tada :D.</p>\n<p>It looks to me very strange that this has influence on the export of the ics file ?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>If you have new lines after the closing ?&gt; then whatever's in the file will just be sent direct to output, so it'll appear at the beginning of your .ics file before the real content is sent by MRBS.   It's also there in your HTML output, but your browser will cope with it and so you won't see it.  However if you had full PHP error reporting turned on you'd see the error message \"Cannot modify header information - headers already sent\".</p>\n<p>Actually the closing ?&gt; is not necessary if there's nothing following it, so I'll think about just removing them all.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ty for the explanation.<br/>\nUntil next problem ;)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've now removed all the closing PHP tags in Rev 2784 to the trunk, so with luck this problem won't happen again.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/287/", "title": "#287 reject booking functionality broken", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>while setting up the approve/reject functionality on or booking system, we found that the functionality for rejecting bookings is slightly broken.</p>\n<p>if the view entry page is accessed by clicking a 'reject' button (either on the pending page or the view entry page), it should display a second 'reject' button and a text entry area for providing a rejection reason.</p>\n<p>it seems this does not happen, as the area id is not supplied to the page.</p>\n<p>i made a couple of minor tweaks to pending.php and view_entry.php, which cause the area id to be sent, and then everything works perfectly.</p>\n<p>i can provide the changes i made if required.</p>\n<p>thanks,</p>\n<p>richard</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This has already been fixed in the trunk in Rev 2760.   See also <a href=\"https://sourceforge.net/p/mrbs/support-requests/356/\">https://sourceforge.net/p/mrbs/support-requests/356/</a></p>\n<p>Thanks all the same!</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/efad7feb/7314/\"><div class=\"markdown_content\"><p>that's fantastic news.</p>\n<p>apologies for the duplication - i'm thought i had searched the bugs.. never mind.</p>\n<p>thanks again for your help, and the excellent software.</p>\n<p>richard</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/286/", "title": "#286 Multiple days in day view 30-90", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I am trying to develop a grid view for all rooms in an area.  So basically it looks just like the days view (with rooms at top) but with a lot of days - I would like to do somewhere between 30 and 90.  Has anyone done this?  </p>\n<p>Also if the powers that be can start me off on the right track of exploding the days down the left hand side (using the function day_table_innerhtml or whatever they feel is the right way) I will gladly work on the formatting of the large amount of data and css.  </p>\n<p>thanks in advance</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/285/", "title": "#285 Entered dates for multi-day meetings don't work in 1.4.10", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>After upgrading from 1.4.7 to 1.4.10, textually entering the end date for a meeting &gt; 1 day has no effect. Clicking on the calender works.</p>\n<p>Example:</p>\n<p>Make an entry from 4pm on 11/18/2013. The end time defaults to 1 hour (5pm). Now change the end date from 11/18/2013 to 11/19/2013 by changing the day from 18 to a 19 (enter the text). The end time doesn't change. I tried hitting a tab - no effect. When you click on the calendar the end time does change to 1 day and one hour.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Rev 2804.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/284/", "title": "#284 Not able to add users in 1.4.10", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I am using:</p>\n<p>$auth<span>[\"session\"]</span> = \"host\";<br>\n$auth<span>[\"type\"]</span> = \"db\";</p>\n<p>Host authentication takes in session uid from SAML - this works fine on every other part of version 1.4.10.  Then authenticates based on uid=username on the database.  I have this working perfectly with 1.4.09.</p>\n<p>In version 1.4.10 edit_users.php I can add the first user and update that user except for its rights.  When I try to add another user it goes through the entire process, with no php errors but never adds the user to db - again no errors.  When I take the edit_users.php version 1.4.09 it allows me to add or edit new users based on perms... albeit with a lot of warnings because it looks like there were a lot of changes to the file in new version.  </p>\n<p>thanks<br>\nDave</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is the mail system at host home.redux.org.uk.</p>\n<h6></h6>\n<h1 id=\"this-is-a-warning-only-you-do-not-need-to-resend-your-message\">THIS IS A WARNING ONLY.  YOU DO NOT NEED TO RESEND YOUR MESSAGE.</h1>\n<h6></h6>\n<p>Your message could not be delivered for more than 1 hour(s).<br/>\nIt will be retried until it is 5 day(s) old.</p>\n<p>For further assistance, please send mail to postmaster.</p>\n<p>If you do so, please include this problem report. You can<br/>\ndelete your own text from the attached returned message.</p>\n<div class=\"codehilite\"><pre><span></span>               The mail system\n</pre></div>\n<p><a href=\"mailto:jberanek@localhost.redux.org.uk\">jberanek@localhost.redux.org.uk</a> (expanded from <a href=\"mailto:jberanek@localhost\">jberanek@localhost</a>):<br/>\n    delivery temporarily suspended: connect to 127.0.0.1<span>[127.0.0.1]</span>:10024:<br/>\n    Connection refused</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is the mail system at host home.redux.org.uk.</p>\n<h6></h6>\n<h1 id=\"this-is-a-warning-only-you-do-not-need-to-resend-your-message\">THIS IS A WARNING ONLY.  YOU DO NOT NEED TO RESEND YOUR MESSAGE.</h1>\n<h6></h6>\n<p>Your message could not be delivered for more than 1 hour(s).<br/>\nIt will be retried until it is 5 day(s) old.</p>\n<p>For further assistance, please send mail to postmaster.</p>\n<p>If you do so, please include this problem report. You can<br/>\ndelete your own text from the attached returned message.</p>\n<div class=\"codehilite\"><pre><span></span>               The mail system\n</pre></div>\n<p><a href=\"mailto:jberanek@localhost.redux.org.uk\">jberanek@localhost.redux.org.uk</a> (expanded from <a href=\"mailto:jberanek@localhost\">jberanek@localhost</a>):<br/>\n    delivery temporarily suspended: connect to 127.0.0.1<span>[127.0.0.1]</span>:10024:<br/>\n    Connection refused</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9a3e4e6e/8824/\"><div class=\"markdown_content\"><p>It seems that the whole form is not working at all.  I can basically put anything into any field and it just moves on through doing nothing - example is password matching.  Nothing saves to database even though it returns to the main screen - the main screen resolves fine.  The only thing that I can do is edit whoever is logged in's email address...  Again if I switch to 1.4.09 edit_users I get a bunch of \"illegal string offset\" warnings but it does allow for proper add and update of information based on the user's credentials. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9a3e4e6e/9840/\"><div class=\"markdown_content\"><p>The edit_users.php from the linked_bookings branch works.  Not sure which one is newer but the 1.4.10 has an issue somewhere and not getting errors.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9a3e4e6e/9b09/\"><div class=\"markdown_content\"><p>The 1.4.10 version is newer.   The only difference between those two versions is that in 1.4.10 the database column names are quoted (`` in MySQL and \"\" in PostgreSQL) in the SQL query updating the database.  Previously they hadn't been quoted because it was thought unnecessary due to the restrictions on the naming of custom fields.   However using an SQL reserved word as a custom field name causes an SQL error unless you have the quoting.</p>\n<p>Do you have some custom fields in your users table?   If so, what are they called?   And what database and version are you using?  My guess is also that you are getting an SQL error in your error log.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9a3e4e6e/98d2/\"><div class=\"markdown_content\"><p>I originally had the custom field set up as uid (and then tried first_last) but I thought that may have been the issue too so took it out completely to test.  Still had the issue.  </p>\n<p>MRBS 1.4.10<br/>\nDatabase:   MySQL 5.5.12<br/>\nSystem: Windows NT NYCS02TWEB 5.2 build 3790 (Windows Server 2003 Enterprise Edition Service Pack 2) i586<br/>\nServer time:    10/24/2013 11:36:49 AM<br/>\nPHP:    5.4.16 </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Very strange.  I can't reproduce this at all.   Could you do two things please:</p>\n<p>(1) Let me know what your SQL mode is (run the query</p>\n<div class=\"codehilite\"><pre><span></span>SELECT @@GLOBAL.sql_mode;\n</pre></div>\n<p>in phpMyAdmin or similar)</p>\n<p>(2) Uncomment the two debug lines at 746 and 747 in the 1.4.10 version of edit_users.php and let me know what the output is for a failing operation (obviously use some test data that you don't mind publishing)</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>One more thing to try.   Just before the line</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">Header</span><span class=\"o\">(</span><span class=\"s2\">\"Location: edit_users.php\"</span><span class=\"o\">);</span>\n</pre></div>\n<p>at line 529 in edit_users.php, please insert the lines</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">echo</span> <span class=\"nt\">var_dump</span><span class=\"o\">($</span><span class=\"nt\">level</span><span class=\"o\">);</span>\n<span class=\"nt\">echo</span> <span class=\"nt\">var_dump</span><span class=\"o\">($</span><span class=\"nt\">min_user_editing_level</span><span class=\"o\">);</span>\n<span class=\"nt\">echo</span> <span class=\"nt\">var_dump</span><span class=\"o\">($</span><span class=\"nt\">Id</span><span class=\"o\">);</span>\n<span class=\"nt\">echo</span> <span class=\"nt\">var_dump</span><span class=\"o\">($</span><span class=\"nt\">my_id</span><span class=\"o\">);</span>\n<span class=\"nt\">echo</span> <span class=\"s2\">\"Debug: not authorised\"</span><span class=\"o\">;</span>\n<span class=\"nt\">exit</span><span class=\"o\">;</span>\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/9a3e4e6e/4597/\"><div class=\"markdown_content\"><p>STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</p>\n<p>OK.  I added the 1.4.10 file back in and it works now.  The only difference in the installation is that there is a lot of rooms and entries in the database now and I had added a few admins...  I have a custom field in there and it works fine too.  Uggg.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>My suspicion is that the version of edit_users.php that you are using is a red herring.   If the quoting of the column name were a problem then you would be getting an error of some kind.    My hunch is that what is happening is that you are falling foul of these lines, starting at line 525:</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"o\">//</span> <span class=\"nt\">If</span> <span class=\"nt\">you</span> <span class=\"nt\">haven</span><span class=\"s1\">'t got the rights to do this, then exit</span>\n<span class=\"s1\">  $my_id = sql_query1(\"SELECT id FROM $tbl_users WHERE name='</span><span class=\"s2\">\".sql_escape($user).\"</span><span class=\"err\">'</span> <span class=\"nt\">LIMIT</span> <span class=\"nt\">1</span><span class=\"s2\">\");</span>\n<span class=\"s2\">  if (($level &lt; $min_user_editing_level) &amp;&amp; ($Id != $my_id ))</span>\n<span class=\"s2\">  {</span>\n<span class=\"s2\">    Header(\"</span><span class=\"nt\">Location</span><span class=\"o\">:</span> <span class=\"nt\">edit_users</span><span class=\"p\">.</span><span class=\"nc\">php</span><span class=\"err\">\"</span><span class=\"o\">);</span>\n    <span class=\"nt\">exit</span><span class=\"o\">;</span>\n  <span class=\"err\">}</span>\n</pre></div>\n<p>I think that in theory it shouldn't be possible to get there and it's just a precaution against someone trying to spoof the form input.   However in your case I suspect that the problem is caused by the authentication method - not necessarily by the method itself, but that using that method exposes a flaw in the logic of the edit_users code.</p>\n<p>If the problem does recur, as I suspect it may, then the debug output above would be useful.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/283/", "title": "#283 Custom Entry types being truncated at a space char", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Adding a custom type in config.inc.php such as $vocab_override<span>[\"en\"]</span><span>[\"type.B\"]</span> = \"Cognitive Science\";</p>\n<p>Results in the output being truncated at the space, ie - \"Cognitive\".</p>\n<p>I've used this name in my previous instance of MRBS 1.4.7 before upgrading and a name with spaces was not a problem before.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/a7f120af/135b/\"><div class=\"markdown_content\"><p>Sorry, didn't mention I've discovered this in v1.4.10</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you tell which page this is happening on?   I've tried to reproduce this on 1.4.10 using the exact line above and can't.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/282/", "title": "#282 Problem outputting dynamic custom fields", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>function create_field_entry_custom_field($field, $key, $disabled=FALSE)<br>\n{<br>\n  global $custom_fields, $tbl_entry, $select_options;<br>\n  global $is_mandatory_field, $text_input_max;</p>\n<blockquote>\n<div class=\"codehilite\"><pre><span></span>   if ($key == \"activity_id\")\n\n  {\n\n    $query=\"SELECT id, activity_name FROM teamtrack_activity Order By id\";\n\n    $res = sql_query($query);\n\n    if ($res === FALSE)\n\n    {\n\n      trigger_error(sql_error(), E_USER_WARNING);\n\n      fatal_error(FALSE, get_vocab(\"fatal_db_error\"));\n\n    }\n\n    $select_options[\"entry.$key\"] = array();\n\n    for ($i = 0; ($row = sql_row_keyed($res, $i)); $i++)\n\n    {\n\n      $select_options[\"entry.$key\"][$row['id']] = $row['activity_name'];\n\n    }\n\n  }\n</pre></div>\n\n\n</blockquote>\n<p>echo \"</p><div>\\n\";<p></p>\n<p>I have several custom fields and above is an example of the custom field activity_id.  I have added the field to the database on both entry and repeat and the code above.  However I am having two issues.  The field in the db is (int 6).  The id field on teamtrack_activity is (int 6) and activity name is (varchar 100).</p>\n<p>-1. The activity_name is being passed with the above code.  What is odd is if I change the code to:</p>\n<blockquote>\n<div class=\"codehilite\"><pre><span></span>      $select_options[\"entry.$key\"][$row['activity_name']] = $row['id'];\n</pre></div>\n\n\n</blockquote>\n<p>then it is still passed (I do see the integers as choices).</p>\n<p>If I change it to:</p>\n<blockquote>\n<div class=\"codehilite\"><pre><span></span>      $select_options[\"entry.$key\"][$row['id']] = $row['id'];\n</pre></div>\n\n\n</blockquote>\n<p>then the id is passed OK.  However it is not nice to pick id's and I do not know how to change the vocab or even if you can for a dynamic custom field.  </p>\n<p>-2. With just mentioned that passes then I have another problem.  The int does come up fine in the view page (which still no vocab assigned to it).  But when I go back to edit the entry there it does not have the choice selected by default.  </p>\n<p>I feel this is a very common use for MRBS and would love anyone's help.  MRBS is so well written can't believe I can't figure this out.</p></div></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The text should be the value and not the key.   So what you want is</p>\n<div class=\"codehilite\"><pre><span></span>$select_options[\"entry.$key\"][$row['id']] = $row['activity_name'];\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d12259bd/4756/\"><div class=\"markdown_content\"><p>Hi Campbell </p>\n<p>Thanks for the quick response.  That is what I have labeled as problem #1 - when I use the code you have then it only outputs the activity_name.  No idea why.  It doesn't make since at all </p>\n<p>Here is an example I just did:</p>\n<blockquote>\n<p>Array<br/>\n(<br/>\n<span>[f_activity_id]</span> =&gt; Facilitate</p>\n</blockquote>\n<p>It should have passed \"2\" which is the id for that row.  So when \"Facilitate\" hits the DB then it turns into \"0\" (because DB is set to int with no default).  I spent 2 hours trying to figure out why all my custom fields were turning to zeros.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>What version of MRBS are you using?   There was a bug in this area in earlier versions.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d12259bd/8001/\"><div class=\"markdown_content\"><p>$select_options<span>['entry.segment_id']</span> = array('1' =&gt; 'Coffee', <br/>\n                                            '2' =&gt; 'Sandwiches',<br/>\n                                             '3' =&gt; 'Hot Lunch');</p>\n<p>When I add segment_id (int 6) to DB and the above code to systemdefaults.php I again get the items in a drop down with the correct names but it only outputs the full name.  Again it turns everything to zeros.  So maybe just an overall issue with custom fields or I don't understand how to use them.  If I get this working I will definitely add to the documentation - I have a few iterations I will be using custom fields on.</p>\n<p>I tried this out on 1.4.07 first but just downloaded the latest a few hours ago and still happening.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2013-10-16</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d12259bd/2349/\"><div class=\"markdown_content\"><p>And by the way my company made me do an audit of available calendar programs - they do this every few years - and again MRBS beat out the pay ones.  Flexibility and good code rule.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Looks like you're doing everything right.  I'll take a look</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d12259bd/49b7/\"><div class=\"markdown_content\"><p>Thank you.   I will document the creation of dynamic custom fields.  Also was tasked with creating a view of all rooms in an area over multiple days and possibly something similar for weeks.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You're right - there's a bug.  I can reproduce it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d12259bd/bdd7/\"><div class=\"markdown_content\"><p>Last few versions seem to react the same way if that saves you any time.  I trust MRBS so much that I tried 4 different versions and 2 different web servers.  I have so much customization on this last one that I thought for sure it was me at first.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can see what's going wrong.   The problem is that the array is being treated as a simple array, rather than an associative array.   This happens even in the Sandwiches example above because although the key is a string PHP casts it to an integer because it looks like an integer.</p>\n<p>For the moment the best thing to do is to add the line</p>\n<div class=\"codehilite\"><pre><span></span>$params['force_assoc'] = TRUE;\n</pre></div>\n<p>before the call to</p>\n<div class=\"codehilite\"><pre><span></span>generate_input($params);\n</pre></div>\n<p>in create_field_entry_custom_field()</p>\n<p>There may be a better way for MRBS to handle this altogether, but I'll need to think about it for a bit.   However for the moment the suggestion above should solve the problem even if it's perhaps not the most elegant way.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d12259bd/5fa9/2502/\"><div class=\"markdown_content\"><p>This works perfect - verified on two different versions.  Is there a reason or issue using this?  I ask because you offered another solution.  Thanks again.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Another way round this is to turn your id field into a string, eg by appending an alpha character to the original id.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Of course, you'd have to change your fields in the database from ints into varchars.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d12259bd/c257/bafa/298f/\"><div class=\"markdown_content\"><p>I actually did this with version 1.4.07 (I think?).  I didn't go much further with it because when I had the field as varchar it forced a text box, even with the injected select options.  I see that this does work in the latest version so it is an option for people.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've added some comments to systemdefaults.inc.php in Rev 2765 documenting the problem.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Both methods are probably OK, though I suppose all other things being equal appending or prepending an alpha character may be marginally better as it eliminates one line of customisation.  </p>\n<p>I'm mulling over whether the whole way $select_options works should change.    The problem is that at the moment it assumes a distinction between simple indexed and associative arrays which doesn't exist in PHP.    At the moment 'force_assoc' is the way round this, but I'm wondering whether another method might be better, for example making the array look something like this</p>\n<div class=\"codehilite\"><pre><span></span>$select_options = array('assoc' =&gt; TRUE,\n                        'data' =&gt; array(1 =&gt; 'sandwiches', 2 =&gt; 'coffee'));\n</pre></div>\n<p>But I don't suppose I'll do anything anytime soon.   If you or anybody else have some thoughts they'd be very welcome.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d12259bd/8139/905a/\"><div class=\"markdown_content\"><p>Hi Campbell -</p>\n<p>Two things.  Things are going very well moving MRBS into an employee tracker.  The fix worked great.  I looked through functions.inc and don't really see a \"better\" way of doing it.  I guess it could be an option turned on/off in the config file...</p>\n<p>And I want to mention that if your custom field referenced table is set up with just two fields (id, name) then you don't even have to add the if statements to get the dropdowns populated with the corresponding names.  I have to say I haven't even looked at the code behind this because half my custom fields are created this way and it works - great code!  (I am not sure if this works because of my naming convention and if you use more than 2 fields you need to have code to reference which is the name field)</p>\n<p>And I have to leave with a question of course.  I have a small dilemma and would like your opinion (or anyone who has come across this).  I added an \"activity\" field and the powers to be want that field to be the one that determines background color on calendar opposed to type.  I have already got the background color working based on the activity table color field.  However I am wondering if I should have turned type into a table?  What is your opinion on type being turned into its own table vs using a custom field to manage colors?  (Reason being that the type/activity colors/names have to be editable using easy editor not file)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2013-10-22</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/281/", "title": "#281 report in format iCal fatal error when monthy recurring appointment is included", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi<br>\nWhen i make a recurring montly appointment like attached, i can Export it as an iCal Entry. It works correkt. The appointment ist attachment testmonthly.ics.<br>\nWhen i try to make a report in Format iCal and the appointment is included, the System stalls and after 30s i get the attached error message. i runs in a timeout and the Report is not possible.</p>\n<p>I could reproduce the bug. When i make and recurring appointment and set it weekly, the Report works. When i set it monthly, it stalls and gets the timeout</p>\n<p>Thanks in advance<br>\nmarkus<br>\n(markus(ad)rieglhofer(dot)com</p></div></div>\n  \n    <strong class=\"grid-18\">2 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n          <a href=\"/p/mrbs/bugs/281/attachment/report.ics\">report.ics</a>\n        </div>\n    \n        <div class=\"attachment_thumb\">\n          \n          <a href=\"/p/mrbs/bugs/281/attachment/testmonthly.ics\">testmonthly.ics</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0bc8df3d/ff6f/\"><div class=\"markdown_content\"><p>Used system:<br/>\nRaumbuchungssystem: MRBS 1.4.10 <br/>\nDatenbank: MySQL 5.1.63 </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-04-05</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting that.   I've fixed the bug in the trunk in Rev 2762.   If you want to patch a 1.4.10 system then change line 1204 of report.php from</p>\n<div class=\"codehilite\"><pre><span></span>    $sql .= \", T.rep_type, T.end_date, T.rep_opt, T.rep_num_weeks\";\n</pre></div>\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span>    $sql .= \", T.rep_type, T.end_date, T.rep_opt, T.rep_num_weeks, T.month_absolute, T.month_relative\";\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/0bc8df3d/119b/\"><div class=\"markdown_content\"><p>Thanks for your fast Response. Yes it works. Ticket may be closed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/280/", "title": "#280 Array.indexOf not supported in IE8", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>IE versions before version 9 do not support Array.indexOf as used in (e.g.) js/edit_entry.js.php line 45 (referring to mrbs-1.4.10). Please include a compatibility implementation of the function. You can find one on <a href=\"http://stackoverflow.com/a/3629211\" rel=\"nofollow\">http://stackoverflow.com/a/3629211</a>, and a more recent one on MDN (see \"from MDC\" link on that page).</p>\n<p><span>[Personally I use recent versions of IE of course, if at all. But there are still users of IE8 out there, such as my client. Rather than trying to convince all of them or change all occurrences of this function in your code, providing the compatibility implementation seems easiest.]</span></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Alternatively, I imagine it could be done with some jQuery invocation</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, I'm just looking at it now.  I think $.inArray() is the answer.   Will check in a fix later.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Rev 2573.   I think the example you quoted above was the only instance.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/279/", "title": "#279 Weekly repeat does not seem to work in version 1.4.10", "status": "open", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>It seems that , Weekly repeat does not work in version 1.4.10.</p>\n<p>I need to get this working  as fast as possible, my boss is waiting :s<br>\nI'm thinking to going back to version 1.4.9, that version at least works.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Works for me, certainly with a new booking - I shall check for an existing weekly booking in my test installation.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ty for the repley.<br/>\nDaily and monthly bookings are working btw.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Works for me as well, both in a new 1.4.10 installation and an upgraded 1.4.9 system</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Maybe php version ?<br/>\nI tested a new install also does not work :(<br/>\nStrange -&gt; days ad months are working</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It's unlikely it would be the PHP version, but what version are you using?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/07bb264f/cc1e/\"><div class=\"markdown_content\"><p>I tested somme more, weekly repeat works, as long as i not change the \"weekcount\" field when i change it from 1 to another number it's not working or i don't understand how to use it :) =&gt; users also gonna have problems then</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've just tested it and it works OK for me if I use for example 2.    In English the field is \"Repeat every:  n weeks\".   So for example if I request a weekly booking repeating every 2 weeks starting on Thu 22 Aug I will get</p>\n<p>Thu 22 Aug<br/>\nThu 5 Sep<br/>\nThu 19 Sep<br/>\netc.</p>\n<p>until the end date.    My knowledge of Dutch (Afrikaans?) is not good but I wonder whether the translation \"Aantal weken\" is accurate?   Does that not mean \"number of weeks\"?</p>\n<p>Incidentally, I notice in your screen shot that the layout of the page is not standard.   For example in standard MRBS the repeat type (daily/weekly/monthly/etc) radio buttons are in a vertical column and not horizontal.   Have you modified MRBS to achieve this?   If so, I wonder if the modifications are to do with the problem.    If you have not modified MRBS then I wonder whether it has been installed properly?    Or maybe it is a problem with MRBS - what browser are you using?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ty Cambell :)<br/>\nIt is working like you say :) i was indeed confused by the translation. </p>\n<p>Men i lost some time on this :D.</p>\n<p>\"Aantal weken\" is more like how many times to repeat it.</p>\n<p>\"Herhaal elke\" Sounds better to me, it is btw a direct translation from \"repeat every\" sometimes translations are easy :) .</p>\n<p>Or \"Herhaal om de\" Sounds even better.</p>\n<p>And indeed i modified the layout, also when users  asks for coffee etc an icon shows up.<br/>\nI changed also who need to be mailed, when coffee is asked person \"A\" get a mail, when a beamer etc needs to be installed person \"B\" get a mail. </p>\n<p>Options for the next version of mrbs ;) ?</p>\n<p>I'm using mrbs for the reservation of some small meeting rooms here on the university.<br/>\nSee screenshot for the result :)</p>\n<p>Btw \"Kamers\" -&gt;rooms in english.</p>\n<p>Kamers=&gt;Lokalen<br/>\nkamer=&gt;Lokaal</p>\n<p>Ty for the fast response btw.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK, I will change the translation of \"repeat every\" in the trunk.  Just to confirm - that is Dutch (.nl)?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes it's dutch =&gt; lang.nl<br/>\nMaybe also change the word kamer/kamers . that sounds more like a 'hotel room' or a room in a house.<br/>\nI have changed that to Lokaal/lokalen .</p>\n<p>Campbell i had also a little question for CAS login <br/>\n<a href=\"https://sourceforge.net/p/mrbs/feature-requests/158/\">https://sourceforge.net/p/mrbs/feature-requests/158/</a> can you look at this also it's not much. when that is fixed i can launch the site, yipee :).</p>\n<p>Ty for this wonderfull script btw.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've checked in to the trunk a new translation for \"Repeat every\" in Rev 2754.</p>\n<p>As for changing the translation of \"Rooms\" I think there are two many occurrences throughout the lang file for me to get it right, given that I have little knowledge of Dutch.   However if you want to edit the lang.nl file yourself and post it here then I can check it in.</p>\n<p>I'm afraid I can't help with CAS as I'm not familiar with that code.   You'll need to ask the person that contributed the code - it's not part of standard MRBS.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have same problem with Czech localization. String \"Po\u010det t\u00fddn\u016f:\" means Number of repetition in total but not the meaning of the value: Repeat every n weeks. There should be: \"Opakovat po N t\u00fddnech\". </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Should it be just \"Opakovat po\" as the \"N t\u00fddnech\" will follow?  (Actually it will be \"N t\u00fddny\" - is that right?)</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/278/", "title": "#278 Date defaults (everyday) to July 28, 2013", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Whenever a user logs on the date on the calendar defaults to July 28th 2013, it is very strange</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS are you using?   Did MRBS ever work?   If so, has something changed recently, possibly in your web server configuration?    Or is it a caching problem of some kind?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/c1255413/7148/\"><div class=\"markdown_content\"><p>Conference Room Booking: MRBS 1.4.9 <br/>\nDatabase: MySQL 5.5.28-0ubuntu0.12.04.3 <br/>\nSystem: Linux ubuntu 3.2.0-29-generic-pae #46-Ubuntu SMP Fri Jul 27 17:25:43 UTC 2012 i686 <br/>\nServer time: Thu 19 Sep 2013 10:28:57 AM ADT <br/>\nPHP: 5.3.10-1ubuntu3.4 </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/c1255413/4865/\"><div class=\"markdown_content\"><p>Conference Room Booking: MRBS 1.4.9 <br/>\nDatabase: MySQL 5.5.28-0ubuntu0.12.04.3 <br/>\nSystem: Linux ubuntu 3.2.0-29-generic-pae #46-Ubuntu SMP Fri Jul 27 17:25:43 UTC 2012 i686 <br/>\nServer time: Thu 19 Sep 2013 10:28:57 AM ADT <br/>\nPHP: 5.3.10-1ubuntu3.4 </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/c1255413/e712/\"><div class=\"markdown_content\"><p>That is our configuration.</p>\n<p>MRBS works great, the only thing is that whenever you first open the software it defaults to July 28, 2013. Once you click \"Go to Today\" everything is fine and it goes to the current page.</p>\n<p>It is all very strange.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Is it possible that you have bookmarked a URL that contains that date?    Try using a different browser and see if you still get the problem.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Closed, not having heard any more.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/277/", "title": "#277 Failure to set locale et_EE.UTF-8", "status": "open", "labels": "locale (2)", "priority": "3", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When browser sends language preference as 'et' following error message is generated: <span>[Warning: Server failed to set locale to 'et_ET.UTF-8']</span>.</p>\n<p>Correct locale should be et_EE.UTF-8.</p>\n<p>Solution: add <em>'et' =&gt; 'et_EE'</em> to the <em>$lang_map_unix = array</em> variable in <em>language.inc</em></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This works OK on my system.   I set the language to 'et' and got an Estonian language locale.   It sounds to me that you haven't got et_ET.UTF-8 installed on your system.    I think the solution in your case is to install the locale or else to use $override_locale = \"et_EE.UTF-8\".</p>\n<p>That said, I freely admit that I'm not an expert on Estonian locales.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'd say et_EE looks right for Linux servers at least:</p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nv\">LANG</span><span class=\"o\">=</span>et_ET.utf-8 date <span class=\"s2\">\"+%A\"</span>\nTuesday\n\n$ <span class=\"nv\">LANG</span><span class=\"o\">=</span>et_EE.utf-8 date <span class=\"s2\">\"+%A\"</span>\nteisip\u00e4ev\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/499d6bd7/5f88/\"><div class=\"markdown_content\"><p>You're right!  I was testing something else.</p>\n<p>Fix added in Rev 2749</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/275/", "title": "#275 Bookings not saved/very slow to save if mail server not working?", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Looks like there may be an issue if communication with the mail server is nor working properly.    See the correspondence below.   MRBS should probably fail more gracefully by abandoning the attempt to send mail, or log the fact that it is taking a long time, and saving the booking.</p>\n<p>Campbell</p>\n<hr>\n<p>Hello all,</p>\n<p>We were also having timing out issue on booking save and causing the error \"MRBS: Failed to acquire exclusive database access\" yesterday since our Servers came back online from the Power Outage (Toronto Area Flooding/Storm). </p>\n<p>I checked the timezone issue but that did not work. Looking into it further, I noticed the issue of the mail not being sent/received upon that random instance when booking went through after a long wait. As part of the debugging process, I turned off mailing (send email to admin/booker/confirmation etc) in config.inc.php and that fixed it. Therefore something was up with the mail, not MRBS.</p>\n<p>I restarted the sendmail on the server and restored the settings in config.inc.php. This fixed the problem. </p>\n<p>MRBS Version: 1.4.8+svn<br>\nProblem:\"MRBS: Failed to acquire exclusive database access\"<br>\nCause: Timeout on sending the email notification<br>\nA Solution: Restarting Mail server on your server. <br>\nNote: This mail not apply to all but worth a try.</p>\n<p>I hope this helps anyone else out there.</p>\n<p>Cheers,</p>\n<p>--<br>\nAli Sadaqain</p>\n<p>On 2013-07-10, at 11:03 AM, Orr, David wrote:</p>\n<p>OK, got the issue figured out!!!  \uf04a<br>\nTurns out it was a communication issue with the mail server.<br>\nA restart of the mail server fixed the issue.</p>\n<p>Sincerely<br>\nDave Orr</p>\n<p>From: Campbell Morrison<br>\nSent: Monday, July 08, 2013 1:46 PM<br>\nTo: General purpose list (support/developers/users)<br>\nSubject: Re: <span>[MRBS-general]</span> MRBS Slow + 500 Error</p>\n<p>Are you getting any errors in any of your logs?  Has anything been changed recently, eg your network configuration?<br>\nCampbell<br>\nOn Jul 8, 2013 8:01 PM, \"Orr, David\" wrote:<br>\nThanks for the input Campbell.</p>\n<p>Here\u2019s more info on my setup:</p>\n<p>Meeting Room Booking System:    MRBS 1.4.9<br>\nDatabase:   PostgreSQL 9.2.1, compiled by Visual C++ build 1600, 64-bit<br>\nSystem: Windows NT ACYKWEB 6.0 build 6002 (Windows Server 2008 Enterprise Edition Service Pack 2) i586</p>\n<p>PHP:    5.3.18</p>\n<p>Sincerely<br>\nDave Orr</p>\n<p>From: Campbell Morrison<br>\nSent: Monday, July 08, 2013 12:18 PM<br>\nTo: General purpose list (support/developers/users)<br>\nSubject: Re: <span>[MRBS-general]</span> MRBS Slow + 500 Error</p>\n<p>PS The timezone problem was fixed in 1.4.9, so if you are running 1.4.9 the problem will be something else.<br>\nCampbell<br>\nOn Jul 8, 2013 7:12 PM, \"Campbell Morrison\" wrote:<br>\nIs your server isolated from the internet and did you install MRBS about a month ago? If so then I suspect the problem is a known bug to do with updating the timezone data. To get round the problem set<br>\n$zoneinfo_expiry = PHP_INT_MAX;<br>\nin your config file.<br>\nCampbell<br>\nOn Jul 8, 2013 6:16 PM, \"Orr, David\" wrote:<br>\nGood day.<br>\nThe issue I\u2019m having seems to have just occurred in the last few days.<br>\nWhen adding or editing a room booking the save function is very slow and eventually I get an error for the edit_entry_handler.php file.</p>\n<p>It takes approximately 5 minutes for it to error out.</p>\n<p>We have been running this server since last fall with no issues.</p>\n<p>Install Information is as follows:</p>\n<p>OS: Windows Server 2008 SP2<br>\nWeb Server: IIS Version 7.0.6000.16386<br>\nDatabase: PostgreSQL Version 9.2<br>\nMRBS: Version 2466 2012-10-03 20:03:53Z</p>\n<p>Thanks for your assistance.</p>\n<p>Sincerely<br>\nDave Orr</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/274/", "title": "#274 edit_users.php uses always md5", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>edit_users.php encrypts passwords always using md5 regardless password_format configuration.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I don't think this is a bug.   The password_format configuration only applies to db_ext auth types (the variable is $auth<span>['db_ext']</span><span>['password_format']</span>).    It is assumed that users in an external database are edited by an external tool.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The only thing that could be said additionally to this is that MD5 is now considered by some to be insecure, we should consider moving to SHA1/SHA512.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/273/", "title": "#273 authGetUserLevel() does not work correctly when using auth_db_ext", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>auth/auth_db_ext.php does not use database field \"level\" when checking if user is admin or not in function authGetUserLevel($user).</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I guess here you're supposing an external database that you have the freedom to create an MRBS-specific column for auth level?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/272/", "title": "#272 MRBS clobbers error_reporting settings", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>After upgrading to PHP5.4, we are now seeing lots of PHP Strict Standards errors in our logs from MRBS on our production box.  Our production box's php.ini has this configured for error reporting:</p>\n<p>error_reporting = E_ALL &amp; ~E_DEPRECATED &amp; ~E_STRICT</p>\n<p>This should prevent the log lines from appearing, but MRBS clobbers this value with its own in internalconfig.inc.php, re-enabling E_DEPRECATED and E_STRICT.</p>\n<p>Rather than hard-coding the error_reporting value, shouldn't MRBS read the existing one, remove E_NOTICE/E_USER_NOTICE, and set it to that?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think it is reasonable that MRBS sets its own reporting level, which is only for the duration of the script.   However, you are right that the E_STRICT errors which are included in E_ALL in PHP 5.4 cause unnecessary error log messages.   I have therefore fixed this in Rev 2732 in the trunk by adding the lines</p>\n<div class=\"codehilite\"><pre><span></span>// The Mail and Net libraries generate E_STRICT errors, so disable E_STRICT (which became\n// part of E_ALL in PHP 5.4)\nif (defined(\"E_STRICT\"))\n{\n  $error_level = $error_level ^ E_STRICT;\n}\n</pre></div>\n<p>to internalconfig.inc.php</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Well, what about E_DEPRECATED?  I haven't seen messages from it, but some might show up.  Also, what if a patch to MRBS introduces errors that would be caught by E_STRICT or E_DEPRECATED (or E_NOTICE)?  You won't see it in your dev environment because they are permanently disabled. :(</p>\n<p>As an admin that's paying attention, it's frustrating for MRBS to ignore the system configuration.  I'm not even sure MRBS needs to disable E_NOTICE because I have display_errors set to off (are there other reasons I'm not aware of?).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/eb9507b6/f85f/\"><div class=\"markdown_content\"><p>Campbell, unfortunately your fix is wrong. As you wrote in the comment, E_STRICT became part of E_ALL in PHP 5.4. However, it has been <em>defined</em> all the way back to PHP 5.0 (cf. <a href=\"http://php.net/manual/en/function.error-reporting.php#refsect1-function.error-reporting-changelog\" rel=\"nofollow\">http://php.net/manual/en/function.error-reporting.php#refsect1-function.error-reporting-changelog</a>). And that's all you check. In other words, the code you wrote <em>enables</em> E_STRICT in any PHP version &gt;= 5.0 and &lt; 5.4, e.g. PHP 5.3.8 as I have here on my test server. Suggested fix (alternatively with E_ALL &amp; E_STRICT &gt; 0 if you want):</p>\n<p>if (defined(\"E_STRICT\") &amp;&amp; (E_ALL &amp; E_STRICT))</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2013-08-19</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, I realised this, though too late for 1.4.10 unfortunately.  A second fix was committed to the trunk in Rev 2746:</p>\n<div class=\"codehilite\"><pre><span></span>if (defined(\"E_STRICT\"))\n{\n  $error_level = $error_level &amp; !E_STRICT;\n}\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/271/", "title": "#271 \"skip past conflict\" not working in import.php", "status": "open", "labels": "import (1)\n          \n        \n          \n              skip (1)\n          \n        \n          \n              bug (2)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>when using import.php (mrbs vers.1.4.9) to import a .ics file (correctly formatted),<br>\nif some bookings are in conflict with any previously in, the import process won't succeed.<br>\nConflicting data are not imported. All the rest is working ok, but this is really bad, because it makes it impossible to update a timetable thru the import process.<br>\nI'm a noob here and don't know how to get response from here, so I'm leaving here a contact: plasmoid@gmail.com</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/614265f5/549e/\"><div class=\"markdown_content\"><p>I want to add a clarification: I thought that the \"skip past conflict\" option would overwrite (override?) whatever past schedule already present. Maybe I misunderstood the function of that option. If so, I'd need an option able to overwrite any other schedule already present, so that I can update a timetable thru the import.php process.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-04-02</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/270/", "title": "#270 when deleting single entry of series, mail claims entire series was deleted", "status": "closed", "labels": "mail (1)\n          \n        \n          \n              series (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When deleting a single entry of a series the mail sent to the owner claims that the entire series was deleted, when in fact only the selected entry was.</p>\n<p>I added some debug code and to me at seems to be due to $data<span>['rep_type']</span> being set to \"2\" instead of \"REP_NONE\". Any help with debugging this issue would be greatly appreciated.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This bug has already been fixed in the trunk.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/269/", "title": "#269 week view all rooms", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>How do I show per week all the rooms? Thank you.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/97b93a85/cb72/\"><div class=\"markdown_content\"><p>Yep this would be a super nice feature....maybe limiting the amount of rooms that can be displayed (2-3) if that helps not to \"break\" the weekly view with too many rooms.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>agreed, has this been worked out yet? I've seen some screen shots that would work. But I have yet to find any code.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/268/", "title": "#268 SMTP Error - undefined method Net_Socket", "status": "wont-fix", "labels": "SMTP (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I'm using MRBS 1.4.9 (PHP Version 5.3.10 with socket and openssl enabled).<br>\nI have a problem with confirmation through e-mail.<br>\nSending of e-mail ends with notification at error log:<br>\nPHP Fatal error:  Call to undefined method Net_Socket::enableCrypto() in /var/www/web/Net/SMTP.php on line 532</p>\n<p>My e-mail configuration:<br>\n$smtp_settings<span>['host']</span> = 'smtp.iq.pl';<br>\n$smtp_settings<span>['port']</span> = 587;<br>\n$smtp_settings<span>['auth']</span> = TRUE;<br>\n$smtp_settings<span>['username']</span> = 'username';<br>\n$smtp_settings<span>['password']</span> = 'password';</p>\n<p>I have line<br>\nrequire_once \"language.inc\";<br>\nat the end of config.inc.php file.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/79b1ba0c/164c/\"><div class=\"markdown_content\"><p>I've got the same problem. Any problem-solving?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-03-25</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Your PHP is not compiled with SSL support. Have a look at the output of:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?php</span> <span class=\"nb\">phpinfo</span><span class=\"p\">();</span> <span class=\"cp\">?&gt;</span>\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: John Beranek 2013-09-03</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/79b1ba0c/80c8/9564/\"><div class=\"markdown_content\"><p>I want to konw what can I du after output of this! thanks you!<br/>\ntip:my output is , openssl:enabled.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I want to konw what can I du after output of this! thanks you!<br/>\ntip:my output is , openssl:enabled.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I want to konw what can I du after output of this! thanks you!<br/>\ntip:my output is , openssl:enabled.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; wont-fix</li>\n<li><strong>assigned_to</strong>: John Beranek</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/267/", "title": "#267 joomla authenticate and session", "status": "closed", "labels": "None", "priority": "9", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>can someone build a bridge between joomla and mrbs<br>\nthe last step is the user session part<br>\ncheck also this link: <a href=\"https://sourceforge.net/p/mrbs/patches/31/\">https://sourceforge.net/p/mrbs/patches/31/</a></p>\n<p>Ocean</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>there is an update <a href=\"https://sourceforge.net/p/mrbs/feature-requests/160/\">https://sourceforge.net/p/mrbs/feature-requests/160/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/266/", "title": "#266 SQL error caused by incorrect quoting", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I found these lines in my PostgreSQL log:</p>\n<p>ERROR:  column \"56\" does not exist at character 65<br>\nERROR:  column \"-1\" does not exist at character 69</p>\n<p>This is caused by the double quotes around $id in view_entry.php, lines 154 and 168. Since $id is a valid integer, the quotes should be removed. Always use single quotes for non-numeric SQL literals.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.  Fixed in Rev 2706.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/265/", "title": "#265 Constant strings (actualy, vocab keys), instead of get_vocab in report.php", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><div class=\"codehilite\"><pre><span></span><span class=\"kd\">function</span> <span class=\"nx\">generate_search_criteria</span>\n</pre></div>\n\n\n<p>...</p>\n<div class=\"codehilite\"><pre><span></span>case 'match_private'\n</pre></div>\n\n\n<p>...</p>\n<div class=\"codehilite\"><pre><span></span>$options = array(PRIVATE_BOTH =&gt; __'both'__, PRIVATE_NO =&gt; __'default_public'__, PRIVATE_YES =&gt; __'default_private')__;\n $params = array('label'   =&gt; get_vocab(\"privacy_status\") . ':',\n                            'name'    =&gt; 'match_private',\n                            'options' =&gt; $options,\n                            'value'   =&gt; $vars['match_private']);\n            generate_radio_group($params);\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks.   Fixed in Rev 2700.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in a released version of MRBS</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/264/", "title": "#264 Error when changing area from periods to times", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Default resolution given when you change the area from periods to times is a 1 minute. Therefore, after saving changes you get the \"You need to increase the value of $max_slots in the config file!\" error message.</p>\n<p>For normal user, the message is probably cryptic and meaningless.</p>\n<p>The resolution should default to some reasonable value, such as 30 minutes or an hour and if the user is not satisfied, he can always go back and change it.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>so, how to change back to times?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Unfortunately it's not possible to switch between times and periods if you have existing bookings and want to preserve them.  That's because the system has no knowledge of the mapping between times and periods.   For example it doesn't know what time a period corresponds to - and indeed in some sites a period may happen at different times on different days.</p>\n<p>But if you don't have any existing bookings, or you don't want to preserve them, then you can change back to times by logging in to MRBS as an admin, going to the Rooms page, selecting the area in question and clicking the Edit icon.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/263/", "title": "#263 Page redirect after clicking outside the datepicker", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Open any page, for instance, Rooms or Help, and then activate 'goto' datepicker in the header.</p>\n<p>If you now click on the datepicker, you get a new date and everything is fine. <br>\nBut, if you change your mind and decide to click anywhere outside the picker, in order to close it and abort setting the new date, you get redirected to the front page.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting that.  Now fixed in Rev 2687.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/262/", "title": "#262 Fixing the fix: r2671, error is triggered in week view resizing", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Reposting, as it was initially marked as a feature request.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">+</span><span class=\"nt\">if</span> <span class=\"o\">(</span><span class=\"nt\">empty</span><span class=\"o\">($</span><span class=\"nt\">rooms</span><span class=\"o\">))</span>\n<span class=\"o\">+</span><span class=\"p\">{</span>\n<span class=\"err\">+</span>  <span class=\"err\">trigger_error('Internal</span> <span class=\"n\">error</span><span class=\"p\">:</span> <span class=\"n\">no</span> <span class=\"n\">rooms</span> <span class=\"n\">specified</span><span class=\"err\">'</span><span class=\"p\">,</span> <span class=\"n\">E_USER_WARNING</span><span class=\"p\">);</span>\n<span class=\"err\">+</span><span class=\"p\">}</span>\n</pre></div>\n\n\n<p>When resizing a booking in a week view, $rooms is always empty and always triggers an error.<br>\n We should either pass the $rooms parameter in ajax call or, if there is any reason not to do so, add <br>\n if(!ajax) { trigger_error ... }</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ooops!  Fixed in Rev 2686.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in a released version of MRBS</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/261/", "title": "#261 Fixing the fix: r2671, error is triggered in week view resizing", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><div class=\"codehilite\"><pre><span></span><span class=\"o\">+</span><span class=\"nt\">if</span> <span class=\"o\">(</span><span class=\"nt\">empty</span><span class=\"o\">($</span><span class=\"nt\">rooms</span><span class=\"o\">))</span>\n<span class=\"o\">+</span><span class=\"p\">{</span>\n<span class=\"err\">+</span>  <span class=\"err\">trigger_error('Internal</span> <span class=\"n\">error</span><span class=\"p\">:</span> <span class=\"n\">no</span> <span class=\"n\">rooms</span> <span class=\"n\">specified</span><span class=\"err\">'</span><span class=\"p\">,</span> <span class=\"n\">E_USER_WARNING</span><span class=\"p\">);</span>\n<span class=\"err\">+</span><span class=\"p\">}</span>\n</pre></div>\n\n\n<p>When resizing a booking in a week view, $rooms is always empty and always triggers an error.<br>\nWe should either pass the $rooms parameter in ajax call or, if there is any reason not to do so, add </p>\n<div class=\"codehilite\"><pre><span></span>if(!ajax) { trigger_error ... }\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Rev 2686.   See also <a href=\"https://sourceforge.net/p/mrbs/bugs/262/\">https://sourceforge.net/p/mrbs/bugs/262/</a></p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/260/", "title": "#260 Bulk delete do not delete repeat table rows", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Report.php - bulk delete</p>\n<p>If you match and delete all the bookings from a series, the entry in the repeat table is not deleted.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.  Now fixed in Rev 2682.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/259/", "title": "#259 After changing area in edit_entry.php, no room is selected", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>After changing area in edit_entry.php, no room is selected, but it is still possible to save the booking. The action takes you back to the week/day view but no booking is actually saved.</p>\n<p>This can be both confusing and misleading. I think that either the first room in the area should be selected, or edit_entry_handler should output an error so that the user knows he had done something wrong.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Rev 2671.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2fcb42cb/b601/\"><div class=\"markdown_content\"><p>That was quick!</p>\n<p>Still, a user can (un)intentionally deselect all rooms and \"save\" the booking.</p>\n<p>What do you think about the edit_entry_handler reporting this as an error, or at least making the field mandatory, such as is case with the brief description?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good idea.   And I'll also make the JavaScript/browser validation check as well.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Added in Rev 2673.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Added a further fix in Rev 2946.   Fixed bug causing an HTML5 validation error when $auth<span>['only_admin_can_select_multiroom']</span> = TRUE;  (\"required\" is not necessary when \"multiple\" is not set).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixes available in a released version of MRBS (well, apart from the last one)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/258/", "title": "#258 Edit entry - changing the area breaks start/end slot selectors", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Bug introduced in r2598<br>\nClick to create a new entry, change the area, and now try to change start/end slot - you have to do it twice before it is \"accepted\".</p>\n<p>Now, try the same, but this time select one of the periods enabled areas. This time it becomes impossible to change the slot.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.  Now fixed, I hope, in Rev 2670.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/ead6ea8b/57ee/\"><div class=\"markdown_content\"><p>Good job!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/257/", "title": "#257 edit repeating entries", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>if single bookings in a repeating series are deleted and replaced by another booking, the original booking cant be edited as a whole.</p>\n<p>error reports conflict with this 'new' booking.</p>\n<p>thank you</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/256/", "title": "#256 Database upgrade from 1.4.5 to 1.4.9: doesn't complete due to syntax error", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Database upgrade from 1.4.5 to 1.4.9 doesn't complete due to syntax error in upgrade/24/post.inc on line 62:</p>\n<p>$sql = \"UPDATE $tbl_entry SET saved_ts=timestamp\"l</p>\n<p>should of course be without the l at the end</p>\n<p>Greets, and thanks for a great product!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>There are in fact a few more errors in the file which have been corrected in the trunk.   A copy of the revised file is attached here.   (If you are upgrading from an earlier version you will also find similar problems in upgrade/17/post.inc)</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>And here is the revised file for upgrade/17/post.inc</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/26796a55/1c37/\"><div class=\"markdown_content\"><p>I just donwnloaded the latest version 1.4.9 and this is still present. I fixed the file too. Attached. There was also a problem in step 24. I attach a fix for that too.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, the problem is in the 1.4.9 release so if you download the 1.4.9 release it will be present.   The fix is in the trunk since 1.4.9 and will appear in the next release.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: John Beranek</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in a released version of MRBS.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/255/", "title": "#255 Misleading approval emails for conflicting repeated\tbooking", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><span>[Bug description taken from the MRBS mailing list]</span></p>\n<p>I'm having some trouble with mrbs 1.4.9 and repeating bookings. I have a unapproved single booking on the 14th of December 2012. And I have an unapproved repeating booking starting with the 9th of November 2012. These booking conflict. The user who created the repeating booking <em>after</em> the single booking got an e-mail with a warning regarding the 14th. However when the repeated booking was approved the user got an email confirming <em>all</em> dates (including the 14th of December) although the 14th wasn't entered into the system. When clicking the expand icon before approving the booking the 14th isn't listed either.<br>\nI added some debugging code to the E-Mail generation in functions_mail.php and apparently $data<span>['skip_list']</span> is empty. Any ideas what could be causing this? This created some considerable confusion with the user creating the repeated booking...</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Rev 2588</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/254/", "title": "#254 AJAX / Report Problem results in extremly slow browser", "status": "open", "labels": "Reports (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi there,</p>\n<p>I have following problem: If I create a report (without the Summary), the Reports will be putted out, but then IE hangs / is extremly slow, scrolling takes about 5sec, etc.<br>\nI realized, that this is a AJAX Problem. If I disable Javascript, everything runs fine, but i can't show or hide the columns.<br>\nBut if I create a Report WITH Summary, everythings will be displayed fine.</p>\n<p>Enviornment is a local Network WITHOUT Internet access, tested with multiple browsers.</p>\n<p>Any ideas?</p>\n<p>Thanks and best regards</p>\n<p>Mathias</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Are you running 1.4.8?   If so, this is probably caused by a known problem that is fixed in 1.4.9.    If you don't want to upgrade to 1.4.9 just yet then you can easily get round the problem by setting</p>\n<div class=\"codehilite\"><pre><span></span>$zoneinfo_expiry = PHP_INT_MAX;\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/91a4f815/6b08/5666/\"><div class=\"markdown_content\"><p>Hi Campbell, many thanks for your answer! I'm running 1.4.8 and can't upgrade, too many changes ;)<br/>\n I forgot to write, that i've allready found this \"solution\" in the forum and tried it, but without success! You have any other idea?</p>\n<p>Thanks and best regards</p>\n<p>Mathias</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/91a4f815/2712/\"><div class=\"markdown_content\"><p>Hi Campbell, many thanks for your answer! I'm running 1.4.8 and can't upgrade, too many changes ;)<br/>\nI forgot to write, that i've allready found this \"solution\" in the forum and tried it, but without success! You have any other idea?</p>\n<p>Thanks and best regards</p>\n<p>Mathias</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>What version of IE are you running?   Do you see the problem with other browsers?   Can you turn on your JavaScript console in your browser and see if you are getting any error messages in there.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/91a4f815/b254/590a/\"><div class=\"markdown_content\"><p>Hi Campbell,</p>\n<p>We are running IE 6, 8 and 9. There is a message, but this appears also on other sites. I've added it to the attachments.</p>\n<p>Thanks for your help!</p>\n<p>Mathias</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/91a4f815/b254/720e/\"><div class=\"markdown_content\"><p>Hm, is it possible, that i can't add an attachment as guest?<br/>\nThe following error messages appears:<br/>\nHTML1202: Site is displayed in Compatiblity mode, because of a setting that enables compatiblity mode for intranet sites<br/>\nSEC7115: Formats :visited and :link only differs in color. Some formats couldn't be applied on :visited</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you try installing a vanilla 1.4.9 in a different web directory (but in the same environment) and running against a test set of tables on the same SQL server and see if you still get the problem?</p>\n<p>Thanks,</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/253/", "title": "#253 vietnamese language?", "status": "closed", "labels": "vietnames (1)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>how change to vietnames language?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>We have not had a Vietnamese translation provided to us</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/252/", "title": "#252 edit_entry.php misshandling \"faulty\" repeats (and end dates)", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Version: trunk<br>\nGo to week view and click on Monday 7.00<br>\nSet start/end date: 06.11./07.11. <br>\nSet start/end time: 7.00/9.00 (1 day 2 hours)<br>\nSelect repeat: Daily<br>\nSet Repeat end date:  11.11. (just a couple of days later)<br>\nSave</p>\n<p>Configuration above makes for the overlapping bookings. Observe the mess in the week view. <br>\nThe same menace can also be caused with weekly/monthly/yearly repeat types.</p>\n<p>A simple solution could be to limit the repeats to a single day bookings only.<br>\nAfter changing the repeat type from None to anything else, we could check if the start and end day differ. If they do not, grey out the end date and we're done. If they do, pop-up a message/alert informing user that this is not allowed and then gray out the end date (and set it to the start day).</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.</p>\n<p>Alternatively another solution would be to allow the form to have such a booking, but reject it in edit_entry_handler.php if the duration is greate than the repeat interval?   Then (a) the green tick would show a red cross and (b) if the user did press Save the booking would be rejected.</p>\n<p>This would have the advantages that it would work if JavaScript were disabled and also it would mean it would be easy to allow, for example, a booking lasting a week once a month.</p>\n<p>One could maybe enhance it with some JavaScript in due course to stop users selecting impossible bookings, but the edit_entry_handler solution above is certainly necessary and probably simpler.</p>\n<p>What do you think?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/c0b303d3/07ef/\"><div class=\"markdown_content\"><p>I agree, the edit_entry_handler is both a better and a necessary solution.</p>\n<p>My quick thinking was based on a premise to stop the user in his doomed efforts as soon as possible. This leads us to a more general question (and probably a feature request): why is the save button not disabled if we have a red cross?</p>\n<p>We take the ignorant or unwary user one step too further before his booking is rejected. He then needs to go back and enter all the data again, instead of just changing the offending field.</p>\n<p>Because of the option to skip conflicting repeats? Is there anything else?</p>\n<p>We could, for instance, leave the button enabled in case a conflict is found in a series, but disable it in case of impossible bookings (as in this case) or conflicting no-repeat entries.</p>\n<p>What about the alert we get when we try to save a booking with start day &gt; end day? Why not shove it also into the red cross? And disable the save button. </p>\n<p>So, to summarize, in case of any \"going nowhere\" bookings, disable the save button and display all messages \"in\" the red cross. In case of \"resolvable\" conflicts, such as skipping some booking in a series, leave the button enabled and, possibly, show an amber '!' instead of an 'X'.</p>\n<p>This seems more consistent than the current solution.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks - good ideas.  I'm tied up for the next few weeks but will make the changes when I get a chance.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/251/", "title": "#251 locale_format in language.inc does not return proper locale to match date format", "status": "closed", "labels": "locale (2)\n          \n        \n          \n              datepicker (1)", "priority": "4", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When using a $override_locale of \"en_GB.utf-8\" or \"en_AU.utf-8\" the DatePicker does not use the correct dd/mm/yy date format, and instead uses mm/dd/yy.</p>\n<p>In the systemdefaults.inc.php file it gives an example of $override_locale as \"en_GB.utf-8\". <br>\nHowever, if this is passed to locale_format in language.inc it returns \"en-GB.UTF-8\" rather than \"en-GB\". <br>\nAs this is how the datepicker.js.php fills in all the datepicker locales to match those in jquery-ui-18n.js it will fail to match the correct date format.</p>\n<p>One solution is to update locale_format to strip out the .utf-8 before sending back the correct en-GB or en-AU which would then match in datepicker.<br>\nSame happens if en_AU.utf-8 is used as the $override_locale.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Please close this ticket. I missed an important line in datepicker.js.php that resolves this issue.<br/>\n $datepicker_locale = substr($datepicker_locale, 0, 5);</p>\n<p>Apologies.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Closed as requested.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/250/", "title": "#250 Ajax scheduling conflict check works only for the first area", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>After selecting conflicting times in edit_entry for any area except the first one, conflict is not signalized (green 'check' instead of red 'x') and it shows only after saving the booking.<br>\nBug introduced in r2521.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've just tried this using the latest version (Rev 2543) in the trunk and can't reproduce it.   I vaguely remember fixing something in this area recently so it's possible that it is now fixed.</p>\n<p>Let me know if you still see problems.</p>\n<p>Thanks,</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/86e8d0be/e81c/\"><div class=\"markdown_content\"><p>Nope, it's still there. As I said, it was introduced in r2521.<br/>\n- checkout trunk<br/>\n- create database<br/>\n- \"run\" tables.my.sql<br/>\n- in mrbs create two areas and few rooms in each area<br/>\n- select 2nd area<br/>\n- book a room from 10-12<br/>\n- now click on,let's say, 8.00<br/>\n- in edit_entry.php select end time 16 (obvious conflict)<br/>\n- the red 'x' should indicate a conflict but it doesn't<br/>\n- it works ok if you try the same for any room in the first area</p>\n<p>Probably the validation function is not getting current area properly.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK - I'll take a look.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think I've now fixed this in Rev 2545.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/86e8d0be/8606/\"><div class=\"markdown_content\"><p>Fixed</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good - thanks for spotting it.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/249/", "title": "#249 Rooms List and Userlist does not display", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>I have deploy the MRBS system. I created AREA and then Rooms.</p>\n<p>However, when i click on \"Rooms\" on the top link, the rooms did not display.</p>\n<p>similarly it happen for the Userlist link, nothing showed up but i check Database the user is created and i can login.</p>\n<p>I am very sure i created the rooms because when i create another area without room, it states NO ROOM .</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n            <a href=\"/p/mrbs/bugs/249/attachment/screenshot.JPG\" class=\"file_type\">\n              <img src=\"/p/mrbs/bugs/249/attachment/screenshot.JPG/thumb\" alt=\"\">\n            </a>\n          \n          <a href=\"/p/mrbs/bugs/249/attachment/screenshot.JPG\">screenshot.JPG</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Some questions:  which version of MRBS are you using?  what server OS?  what database system?  what version of PHP?  (The information is in the Help page).</p>\n<p>Are you getting any error messages in your PHP error log?   Also can you turn on the JavaScript console in your browser and let me know if you are getting any JavaScript errors?</p>\n<p>Thanks,</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/248/", "title": "#248 $TargetURL, $returl and $Action are Blank in session_drupal.inc", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>Problem Description:- $TargetURL, $returl and $Action are Blank in session_drupal.inc</p>\n<p>Environment:- MRBS 1.4.8, Drupal 6.26</p>\n<p>I Install/Configured the mrbs using this link (http://mrbs.sourceforge.net/view_text.php?section=Documentation&amp;file=INSTALL). After configuring MRBS with drupal, I am getting the above issue because of that my mrbs page is showing message \"Come Back to Drupal\" in place of username. I am attaching 2 files which we have created to integrate with drupal.</p>\n<p>Thanks in advance,<br>\nVed</p></div></div>\n  \n    <strong class=\"grid-18\">1 Attachments</strong>\n    <div class=\"clear\">\n    \n        <div class=\"attachment_thumb\">\n          \n          <a href=\"/p/mrbs/bugs/248/attachment/drupal-auth-session.zip\">drupal-auth-session.zip</a>\n        </div>\n    \n    </div>\n    <div style=\"clear:both\"></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi Ved<br/>\nI have implemented MRBS with Drupal a few times now and have identified a few different issues that can crop up and need to be addressed.  From the information you have supplied, I think the problem is you have incompatible versions and you will need to change one side or the other.<br/>\nFirstly, the files you supplied are the Drupal 7 files, which will not work with Drupal 6.  If you use the Drupal 6 MRBS module, you will need to use version 1.4.0 of MRBS<br/>\nSee <a href=\"http://drupal.org/project/mrbs\" rel=\"nofollow\">http://drupal.org/project/mrbs</a><br/>\nI am using Drupal 7 and 1.4.9 of MRBS and both work, but I have done a few tweaks to improve usability.</p>\n<p>Regards<br/>\nMartin</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/59009d7a/af3f/\"><div class=\"markdown_content\"><p>care to share the \"tweaks\"?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sure, but not sure this is the best place as it would be off topic.  One tweak is to get the email address from Drupal to use within MRBS for booking emails.</p>\n<p>I have recorded it here - <a href=\"http://drupal.org/node/1843132\" rel=\"nofollow\">http://drupal.org/node/1843132</a><br/>\nThe other is to fix a small annoyance in that the link from Drupal has to go to an admin page to force a login.  I will look at documenting this on the Drupal module site.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/247/", "title": "#247 Deleting an entry can email list with too many affected entries", "status": "closed", "labels": "MRBS (195)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>This may be the same bug as #232.<br>\nIf you make a repeating booking and later delete a single entry of the series, you get an email notification (if notifications are turned on) listing all the selected entry <em>and all later entries in the series</em> (including any previously deleted entries) as deleted.<br>\nIt is only the selected entry that is actually deleted (as expected), but it can be confusing to the users.</p>\n<p>Giulio Villa<br>\nDTU Space </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm running the latest release version of MRBS (1.4.9) and also have this issue. Let me know if more information is needed for reproducing this bug.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.  Fixed in Rev 2572.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/246/", "title": "#246 Error generating report as .ics file", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When generating reports for \"All\" or \"Tentative\" events into an .ics file, there is no problem. However if I try to generate a report for \"Confirmed\" events to an .ics file I consistently get the following error message:</p>\n<p>Fatal error: unfortunately the database is not available at the moment.</p>\n<p>I would much appreciate a fix for this as I'd like to export \"Confirmed\" events to another, public, calendar.</p>\n<p>Really appreciate this software which helps us organize our small local community centre, thank you!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/42cfa69e/d155/\"><div class=\"markdown_content\"><p>from my error_log:<br/>\n<span>[26-Aug-2012 11:10:32]</span> PHP Parse error:  syntax error, unexpected T_VARIABLE in /PATH_TO_WEBSITE/mrbs/config.inc.php on line 69</p>\n<p>line 68 in that file is the morningstarts_minutes part of:</p>\n<div class=\"codehilite\"><pre><span></span>    // The beginning of the first slot of the day (DEFAULT VALUES FOR NEW AREAS)\n    $morningstarts         = 7;   // must be integer in range 0-23\n    $morningstarts_minutes = 0;   // must be integer in range 0-59\n\n    // The beginning of the last slot of the day (DEFAULT VALUES FOR NEW AREAS)\n    $eveningends           = 23;  // must be integer in range 0-23\n    $eveningends_minutes   = 30;   // must be integer in range 0-59\n</pre></div>\n<p>I don't understand why this error would only come up while selecting \"confirmed\" events in the report, and why it only happens when saving as .ics</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm not sure about that message in your error log.  I suspect that's due to a different problem, probably a typo in your config file.</p>\n<p>I've fixed the export problem in the trunk (Rev 2438).  If you're running 1.4.8 you can patch your system by changing 'status' to 'E.status' in the three lines 942, 949 and 956 in report.php</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/42cfa69e/e097/\"><div class=\"markdown_content\"><p>Thank you so much for the rapid fix Campbell.<br/>\nThis is the version of the rep;ort.php file I have<br/>\n// $Id: report.php 2163 2011-11-02 15:22:38Z cimorrison $</p>\n<p>I edited the lines and it works perfectly now.</p>\n<h2 id=\"best-regards-from-canada\">Best regards from Canada.</h2>\n<p>Edit: BTW the error log line that I originally posted was August 26 when I installed, today is Sept 26 and the error message was the following:</p>\n<p><span>[26-Sep-2012 11:35:00]</span> PHP Warning:  Column 'status' in where clause is ambiguous in /PATH_TO_SITE/mrbs/report.php on line 1064<br/>\n<span>[26-Sep-2012 11:35:00]</span> MRBS: Fatal error: unfortunately the database is not available at the moment.<br/>\n<span>[26-Sep-2012 11:35:00]</span> MRBS GET: Array<br/>\n(<br/>\n<span>[from_day]</span> =&gt; 26<br/>\n<span>[from_month]</span> =&gt; 9<br/>\n<span>[from_year]</span> =&gt; 2012<br/>\n<span>[to_day]</span> =&gt; 25<br/>\n<span>[to_month]</span> =&gt; 11<br/>\n<span>[to_year]</span> =&gt; 2012<br/>\n<span>[areamatch]</span> =&gt; <br/>\n<span>[roommatch]</span> =&gt; <br/>\n<span>[typematch]</span> =&gt; Array<br/>\n        (<br/>\n<span>[0]</span> =&gt; E<br/>\n        )</p>\n<div class=\"codehilite\"><pre><span></span>[namematch] =&gt; \n[descrmatch] =&gt; \n[creatormatch] =&gt; \n[match_confirmed] =&gt; 1\n[summarize] =&gt; 17\n[sortby] =&gt; r\n[sumby] =&gt; d\n[phase] =&gt; 2\n[datatable] =&gt; 1\n</pre></div>\n<p>) </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2012-09-26</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/245/", "title": "#245 username login accepted with following blank space leads to \"permission denied\" when trying to change bookings", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I'm using v1.4.8 with authtype db and sessiontype cookie. It seems to be allowed to log in with username followed by a blank space as well. When trying do modify the user's bookings this leads to \"permission denied\" because \"username \" is not equal \"username\".<br>\nMy workaraund was to trim $creator and $user before it is compared in getWritable - seems to work. I think it would be better to deny logins followed by a blank space in future releases.</p>\n<p>function getWritable($creator, $user, $room)<br>\n{<br>\n  // Always allowed to modify your own stuff<br>\n  if(strcasecmp(trim($creator), trim($user)) == 0)<br>\n  {<br>\n    return 1;<br>\n  }</p>\n<p>// Otherwise you have to be a (booking) admin for this room<br>\n  if (auth_book_admin(trim($user), $room))<br>\n  {<br>\n    return 1;<br>\n  }<br>\n  // Unathorised access<br>\n  return 0;<br>\n}</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks - yes, I agree, denying logins followed by a blank space is the best solution.   The problem was that the comparison being used in the database query was a plain '=' comparison, which in MySQL allows trailing spaces.</p>\n<p>Fix committed in SVN Rev 2408.</p>\n<p>Campbell</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/244/", "title": "#244 Call to undefined function mrbsGetBookingInfo()", "status": "closed", "labels": "mrbsGetBookingInfo() (1)", "priority": "9", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When i want to entering booking detail from main page, I am taking tihs error:<br>\n\"Fatal error: Call to undefined function mrbsGetBookingInfo() in /opt/lampp/htdocs/eegemg/view_entry.php on line 123\"</p>\n<p>what can i do? Help me!</p>\n<hr>\n<p>system info is here:<br>\nMRBS 1.4.7<br>\nDB: MySQL 5.5.25a<br>\nSystem: Linux webhost 3.2.0-29-generic-pae #46-Ubuntu SMP Fri Jul 27 17:25:43 UTC 2012 i686<br>\nServer time:    Wed 05 Sep 2012 12:30:56 EEST<br>\nPHP:    5.4.4</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Have you just installed MRBS or have you been running for a while with no problems?   It sounds like either one of your files has got corrupted or else one is missing.   I would try re-uploading the web files.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d4f7457b/2d00/\"><div class=\"markdown_content\"><p>Before my host was Windows 2008 Server, but now my host is Ubuntu. Well, i am tried to new installation, but i took same error again.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2012-09-05</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Was MRBS working before, or have you just installed it?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d4f7457b/313e/\"><div class=\"markdown_content\"><p>Yes it was working on Windows Xampp, but crashed my OS, I decided to work it on Linux by Lampp, i replaced all files and all db datas to new Ubuntu host, but not now it has only this error when i want to show books' details.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The function mrbsGetBookingInfo() is contained in the file mrbs_sql.inc.   Make sure that you've got that uploaded.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d4f7457b/822b/\"><div class=\"markdown_content\"><p>yes i have hot that adn uploaded</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>When you are looking at the view_entry.php page does the URL in the browser address bar have a query string (eg ?id=1234) or is just plain yoursite/view_entry.php?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d4f7457b/5204/\"><div class=\"markdown_content\"><p>i am sending printscreen</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Strange!  Do other pages, eg day.php, work OK?</p>\n<p>Are you getting any error messages in your error log?   If not, one thing you could do is turn on full error reporting by inserting the line</p>\n<div class=\"codehilite\"><pre><span></span>error_reporting (-1);\n</pre></div>\n<p>just after</p>\n<div class=\"codehilite\"><pre><span></span>error_reporting ($error_level);\n</pre></div>\n<p>in internalconfig.inc.php</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d4f7457b/05fc/\"><div class=\"markdown_content\"><p>Day, week, month views, it means that: all views have same error when i want to see the details.</p>\n<p>I did what you said, but again and again it is doing same error.</p>\n<p>What else, ?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Are you getting any messages in your error log (usually error.log)?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can you try replacing the line</p>\n<div class=\"codehilite\"><pre><span></span>require_once \"mrbs_sql.inc\";\n</pre></div>\n<p>near the top of viewentry.php with</p>\n<div class=\"codehilite\"><pre><span></span>require_once getcwd() . \"/mrbs_sql.inc\";\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/d4f7457b/f113/\"><div class=\"markdown_content\"><p>i tried but failed.<br/>\nBut with original files, when i restart the lampp , mrbs working fine !</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good - glad it's working now!</p>\n<p>Campbell</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/243/", "title": "#243 PHP5 function in language.inc", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The function utf8_bytecount() in language.inc contains the function str_split().</p>\n<p>str_split() is a PHP5 function and not available on systems using PHP4.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.  Fixed in SVN Rev 2394.</p>\n<p>Campbell</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/242/", "title": "#242 Strings to be translated should be formated", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Strings to be translated should be based on sentence, not a parts connection.</p>\n<p>Case 1: (Suffix/termination is required)<br>\n$vocab<span>[\"max_per_day_global\"]</span>      = \"The maximum number of bookings per day per user across the whole system is\";</p>\n<p>I want to translate this with:<br>\n$vocab<span>[\"max_per_day_global\"]</span>      = \"\u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u306e\u3001\u30e6\u30fc\u30b6\u30fc\u3042\u305f\u308a\u306e1\u65e5\u306e\u6700\u5927\u4e88\u7d04\u6570\u306f%d\u4ef6\u3067\u3059\u3002\";</p>\n<p>Case 2: (Word order is changed between languages)<br>\nIn web/search.php<br>\n    $html .= get_vocab(\"records\") . ($search_pos+1) . get_vocab(\"through\") . ($search_pos+$num_records) . get_vocab(\"of\") . $total;</p>\n<p>I want to translate this with:<br>\n   $html .= printf(get_vocab(\"records_new\"), $search_pos+1, $search_pos+$num_records, $total);<br>\nlang.en<br>\n$vocab<span>[\"repords_new\"]</span> = \"Records %d through %d of %d\"<br>\nlang.ja (%3$d: 3rd argument in decimal)<br>\n$vocab<span>[\"repords_new\"]</span> = \"%3$d\u4ef6\u4e2d%1$d\u304b\u3089%2$d\u4ef6\u306e\u5c65\u6b74\"</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Implemented in Rev 2944</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/241/", "title": "#241 Date format is locale specific", "status": "open", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Now date formats are defined in systemdefaults.inc.php<br>\nHowever they are locale specific setting and should be defined in lang.*.</p>\n<p>Current implementation is not a good idea if the company has users who use diffrent languages.</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/240/", "title": "#240 edit_entry_handler.php - Failed to acquire exclusive database access", "status": "closed", "labels": "None", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi MRBS developers,<br>\n   I have installed the MRBS v1.4.8 for several months, it works well.However, recently, I found that if anybody want to book the room(it shows \"edit_entry_handler.php\" was executing), it took a very long time and sometimes failed and reported \"Failed to acquire exclusive database access\". <br>\n   Is there any known issue about this? And do you have any suggestion about it?<br>\n   Thanks for your time in advance.<br>\n            Cheney</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think there may be a problem lurking somewhere in MRBS or else in your network or system configuration.   See also SF Support Requests 252 and 258.</p>\n<p>Can you first of all try making the following change:</p>\n<p>This sounds like a bug which has already been fixed in the trunk. You can patch your 1.4.8 system by editing edit_entry_handler.php and adding</p>\n<p>sql_mutex_unlock(\"$tbl_entry\");</p>\n<p>at line 647, ie just after</p>\n<p>// If this is an Ajax request and if it's not a valid booking which we want<br/>\n// to commit, then output the results and exit. Otherwise we go on to commit the<br/>\n// booking<br/>\nif ($ajax &amp;&amp; function_exists('json_encode'))<br/>\n{<br/>\nif (!($commit &amp;&amp; $valid_booking))<br/>\n{</p>\n<p>Please let me know if that fixes the problem or not.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/772cd77d/4e3d/\"><div class=\"markdown_content\"><p>Linkage: <a class=\"alink\" href=\"/p/mrbs/support-requests/252/\">[support-requests:#252]</a> <a class=\"alink strikethrough\" href=\"/p/mrbs/support-requests/258/\">[support-requests:#258]</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<h4>Related</h4>\n<p>\n<a href=\"/p/mrbs/support-requests/252/\">Support Requests: #252</a><br/>\n<a href=\"/p/mrbs/support-requests/258/\">Support Requests: <s>#258</s></a><br/>\n</p>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi Campbell,<br/>\n   Really appreciate your prompt response. I applied what you indicated as below, but seems it does not work. The book still takes too long time.<br/>\n    1. sql_mutex_unlock(\"$tbl_entry\");<br/>\n       at line 647, ie just after<br/>\n    2. $ajax_refresh_rate = 0;</p>\n<div class=\"codehilite\"><pre><span></span>Do you have more suggestion about it?\n\nThanks.\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Other people have had similar problems which turned out to be due to problems with their network configuration.   Is your SQL server on the same machine as your web server or is it remote?  To quote from a thread on the mailing list:</p>\n<blockquote>\n<p>MRBS (PHP) is communicating with the database (MySQL) via network<br/>\nsockets, so if the network is misconfigured you could well have problems<br/>\nwith things being slow.</p>\n<p>Your server should have at least the following:</p>\n<p>1) A FQDN for the host itself, as returned by 'hostname'. It should<br/>\nideally be a full hostname with the domain in, i.e. myhost.example.com</p>\n<p>2) An entry for localhost in /etc/hosts, i.e.:<br/>\n127.0.0.1 localhost.localdomain localhost</p>\n<p>3) An entry for the FQDN in /etc/hosts, i.e.:<br/>\n1.2.3.4 myhost.example.com myhost</p>\n</blockquote>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi Campbell,<br/>\n    I installed the mysql and MRBS in the same server. Is there same impact as the remote SQL server?<br/>\n    Currently, my configuration in /etc/hosts is that 127.0.0.1       localhost, then I modify the entry as below<br/>\n127.0.0.1 localhost.localdomain localhost<br/>\n    But the book still be slow.<br/>\n    Anyway, thanks for your help. Looking forward to other suggestion.<br/>\n    Cheney     </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've just re-read the thread.   Can you confirm that you inserted the line </p>\n<div class=\"codehilite\"><pre><span></span>sql_mutex_unlock(\"$tbl_entry\");\n</pre></div>\n<p>in edit_entry_handler.php at line 647?    Why I'm asking is that you said you'd inserted it just after </p>\n<div class=\"codehilite\"><pre><span></span>$ajax_refresh_rate = 0;\n</pre></div>\n<p>However that line does not appear anywhere in edit_entry_handler.php.   The insertion should be just after</p>\n<div class=\"codehilite\"><pre><span></span>if ($ajax &amp;&amp; function_exists('json_encode'))\n{\n  if (!($commit &amp;&amp; $valid_booking))\n  {\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/772cd77d/5b10/\"><div class=\"markdown_content\"><p>Hi Campbell, this also starting happening for our server on Thursday last week, with no changes made on the network, server, or anything else for that matter, it seems like it just started with no catalyst (now, we all nknow this can't be true)</p>\n<p>I've added the sql_mutex_unlock(\"%tbl_entry\");</p>\n<p>line where indicated (As shown below)</p>\n<p>// If this is an Ajax request and if it's not a valid booking which we want<br/>\n// to commit, then output the results and exit.   Otherwise we go on to commit the<br/>\n// booking<br/>\nif ($ajax &amp;&amp; function_exists('json_encode'))<br/>\n{<br/>\n  if (!($commit &amp;&amp; $valid_booking))<br/>\n  {<br/>\n    sql_mutex_unlock(\"$tbl_entry\"); <br/>\n    $result = array();<br/>\n    $result<span>['valid_booking']</span> = $valid_booking;<br/>\n    $result<span>['rules_broken']</span> = $rules_broken;</p>\n<p>Here's the thing sometimes we get the failed to open exclusive access error, and others simply times out, the only common factor is it's sitting at the edit_event_handler.php</p>\n<p>We've tried looking at this from a multitude of angles (including the mysql side, which reports threads closing in event viewer, but I suspect this is down to timeouts again)</p>\n<p>Any help would be very much appreciated as we currently have no facility to book rooms for 8 offices (and some very agitating recpetionists!!!).</p>\n<p>Using win 2k8 x64 ESXi VM, XAMPP 1.7.3.</p>\n<p>MRBS v1.4.8</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Rich Kellett 2012-08-13</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Apologies forgot to login in First - d'oh!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/772cd77d/f14e/\"><div class=\"markdown_content\"><p>And a bit more info, set $ajax_refresh_rate = 0;<br/>\nalso enabled ebugging, no error is shown when clicking the save button, however I'm forever getting thrown a datepicker Object expected error (although the datepicker does appear to be working fine.</p>\n<p>Running this from <a href=\"http://localhost\" rel=\"nofollow\">http://localhost</a> to rule out any networking errors (which shouldn't be a problem anyway as this has been working absolutely fine).</p>\n<p>In case it's relevant, the JS error:- (object expected at '^')</p>\n<p>^$(function() {<br/>\n    $(\"#datepicker\").datepicker({yearRange: '2007:2017',<br/>\n                                                       altField: '#datepicker_alt'<br/>\n                                                                                                             });<br/>\n        var initial_date = new Date(2012, 7, 13);<br/>\n    var dateFormat = $(\"#datepicker\").datepicker( \"option\", \"dateFormat\" );<br/>\n    document.getElementById('datepicker').value = $.datepicker.formatDate(dateFormat, initial_date);<br/>\n    document.getElementById('datepicker_alt_day').value = 13;<br/>\n    document.getElementById('datepicker_alt_month').value = 8;<br/>\n    document.getElementById('datepicker_alt_year').value = 2012;<br/>\n    $(\".ui-datepicker\").draggable();<br/>\n  });</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK - that's helpful.   You mean if you set $ajax_refresh_rate = 0; then the \"Failed to acquire .. \" message goes away and all you are left with is the object expected error (presumably in the JavaScript console)?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which browser and version are you using when you get the datepicker Object expected error?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/772cd77d/93a4/\"><div class=\"markdown_content\"><p>no, regardless of whether or not I have the $ajax_refresh_Rate at 0 or 10 (or 20 for that matter) I still get the JS error, just mentioning that changing the value did nothing the shape of resolving...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/772cd77d/bc51/\"><div class=\"markdown_content\"><p>on IE8, get the datee picker object any time the calendar or datepicker is required (so once on loading the first screen (date picker at top, which is the line 214 error -and 4 times when editing / creating an event (one for datepicker at top of page (line 214), one for start date (line 716), end date (line 1289) and Repeat End Date (Line 2092))</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Rich Kellett 2012-08-14</small>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/772cd77d/1c24/\"><div class=\"markdown_content\"><p>in short I think it's every time a call is made to the date picker function, almost as if some variables aren't getting passed along properly - which I also don't understand as the picker does display the correct dates (eg today it's selected 14 Aug 2012 as the default goto date), could this be linked to the db error on the edit_entry_handler?</p>\n<p>FYI I know unlikely but thought I'd take a prod at it anyway, I exported and created a new DB, re-imported and tested that as the DB, error still exists, don't know if that gives you anymore insight into it, but I'll popst anything else I try (never know, it may help with elimination process...)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>last 3 post were me, again forgot to login.... apologies....</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Also tried Disabling Anti-Virus, in case that was causing the issue... No</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Interesting, just upgraded xampp to 1.8.0 - and now when trying to create / edit I now get a completely different area, which may be of more use...</p>\n<p>Fatal error: Call to undefined function mrbsGetRoomArea() in C:\\xampp\\htdocs\\xampp\\mrbs\\web\\edit_entry_handler.php on line 264</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ignore last post, we'd commented out an include to do some testing - Great News, the upgrade to XAMPP has done the trick :)</p>\n<p>However we are still getting the Datepicker errors.. (on the grand scheme of things however, this is nothing major!)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Rich Kellett 2012-08-14</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Glad the \"Failed to acquire has gone away\".  I don't know what's causing the \"Object expected error\".   You could try upgrading to the latest version of MRBS in SVN and see if it's any better.</p>\n<p>Campell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'll wait for the 1.4.9 as we're also having the slow editing issue due to ldap authentication (which I believe has been resolved in 1.4.9), I've got a happy of admin staff at the minute, I don't want to rock the boat so soon....</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>and forgot to mention thanks for the quick response - nice to receive a high level of service, working in IT, it's nice to know that you're work is actually appreciated - so, to that end, thank you :)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi Campbell, FYI this has flared itself back up again, restarting the services brought it back to life, but this happened last time too, until it eventually wouldn't run full stop, I've renabled the db_nopersist so hopefully that will stop the issue...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Does your site forbid external internet access?  In which case I think I understand the problem, which can be solved by setting</p>\n<div class=\"codehilite\"><pre><span></span>$zoneinfo_expiry = PHP_INT_MAX;\n</pre></div>\n<p>in your config file.</p>\n<p>See <a href=\"https://sourceforge.net/p/mrbs/support-requests/258/?limit=10&amp;page=1#19f8\">https://sourceforge.net/p/mrbs/support-requests/258/?limit=10&amp;page=1#19f8</a> for an explanation.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Campbell Morrison 2012-09-05</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/239/", "title": "#239 Escaped strings ignore PostgreSQL settings", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>After upgrading from PostgreSQL 8.3 to 8.4, I got a warning about nonstandard string escaping. In fact, the behavior depends on some settings which may vary between PostgreSQL versions or sites.</p>\n<p>The attached patch ensures compatible settings for the connection. A better, but not so simple solution would be explicit escape string syntax, or not use escaping at all (use prepared statements with placeholders instead).</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ensure correct escaping of strings</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for the patch.   The problem has previously been reported and the correct PostgreSQL escaping was applied in Rev 2277.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you for the quick response. The fix in SVN is indeed much better.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The fix will appear in MRBS 1.4.9</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/238/", "title": "#238 HTTP session authenticates for every table cell", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS 1.4.8.  When generating a table view (e.g. day or week view), the table is generated by calling cell_html() for every cell.  The cell_html() function calls getUserName(), which, despite its name, actually verifies the password by calling authValidateUser().</p>\n<p>If using HTTP sessions and LDAP authentication, generating a day view for an area with 10 rooms and 30 time slots takes over 25 seconds.  The effect of ~ 300 LDAP connects and binds on performance is brutal.  Ideally, there should only be one connect and bind to LDAP.</p>\n<p>A quick hack is to add a static $cachedUserName to getUserName() in session_http.inc.  If authValidUser($user,getAuthPassword()) succeeds, then set $cachedUserName=$user.  It's not architecturally elegant, but it does bring the response time down to ~ 400 ms when the right password is given.  A more appropriate solution would be to lift the invariant out of the table-cell loop.  Another solution would be to separate authValidateUser() from getUserName() \u2014 the cell just wants to know whether the user should be presented with the UI elements to initiate editing of an entry, which is not in itself an act that needs to be verified.  There is still the edit screen and the submission of that form.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Quick hack</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.   I'll have a closer look at this later, but my initial reaction is that there may well be other places where getUserName() is called multiple times on the assumption that there's a negligible performance penalty, so it would be better to do something with getUserName() rather than cell_html().</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Rev 2281</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The fix will appear in MRBS 1.4.9</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/237/", "title": "#237 vocab override feature", "status": "closed", "labels": "MRBS (195)", "priority": "3", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>It would be nice if config.inc.php could override certain built-in UI vocabulary terms, say, to match house terminology.</p>\n<p>For example, in our organization, we have deployed two instances of MRBS (with different access rights):  one called \"Meeting Room Booking System\", and another called \"Office Booking System\".</p>\n<p>With this feature, I could specify<br>\n  $vocab_override<span>['en']</span><span>['mrbs']</span> = 'Office Booking System';<br>\non the latter system and not have to hack lang.en every time I upgrade.</p>\n<p>The suggested patch is the minimal change to implement this feature.  It's ugly copy-and-paste programming; I suggest cleaning it up before incorporating it into MRBS.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Suggested patch against MRBS 1.4.8</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Good idea.   Implemented in Rev 2273.</p>\n<p>Thanks,</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Is this or is this not actually working in 1.4.9? I see that this feature request is still open and I can't seem to make the vocab_override variable(s) do what they're supposed to do.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Should be.   What have you got set and where?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Nevermind. I had a require_once(\"language.inc\") in my config.inc.php that<br/>\nmust have been there for an older version. Removing it seems to have fixed<br/>\nthe problem.</p>\n<p>Thanks,<br/>\nRuss</p>\n<p>On Wed, Nov 28, 2012 at 12:54 PM, Russel Ingram <a href=\"mailto:ringram@gargoylecc.com\">ringram@gargoylecc.com</a>wrote:</p>\n<blockquote>\n<p>I've got custom strings for the email confirmations and for the booking<br/>\ntypes. Here's how I've got it in my config.inc.php:</p>\n<p>$vocab_override<span>['en']</span><span>['mail_body_new_entry']</span>     = \"A new entry has been<br/>\nbooked.\\n\" .<br/>\n                                    \"If this is for an event, please be<br/>\nsure \" .<br/>\n                                    \"to fill out the event form: \" .<br/>\n                                    \"<br/>\n<a href=\"https://intranet.systemsbiology.net/Plone/administration/communications/events-1\\n\" rel=\"nofollow\">https://intranet.systemsbiology.net/Plone/administration/communications/events-1\\n</a>\"<br/>\n.<br/>\n                                    \"If this is for a video conference, \" .<br/>\n                                    \"please be sure to fill out the VTC<br/>\nform: \" .<br/>\n                                    \"<br/>\n<a href=\"https://intranet.systemsbiology.net/Plone/administration/information-technology/services/vtc\\n\" rel=\"nofollow\">https://intranet.systemsbiology.net/Plone/administration/information-technology/services/vtc\\n</a>\"<br/>\n.<br/>\n                                    \"Details on your room booking are<br/>\nbelow:\";<br/>\n$vocab_override<span>['en']</span><span>['mail_body_changed_entry']</span> = \"An entry has been<br/>\nmodified.\\n\" .<br/>\n                                    \"If this is for an event, please be<br/>\nsure \" .<br/>\n                                    \"to fill out the event form: \" .<br/>\n                                    \"<br/>\n<a href=\"https://intranet.systemsbiology.net/Plone/administration/communications/events-1\\n\" rel=\"nofollow\">https://intranet.systemsbiology.net/Plone/administration/communications/events-1\\n</a>\"<br/>\n.<br/>\n                                    \"If this is for a video conference, \" .<br/>\n                                    \"please be sure to fill out the VTC<br/>\nform: \" .<br/>\n                                    \"<br/>\n<a href=\"https://intranet.systemsbiology.net/Plone/administration/information-technology/services/vtc\\n\" rel=\"nofollow\">https://intranet.systemsbiology.net/Plone/administration/information-technology/services/vtc\\n</a>\"<br/>\n.<br/>\n                                    \"Details on your room booking are<br/>\nbelow:\";<br/>\n$vocab_override<span>[\"en\"]</span><span>[\"type.I\"]</span> = \"ISB\";<br/>\n$vocab_override<span>[\"en\"]</span><span>[\"type.E\"]</span> = \"Tenant\";</p>\n<p>It looks to me like it follows the examples in the systemdefaults.inc.php,<br/>\nbut maybe I'm missing something. I'm also not getting any errors from php<br/>\nso php doesn't think anything bad is happening.</p>\n<p>Russ</p>\n<p>On Wed, Nov 28, 2012 at 12:50 PM, Campbell Morrison <a href=\"mailto:\ncimorrison@users.sf.net\">\ncimorrison@users.sf.net</a> wrote:</p>\n<blockquote>\n<p>Should be. What have you got set and where?</p>\n<h2 id=\"campbell\">Campbell</h2>\n<ul>\n<li><a class=\"alink strikethrough\" href=\"/p/mrbs/bugs/237/\">[bugs:#237]</a> <a href=\"http://sourceforge.net/p/mrbs/bugs/237/\">http://sourceforge.net/p/mrbs/bugs/237/</a> vocab override<br/>\nfeature*</li>\n</ul>\n<p><em>Status:</em> open<br/>\n<em>Labels:</em> MRBS<br/>\n<em>Created:</em> Thu Mar 08, 2012 09:43 PM UTC by dwpoon<br/>\n<em>Last Updated:</em> Wed Nov 28, 2012 08:42 PM UTC<br/>\n<em>Owner:</em> Campbell Morrison</p>\n<p>It would be nice if config.inc.php could override certain built-in UI<br/>\nvocabulary terms, say, to match house terminology.</p>\n<p>For example, in our organization, we have deployed two instances of MRBS<br/>\n(with different access rights): one called \"Meeting Room Booking System\",<br/>\nand another called \"Office Booking System\".</p>\n<p>With this feature, I could specify<br/>\n$vocab_override<span>['en']</span> <a href=\"http://sourceforge.net/../'en'\">http://sourceforge.net/../'en'</a><span>['mrbs']</span><a href=\"http://sourceforge.net/../'mrbs'\">http://sourceforge.net/../'mrbs'</a>= 'Office Booking System';<br/>\non the latter system and not have to hack lang.en every time I upgrade.</p>\n<p>The suggested patch is the minimal change to implement this feature. It's<br/>\nugly copy-and-paste programming; I suggest cleaning it up before<br/>\nincorporating it into MRBS.</p>\n<hr/>\n<p>Sent from sourceforge.net because you indicated interest in<br/>\n<a href=\"https://sourceforge.net/p/mrbs/bugs/237/\">https://sourceforge.net/p/mrbs/bugs/237/</a></p>\n<p>To unsubscribe from further messages, please visit<br/>\n<a href=\"https://sourceforge.net/auth/prefs/\">https://sourceforge.net/auth/prefs/</a></p>\n</blockquote>\n<p>--<br/>\nRussel Ingram<br/>\n10109B 3rd Ave NW<br/>\nSeattle, WA 98177<br/>\n+1 206 518 2944</p>\n</blockquote>\n<p>-- <br/>\nRussel Ingram<br/>\n10109B 3rd Ave NW<br/>\nSeattle, WA 98177<br/>\n+1 206 518 2944</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<h4>Related</h4>\n<p>\n<a href=\"/p/mrbs/bugs/237/\">Bugs: <s>#237</s></a><br/>\n</p>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've got custom strings for the email confirmations and for the booking<br/>\ntypes. Here's how I've got it in my config.inc.php:</p>\n<p>$vocab_override<span>['en']</span><span>['mail_body_new_entry']</span>     = \"A new entry has been<br/>\nbooked.\\n\" .<br/>\n                                    \"If this is for an event, please be<br/>\nsure \" .<br/>\n                                    \"to fill out the event form: \" .<br/>\n                                    \"<br/>\n<a href=\"https://intranet.systemsbiology.net/Plone/administration/communications/events-1\\n\" rel=\"nofollow\">https://intranet.systemsbiology.net/Plone/administration/communications/events-1\\n</a>\"<br/>\n.<br/>\n                                    \"If this is for a video conference, \" .<br/>\n                                    \"please be sure to fill out the VTC<br/>\nform: \" .<br/>\n                                    \"<br/>\n<a href=\"https://intranet.systemsbiology.net/Plone/administration/information-technology/services/vtc\\n\" rel=\"nofollow\">https://intranet.systemsbiology.net/Plone/administration/information-technology/services/vtc\\n</a>\"<br/>\n.<br/>\n                                    \"Details on your room booking are<br/>\nbelow:\";<br/>\n$vocab_override<span>['en']</span><span>['mail_body_changed_entry']</span> = \"An entry has been<br/>\nmodified.\\n\" .<br/>\n                                    \"If this is for an event, please be<br/>\nsure \" .<br/>\n                                    \"to fill out the event form: \" .<br/>\n                                    \"<br/>\n<a href=\"https://intranet.systemsbiology.net/Plone/administration/communications/events-1\\n\" rel=\"nofollow\">https://intranet.systemsbiology.net/Plone/administration/communications/events-1\\n</a>\"<br/>\n.<br/>\n                                    \"If this is for a video conference, \" .<br/>\n                                    \"please be sure to fill out the VTC<br/>\nform: \" .<br/>\n                                    \"<br/>\n<a href=\"https://intranet.systemsbiology.net/Plone/administration/information-technology/services/vtc\\n\" rel=\"nofollow\">https://intranet.systemsbiology.net/Plone/administration/information-technology/services/vtc\\n</a>\"<br/>\n.<br/>\n                                    \"Details on your room booking are<br/>\nbelow:\";<br/>\n$vocab_override<span>[\"en\"]</span><span>[\"type.I\"]</span> = \"ISB\";<br/>\n$vocab_override<span>[\"en\"]</span><span>[\"type.E\"]</span> = \"Tenant\";</p>\n<p>It looks to me like it follows the examples in the systemdefaults.inc.php,<br/>\nbut maybe I'm missing something. I'm also not getting any errors from php<br/>\nso php doesn't think anything bad is happening.</p>\n<p>Russ</p>\n<p>On Wed, Nov 28, 2012 at 12:50 PM, Campbell Morrison &lt;cimorrison@users.sf.net</p>\n<blockquote>\n<p>wrote:</p>\n<p>Should be. What have you got set and where?</p>\n<h2 id=\"campbell\">Campbell</h2>\n<ul>\n<li><a class=\"alink strikethrough\" href=\"/p/mrbs/bugs/237/\">[bugs:#237]</a> <a href=\"http://sourceforge.net/p/mrbs/bugs/237/\">http://sourceforge.net/p/mrbs/bugs/237/</a> vocab override<br/>\nfeature*</li>\n</ul>\n<p><em>Status:</em> open<br/>\n<em>Labels:</em> MRBS<br/>\n<em>Created:</em> Thu Mar 08, 2012 09:43 PM UTC by dwpoon<br/>\n<em>Last Updated:</em> Wed Nov 28, 2012 08:42 PM UTC<br/>\n<em>Owner:</em> Campbell Morrison</p>\n<p>It would be nice if config.inc.php could override certain built-in UI<br/>\nvocabulary terms, say, to match house terminology.</p>\n<p>For example, in our organization, we have deployed two instances of MRBS<br/>\n(with different access rights): one called \"Meeting Room Booking System\",<br/>\nand another called \"Office Booking System\".</p>\n<p>With this feature, I could specify<br/>\n$vocab_override<span>['en']</span> <a href=\"http://sourceforge.net/../'en'\">http://sourceforge.net/../'en'</a><span>['mrbs']</span><a href=\"http://sourceforge.net/../'mrbs'\">http://sourceforge.net/../'mrbs'</a>= 'Office Booking System';<br/>\non the latter system and not have to hack lang.en every time I upgrade.</p>\n<p>The suggested patch is the minimal change to implement this feature. It's<br/>\nugly copy-and-paste programming; I suggest cleaning it up before<br/>\nincorporating it into MRBS.</p>\n<hr/>\n<p>Sent from sourceforge.net because you indicated interest in<br/>\n<a href=\"https://sourceforge.net/p/mrbs/bugs/237/\">https://sourceforge.net/p/mrbs/bugs/237/</a></p>\n<p>To unsubscribe from further messages, please visit<br/>\n<a href=\"https://sourceforge.net/auth/prefs/\">https://sourceforge.net/auth/prefs/</a></p>\n</blockquote>\n<p>-- <br/>\nRussel Ingram<br/>\n10109B 3rd Ave NW<br/>\nSeattle, WA 98177<br/>\n+1 206 518 2944</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<h4>Related</h4>\n<p>\n<a href=\"/p/mrbs/bugs/237/\">Bugs: <s>#237</s></a><br/>\n</p>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/236/", "title": "#236 Entry editor behaves poorly when an entry ends at midnight", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS 1.4.8.</p>\n<p>The entry editor behaves poorly when an entry ends at midnight.  To reproduce, define an area with two time slots midnight-noon, noon-midnight, for example.  (First slot starts 00:00, Resolution 720 minutes, Default 1440 minutes, Last slot starts 12:00.)</p>\n<p>There are three problems:</p>\n<p>1) If an event starts and ends at midnight, the dynamically generated slot selector displays \"n days, 24 hours\" instead of \"n+1 days\" as one would expect.</p>\n<p>2) The slot selector can have two options labeled \"00:00\" -- one representing 0 seconds from the start of the day and another representing 86400 seconds from the start of the day.  A user can distinguish the two midnights only by the order in which they are presented, which may be confusing.</p>\n<p>3) When \"All day\" is checked, the first time slot is automatically selected as the start time, and the last time slot is automatically selected as the end time.  However, if the end time is midnight, then the end date field has a value that is erroneously advanced by one day, since the displayed end date is derived from 00:00:00 of the following day, while the end time field is 24:00:00 of the preceding day (even though it is labeled as \"00:00\" in the selector).  As a result, toggling the \"All day\" button on an all-day entry has the effect of extending or shortening the entry by 24 hours, when the user would expect it to have no effect.</p>\n<p>This patch fixes the time slot selector to handle midnight wraparound.</p>\n<p>A fix to header.inc addresses problem (1).</p>\n<p>For problem (2), in the end-time selector, label midnight at the end of the day as \"23:59\" instead of \"00:00\".  (This is a visual change only; the associated value with that label remains 86400 seconds).  It would have been nice to label it as \"24:00\", but I don't see how that can be achieved using utf8_strftime() unless we perform a specific substitution on its output.</p>\n<p>To fix problem (3), when generating the end-date and -time selectors, internally pretend that midnight at the end of the day is 23:60:00 instead of 00:00:00 of the following day.  This fools the end date and time selectors into treating midnight as the end of the preceding day rather than the start of the following day.  Then, it is possible to toggle the \"All day\" button on an event that ends at midnight without having to change the date.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Patch against MRBS 1.4.8</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Patch against MRBS 1.4.9</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have fixed (1) in the trunk with Rev 2699.</p>\n<p>Problem (2) is I believe no longer a problem.   As part of the changes made when allowing the booking day to run past midnight, the notation \"* hhmm\" was introduced to donate a time on the following day, in much the same way that airlines display their timetables.  I think this is preferable to fiddling the time to 23:59, which is not quite accurate and would also be confusing if you had a resolutuion of one minute, or representing it as 24:00, which is technically invalid.</p>\n<p>I will look at problem (3) later.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've fixed problem (3) in Rev 2701, though not in the way suggested.  There were some more fundamental issues causing the problem.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/235/", "title": "#235 LDAP Administrators Makes MRBS Too Slow", "status": "open", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello MRBS Developers,</p>\n<p>I'm having an issue with the LDAP settings for administrators that is making the MRBS site very very slow.  The site works (admin users can edit and regular users cannot) but MRBS takes about 1000 times longer to load every page.  With the LDAP admin settings disabled and using the $auth<span>[\"admin\"]</span> instead it works nice and fast.</p>\n<p>Here are some firebug load times for reference (cache disabled).<br>\n- Not logged in: 1.14s<br>\n- Logged in as user using $auth<span>[\"admin\"]</span>: 993ms<br>\n- Logged in as admin using $auth<span>[\"admin\"]</span>: 1.11s<br>\n- Logged in as user using  $ldap_admin_group_dn: 22.36s<br>\n- Logged in as admin using  $ldap_admin_group_dn: 12.78s</p>\n<p>When $ldap_admin_group_dn is set I see a ton of LDAP activity in the logs (debugging enabled) every time I load a page.  Without it set the only LDAP activity is done simply at login.  It looks like if $ldap_admin_group_dn is set it will constantly re-authenticate against the LDAP server on every page load for every user (admin or not).  </p>\n<p>To fix this I would think that it should only check once that the user is in the admin group or not and store that in the session so it would not have to check on every load against he LDAP server.</p>\n<p>Sorry if this was done by design and is not a bug but as of now the performance impact of having our admin users in an LDAP group is too much and we cannot use it.</p>\n<p>Thank you again for making a sweet piece of software.</p>\n<p>PLATFORM INFORMATION<br>\nMRBS version - 1.4.8<br>\nWeb server and version - Apache/2.2.3 (Red Hat)<br>\nPHP version -   5.2.10<br>\nDatabase and version - MySQL 5.0.95<br>\nServer platform - Red Hat Enterprise Linux 5</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hello</p>\n<p>I had a similar problem.<br/>\nBut my installation only got slow if a \"standard\"user was logged in. If i logged in as Administrator the system was very fast.<br/>\nAfter i set \"$ldap_debug = FALSE;\" the system seems to be fast for everybody :-)<br/>\nDo you mean with \"debugging enabled\" that you set $ldap_debug=true? Try turning it off, if you don't need it.</p>\n<p>Thank you for making such a nice, useful software. We're using it to book our cars.</p>\n<p>PLATFORM INFORMATION<br/>\n MRBS version - 1.4.8 (?)<br/>\n Web server and version - Apache/2.2.21 <br/>\n PHP version - 5.3.8<br/>\n Database and version - MySQL 5.5.16<br/>\n Server platform - Windows Server 2003 Standard<br/>\nLDAP-Server - Windows Server 2003 Standard - Active Directory</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi Esquilaxde,</p>\n<p>I tried setting \"$ldap_debug = FALSE;\" and it did not fix the problem.</p>\n<p>I'll also add a little info about our directory.  It is a bit different since we are using 389 directory and not open ldap or ms active directory.  Instead of using groups we are using roles which should be fine but maybe thats the problem.  We chose to use roles instead of groups due to our user objects NOT having a \"memberof\" attribute to enable group membership lookup from the user object.  If we use roles the user gets a \"nsrole\" attribute to look up role membership just like how \"memberof\" group attribute works in other directories.</p>\n<p>Thanks,<br/>\n- Vince</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi,</p>\n<p>I confirm that I have the same issue.</p>\n<p>I use AD LDAP server (no TLS) and I use ldap_admin_group_dn, pointed to AD group.</p>\n<p>When not logged-in, everything works fast, when logged-in, it slows down (for example, you need to wait about 10 seconds to display page with 9 auditoriums). When ldap_admin_group_dn is commented out, it works fast even when logged-in.</p>\n<p>I enabled ldap_debug, and I see, that MRBS connects to AD for every event and checks, if logged-in user is member of admins group:</p>\n<p><span>[Tue Mar 27 17:27:08 2012]</span> <span>[error]</span> <span>[client 10.11.2.7]</span> authLdapCheckAdminGroupCallback: base_dn 'ou=admin,ou=_users,dc=domain,dc=lt' dn 'CN=Eimantas \\xc5\\xa0erpenskas,OU=admin,OU=_users,DC=domain,DC=lt' user_search 'distinguishedName=CN=Eimantas \\xc5\\xa0erpenskas,OU=admin,OU=_users,DC=domain,DC=lt' user 'eimis', referer: <a href=\"http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012\" rel=\"nofollow\">http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012</a><br/>\n<span>[Tue Mar 27 17:27:08 2012]</span> <span>[error]</span> <span>[client 10.11.2.7]</span> authCheckAdminGroupCallback: search successful memberof, referer: <a href=\"http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012\" rel=\"nofollow\">http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012</a><br/>\n<span>[Tue Mar 27 17:27:08 2012]</span> <span>[error]</span> <span>[client 10.11.2.7]</span> authLdapAction: Got LDAP connection, referer: <a href=\"http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012\" rel=\"nofollow\">http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012</a><br/>\n<span>[Tue Mar 27 17:27:08 2012]</span> <span>[error]</span> <span>[client 10.11.2.7]</span> authLdapAction: Result of initial bind is 1, referer: <a href=\"http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012\" rel=\"nofollow\">http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012</a><br/>\n<span>[Tue Mar 27 17:27:08 2012]</span> <span>[error]</span> <span>[client 10.11.2.7]</span> authLdapAction: Found one entry using 'sAMAccountName', referer: <a href=\"http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012\" rel=\"nofollow\">http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012</a><br/>\n<span>[Tue Mar 27 17:27:08 2012]</span> <span>[error]</span> <span>[client 10.11.2.7]</span> authLdapAction: base_dn 'ou=admin,ou=_users,dc=domain,dc=lt' user eimis dn CN=Eimantas \\xc5\\xa0erpenskas,OU=admin,OU=_users,DC=domain,DC=lt, referer: <a href=\"http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012\" rel=\"nofollow\">http://booking.domain.lt/day.php?area=2&amp;day=27&amp;month=3&amp;year=2012</a></p>\n<p>These lines repeated many times, about 2000 lines.</p>\n<p>Thanks,<br/>\n  Eimantas</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>A possibly-related bug:<br/>\n<a href=\"https://sourceforge.net/tracker/?func=detail&amp;aid=3515309&amp;group_id=5113&amp;atid=105113\">https://sourceforge.net/tracker/?func=detail&amp;aid=3515309&amp;group_id=5113&amp;atid=105113</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/234/", "title": "#234 Wrong File Name [session_cookie.inc]", "status": "wont-fix", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS 1.4.8<br>\nPHP 5.2.4<br>\nMySQL 5.0.45</p>\n<p>PHP error ff using $auth<span>[\"session\"]</span> = \"cookies\". mrbs_auth.inc can't find  session_cookie.inc. The file should rename to  session_cookies.inc to fix.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I assume the error message was \"can't find session_cookies.inc\"?   In which case I can't see what the problem is.     The config setting should be</p>\n<p>$auth<span>[\"session\"]</span> = \"cookie\";</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; wont-fix</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/233/", "title": "#233 SQL error being produced for custom fields", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I am using MRBS 1.4.5rc1, in mrbs_sql.inc around lines 310-320 you are assigning actual/default values to any custom fields.</p>\n<p>The default where the custom field is NOT set (  $value = ''; ) produces an SQL error. Should maybe be (    $value = '\\'\\''; ) ??</p>\n<p>Cheers</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suggest you upgrade to 1.4.8.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>As Campbell said, please upgrade to MRBS 1.4.8</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/232/", "title": "#232 deleting series can email incomplete list of affected enties", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If you make a repeating booking, say one that books the next 5 Mondays, and you have email notifications turned on, you get an email confirming the 5 dates of your Monday bookings. If you then click on the 3rd of those entries from the calendar and select the \"delete series\" link, all 5 of the bookings are removed, but the email will only tell you about the 3rd, 4th and 5th deletions, ie the ones forward from where you selected \"delete series\".</p>\n<p>It's not a biggie, but it is inconsistent.</p>\n<p>Neil</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.   Fixed in Rev 2572.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/231/", "title": "#231 [Warning: Server failed to set locale to 'en_GB.utf-8']", "status": "closed", "labels": "MRBS-DEV (7)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS 1.4.8<br>\nUnix<br>\n5.1.41-3 ubuntu12.10<br>\nApache/2.2.14 (Ubuntu)</p>\n<p>Hi,<br>\nI'm having trouble connecting with my server and am getting the above error in the top left hand side of the screen.</p>\n<p>My character set on phpmyadmin reads \"utf8_general_ci\" I realise this may not match \"en_GB.utf-8\" from the error but I have no idea how to fix this, I have tried various different things within the $override_locale variable but am getting no where. </p>\n<p>Would love for some help on this?</p>\n<p>Thanks</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is nothing to do with your MySQL settings but to do with your server (Ubuntu) configuration.   It sounds as though you haven't got the en_GB locale installed on your Ubuntu system.   Ideally you need to install this, but if that's impossible then you need to set $override_locale to something that is supported, eg \"en_US.utf-8\"</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you for your quick reply,  I have never had to deal in this before. I'm not from the US so presumably I would be best of intalling the en_GB locale? I was Googleing this earlier and couldn't find anything relevant. </p>\n<p>So how can I install a locale?</p>\n<p>Thank again</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p><a href=\"https://help.ubuntu.com/community/Locale\" rel=\"nofollow\">https://help.ubuntu.com/community/Locale</a>  may help</p>\n<p>As a first step I'd do locale -a to check what is installed</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'll assume Campbell's comments helped...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/5e420443/295e/af01/\"><div class=\"markdown_content\"><p>John, </p>\n<p>I am trying to reach John Beranek who lives on 598th St. Kellogg MN.  My name is Greg and I have the cabin next to Jason Rommel and have a couple questions for you.   Please call me at (507) 285-9246</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/230/", "title": "#230 textarea custom field generates javascript error", "status": "open", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS 1.4.8 apache 2.2 php 5.1 mysql 5.0 Scientific Linux 5.6</p>\n<p>After adding a new column to the \"entry\" and \"repeat\" tables (a varchar(80) in this case) to add a custom field to a booking, and then making it mandatory via <br>\n  $is_mandatory_field<span>['entry.contactinfo']</span> = TRUE;<br>\nin config.inc.php, MRBS generates the following PHP in the \"validate()\" function:</p>\n<div class=\"codehilite\"><pre><span></span>$.each(mandatory_fields,\n       function(index, value)\n       {\n         var field = $(\"#\"+value);\n                      if ( ((field.attr('type').toLowerCase() == 'checkbox') &amp;&amp; !field.attr('checked')) ||\n              (field.val() == '') )\n         {\n</pre></div>\n\n\n<p>The problem is the custom field generated is a &lt;textarea&gt; and that element does not have a \"type\" attribute, and javascript throws an error when the \"Save\" button is pressed. You'll probably not spot this error if all the mandatory fields were filled in, but if the required fields are not supplied you get taken to the \"invalid booking\" screen telling you about the missing field, but pressing \"back\" in your browser to correct the problem is likely to have thrown away any other changes that you made (though this does seem browser dependent)</p>\n<p>I'll see if I can produce a patch to cater for the &lt;textarea&gt; case, but for now, just though I should let you know.</p>\n<p>Neil</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.    I've fixed it in Rev 2241 by changing the condition to</p>\n<div class=\"codehilite\"><pre><span></span>         if ( ((field.attr('type') !== undefined) &amp;&amp; \n               (field.attr('type').toLowerCase() == 'checkbox') &amp;&amp; \n               !field.attr('checked')) ||\n              (field.val() == '') )\n         {\n</pre></div>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/2cf6cf67/4357/\"><div class=\"markdown_content\"><p>m,.m.m,.m,.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK - I'm taking a look.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry - misread the thread.   I see the original bug has been fixed, though at some stage in the future it would be nice to preserve the original form data in the event of an error, though you can only get to the error page if you have JavaScript disabled.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li>Description has changed:</li>\n</ul>\n<p>Diff:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gd\">--- old</span>\n<span class=\"gi\">+++ new</span>\n<span class=\"gu\">@@ -13,8 +13,8 @@</span>\n                   (field.val() == '') )\n              {\n\n<span class=\"gd\">-The problem is the custom field generated is a &lt;textarea&gt; and that element does not have a \"type\" attribute, and javascript throws an error when the \"Save\" button is pressed. You'll probably not spot this error if all the mandatory fields were filled in, but if the required fields are not supplied you get taken to the \"invalid booking\" screen telling you about the missing field, but pressing \"back\" in your browser to correct the problem is likely to have thrown away any other changes that you made (though this does seem browser dependent)</span>\n<span class=\"gi\">+The problem is the custom field generated is a &amp;lt;textarea&amp;gt; and that element does not have a \"type\" attribute, and javascript throws an error when the \"Save\" button is pressed. You'll probably not spot this error if all the mandatory fields were filled in, but if the required fields are not supplied you get taken to the \"invalid booking\" screen telling you about the missing field, but pressing \"back\" in your browser to correct the problem is likely to have thrown away any other changes that you made (though this does seem browser dependent)</span>\n\n<span class=\"gd\">-I'll see if I can produce a patch to cater for the &lt;textarea&gt; case, but for now, just though I should let you know.</span>\n<span class=\"gi\">+I'll see if I can produce a patch to cater for the &amp;lt;textarea&amp;gt; case, but for now, just though I should let you know.</span>\n\n Neil\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/229/", "title": "#229 unable to login due to error in auth_ldap.inc file", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi there,</p>\n<p>I downloaded the latest version of MRBS (1.4.8) but was unable to login to the Active Directory using correct login credentials.</p>\n<p>I looked through the auth_ldap.inc file and noticed the the $count variable was NULL when the following line of code is evaluated:<br>\n$all_ldap_opts<span>[$item]</span> = array_fill(0, $count, $$item);</p>\n<p>I placed the following line on top of the foreach loop to solve this issue : if (!$count) { $count=1; }</p>\n<p>So the affected code block looks like this now:</p>\n<p>if (!$count) {$count=1;}<br>\n  // Turn any non-array config items into arrays in $all_ldap_opts<br>\n  foreach ($config_items as $item)<br>\n  {</p>\n<div class=\"codehilite\"><pre><span></span>if (!isset($$item))\n{\n  continue;\n}\nif (!is_array($$item))\n{\n  $all_ldap_opts[$item] = array_fill(0, $count, $$item);\n}\n</pre></div>\n\n\n<p>}</p>\n<p>I have uploaded the updated auth_ldap.inc for you perusal.</p>\n<p>Kind Regards,<br>\nVidura</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The NEWS file says for MRBS 1.4.8:</p>\n<p>Revamped the LDAP authentication scheme somewhat. You can now<br/>\n specify most of the configuration parameters as arrays, so that<br/>\n you can have multiple servers or multiple base DNs that are<br/>\n configured in different ways.</p>\n<p>What it neglected to say was that the configuration file now requires you to specify<br/>\n  $ldap_host = array('hostname.example.org');<br/>\nwhere it was previously acceptable to just say<br/>\n  $ldap_host = 'hostname.example.org';</p>\n<p>Either that, or your patch should have been incorporated to avoid the incompatibility.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The fix was added after the MRBS 1.4.8 release, unfortunately, in <a class=\"alink\" href=\"/p/mrbs/code/2249/\">[r2249]</a>, which has not yet made it into a release.</p>\n<ul>\n<li><strong>assigned_to</strong>: John Beranek</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<h4>Related</h4>\n<p>\n<a href=\"/p/mrbs/code/2249/\">Commit: [r2249]</a><br/>\n</p>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is fixed in a released MRBS version</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/228/", "title": "#228 Error message when you do not indicate the name of the event", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>File: edit_entry.php<br>\nLine number: 531<br>\ncode: alert ( \"&lt;?php echo get_vocab(\"you_have_not_entered\") . '\\n' . get_vocab(\"brief_description\") ?&gt;\");<br>\nshuld be: alert ( \"&lt;?php echo get_vocab(\"you_have_not_entered\") . '\\n' . get_vocab(\"namebooker\") ?&gt;\");</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm not sure it should be.   It's a bit confusing, but \"namebooker\" is used for the label and \"brief_description\" is used for the error message.    In some languages the text is different.</p>\n<p>However I did spot that the strings should be escaped in case they contain characters such as ' or \" and I have added the escaping in Rev 2200.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No response to Campbell's suggestion, closing...</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/227/", "title": "#227 Undefined index: external", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>After downloading and installing the latest SVN, I'm seeing a bunch of errors related to undefined indexes for \"internal\" and \"external\" within my PHP / apache logs.</p>\n<p>The specific messages are:</p>\n<p>PHP Notice:  Undefined index: internal in /Library/WebServer/Documents/schedule/web/language.inc on line 808<br>\nPHP Notice:  Undefined index: external in /Library/WebServer/Documents/schedule/web/language.inc on line 808</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is MRBS 1.4.7 on Mac OS X 10.5.8 with the database updated required by the SVN version.  </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>My guess is that you still have the require_once 'language.inc' in the config file.     You should remove this and everything below it (see the default config.inc.php for an example).</p>\n<p>In the latest SVN the way booking types are defined has changed, in order that the config file can be a little cleaner.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No response to Campbell's suggestion, closing...</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/226/", "title": "#226 authLDAP doesn't work with ActiveDirectory", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I am using MRBS checked out from the repository (revision 2187).  </p>\n<p>My webserver is running Ubuntu 11.04 with apache and PHP 5.3 installed, along with a mysql database.</p>\n<p>I am using LDAP authentication in a ActiveDirectroy environment on Windows Server 2008.</p>\n<p>When using the php LDAP authentication module, I end up with an Operation error when i attempt to perform a search.  A comment on the PHP manual entry for  ldap_search notes that in order to be compatible with ActiveDirectory on any windows server after 2000, referral chasing must be disabled (see <a href=\"http://www.php.net/manual/en/function.ldap-search.php#45388\" rel=\"nofollow\">http://www.php.net/manual/en/function.ldap-search.php#45388</a>)</p>\n<p>I have included a patch that makes the required change to auth_ldap, and adds an option for disabling referral chasing to systemdefaults.inc.  LDAP authentication now works.</p>\n<p>I have not tried the external perl ldap module, so I am not sure if it works with ActiveDirectory or not.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/69f17364/ae04/\"><div class=\"markdown_content\"><p>A patch to make LDAP authentication compatible with ActiveDirectory</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: Anonymous 2014-03-31</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Change based on your patch was released in MRBS 1.4.8</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: John Beranek</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<br/><small>Last edit: John Beranek 2012-08-01</small>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/225/", "title": "#225 Repports with Custom fields and select options", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>English: (Translate by google):<br>\nThe problem occurs (at least in my case) when I try to make a report.<br>\nParticularly the problem occurred when adding a custom field and this field has defined options to select : select_options <span>['entry. &lt;field&gt;']</span></p>\n<p>After that I report is always in zero results.</p>\n<p>I gess the problem is here:<br>\nVersion: Current version<br>\nFile: report.php<br>\nLine: 997<br>\nCode:if (!empty($var) &amp;&amp; ...<br>\nShould be:  if (!empty($$var) &amp;&amp; <br>\nNote: Double $. I'm not shure.</p>\n<p>Spanish (I will write in Spanish): <br>\nEl problema ocurre (al menos en mi caso) cuando intento realizar un informe.<br>\nParticularmente el problema ocurri\u00f3 al a\u00f1adir un campo personalizado y este campo tiene opciones definidas para seleccionar: select_options<span>['entry.&lt;field&gt;']</span></p>\n<p>Luego de esto el reporte me resulta siempre en cero resultados.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for reporting this.   Yes, it's a known problem and your fix is absoloutely correct and has already been checked into the trunk.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fix released in MRBS 1.4.8</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/224/", "title": "#224 Upgrade to MRBS 1.4.7 with MySQL changes Last Updated times", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The mrbs_entry and mrbs_repeat tables contain timestamp columns, which, in MySQL, automatically update to the current time when an UPDATE statement is executed.</p>\n<p>The database upgrade scripts<br>\n  web/upgrade/17/post.inc<br>\n  web/upgrade/24/post.inc<br>\n  web/upgrade/25/mysql.sql<br>\ntouch every row in those tables, thus triggering every timestamp to be set to the current time.  While it is technically true that the entries have been rewritten to support new MRBS features, changing the Last Updated times of all reservations is contrary to users' expectations.</p>\n<p>A more appropriate upgrade procedure would involve<br>\n  ALTER TABLE tbl ADD COLUMN saved_ts DATETIME;<br>\n  UPDATE tbl SET saved_ts=timestamp;<br>\n  UPDATE tbl SET foo=bar, blah=etc WHERE condition;<br>\n  UPDATE tbl SET timestamp=saved_ts;<br>\n  ALTER TABLE tbl DROP COLUMN saved_ts;</p>\n<p>I propose releasing MRBS 1.4.8 with corrected upgrade scripts 17, 24, 25, and recommending that users who have not upgraded to 1.4.7 skip 1.4.7.  Unfortunately, the only way to help users who upgraded to 1.4.7 with MySQL is to merge the old timestamps from a backup of the database.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>assigned_to</strong>: John Beranek</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for this report - I'm working on it now, albeit rather belatedly!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Checked in as <a class=\"alink\" href=\"/p/mrbs/code/2369/\">[r2369]</a> - will make it into MRBS 1.4.9.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n<h4>Related</h4>\n<p>\n<a href=\"/p/mrbs/code/2369/\">Commit: [r2369]</a><br/>\n</p>\n<br/><small>Last edit: John Beranek 2012-08-01</small>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in a released version of MRBS</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/223/", "title": "#223 $auth('only_admin_can_*) variables ignored", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS Version: 1.4.7<br>\nApache: 2.0.63<br>\nPHP. 5.2.13<br>\nMySQL 5.1.46<br>\nServer: HP OpenVMS on Itanium</p>\n<p>Setting these variables to FALSE (as in the default configuration) means they are actually TRUE because of the use of empty in a test like this:</p>\n<p>$repeats_allowed = $is_admin || empty($auth<span>['only_admin_can_book_repeat']</span>);</p>\n<p>The empty function returns TRUE if the variable is 0, FALSE or not set, If the test was changed to:</p>\n<p>$repeats_allowed = $is_admin || $auth<span>['only_admin_can_book_repeat']</span></p>\n<p>This would give the desired results whether the variable is FALSE or not set.</p>\n<p>There are 5 cases of these tests in the code: 3 in edit_entry.php, 1 in edit_entry_handler.php and 1 in view_entry.php</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Mmmm - I'm not so sure.   The intended result is that if $auth<span>['only_admin_can_book_repeat']</span> is true, then only admins can book repeats.   So the code is saying that repeats are allowed if you're an admin (when you can do anything) or else you're not an admin and it is not true that only admins can book repeats.</p>\n<p>So I think the code is OK as it stands?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Out of the box, with these variables at the default  (FALSE) you can't book repeating meetings unless you are an admin. Consider this:</p>\n<p>So setting:</p>\n<p>$auth<span>['only_admin_can_book_repeat']</span> = FALSE</p>\n<p>will never have any effect since empty will return TRUE.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've just tested this and it works as expected.</p>\n<p>The code is</p>\n<p>$repeats_allowed = $is_admin || empty($auth<span>['only_admin_can_book_repeat']</span>);</p>\n<p>So as  empty($auth<span>['only_admin_can_book_repeat']</span>); returns TRUE - as you say - when the config variable is set to FALSE, $repeats_allowed is TRUE and so you can book repeats.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ah yes, it does in fact work. My testing was trying to change a booking to repeating but another use had created it.</p>\n<p>Sorry to waste everyone's time.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>OK - no problem!</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/222/", "title": "#222 edit_entry.php 1932 No save of changes", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>With implementation of the Back-Button new or changed entries will not be saved.</p>\n<p>Joerg Wiemann</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've just tested on Rev 1933 and it seems OK.   What version are you using?   If you're using the latest version can you let me know (a) what browser and version you are using (b) what version of PHP and (c) whether your server is running Windows/IIS or Unix/Apache.   (Answers to (b) and (c) on the Herlp page).</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hello Cimorrison,</p>\n<p>I'm using trunk Rev 1932.</p>\n<p>Error occures on IE7 and IE9 (IE8 is not available)</p>\n<p>I've pu the phpinfo() output as attached file in my bug report. Thank you for youre work.</p>\n<p>J\u00f6rg</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>phpinfo() output from host ekir.de</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Testet again with ref 1934 and it works :-))</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/221/", "title": "#221 Custom Fields in functions_mail.inc", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I found this bug a few days ago and my memory is a little fuzzy, so pardon me if I'm not 100% accurate.</p>\n<p>On line 592 of function_mail.inc:</p>\n<p>For some reason the $data variable is populated a different way when deleting an event, and thus this section of the code does not display the custom fields when sending email.</p>\n<p>adding the following to line 593 fixed it for me. I'm sure there's a more elegant solution.<br>\n...<br>\n591        $key = $field<span>['name']</span>;<br>\n592        $value = (isset($data<span>['custom_fields']</span><span>[$key]</span>)) ? $data<span>['custom_fields']</span><span>[$key]</span> : ''; <br>\n593        $value = (isset($data<span>[$key]</span>)) ? $data<span>[$key]</span> : ''; <br>\n...</p>\n<p>-Shane</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This area of code has changed quite a lot, so hopefully your problem is fixed. Otherwise the patch is out of date</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/220/", "title": "#220 iCal & Exchange 2007", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I am encountering an interesting problem with iCal and Outlook 2010/Exchange 2007 for recurring appointments. When I receive a recurring event .ics, Outlook shows that the time is several hours off. I have come to realize that this time correlates exactly to the UTC-OFFSET of my locale. This problem does not occur with single events, and it may be related to our implementation of Exchange 2007, which is run by a different department.</p>\n<p>Looking at functions_ical.inc, I noticed the comment on line 196 about using TZID and the VTIMEZONE component, which is \"form 3\" according to the iCalendar Spec (http://tools.ietf.org/html/rfc2445#section-4.3.5). Currently, MRBS is using Form 2 of the spec, and seems to work perfectly with Google Calendar for both recurring and single entries.</p>\n<p>I decided to experiment with form 3 and this has resolved the issue for me. Exchange now properly recognizes the time. I had to add the following code to functions_ical.inc (note: line numbers are based on the original file and do not take any additional lines mentioned below into account)</p>\n<p>Line 200:  (create_ical_event())<br>\nChanged:<br>\n  $results[] = \"DTSTART:\" . gmdate(RFC5545_FORMAT . '\\Z', $data<span>['start_time']</span>);<br>\n  $results[] = \"DTEND:\" . gmdate(RFC5545_FORMAT . '\\Z', $data<span>['end_time']</span>);<br>\nto:<br>\n  global $timezone;<br>\n  $results[] = \"DTSTART;TZID=\".$timezone.\":\".date(RFC5545_FORMAT, $data<span>['start_time']</span>); <br>\n  $results[] = \"DTEND;TZID=\".$timezone.\":\".date(RFC5545_FORMAT, $data<span>['end_time']</span>);</p>\n<p>Line 342:  (create_icalendar())<br>\nAdded:<br>\n    global $timezone;//get MRBS timezone<br>\n    $summer_date = \"20110609121520\"; //Random date in the summer to calc DST<br>\n    $winter_date = \"20111209121520\"; //same as above for winter DST<br>\n    $offsetto     = date(\"O\",date($winter_date)); //get Non DST offset<br>\n    $offsetfrom   = date(\"O\",date($summer_date)); //get DST offset</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"BEGIN:VTIMEZONE\"</span><span class=\"o\">;</span>    \n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"TZID:\"</span><span class=\"o\">.$</span><span class=\"nt\">timezone</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"X-LIC-LOCATION:\"</span><span class=\"o\">.$</span><span class=\"nt\">timezone</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"BEGIN:DAYLIGHT\"</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"TZOFFSETFROM:\"</span><span class=\"o\">.$</span><span class=\"nt\">offsetto</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"TZOFFSETTO:\"</span><span class=\"o\">.$</span><span class=\"nt\">offsetfrom</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"TZNAME:\"</span><span class=\"p\">.</span><span class=\"nc\">date</span><span class=\"o\">(</span><span class=\"s2\">\"T\"</span><span class=\"o\">,</span><span class=\"nt\">date</span><span class=\"o\">($</span><span class=\"nt\">summer_date</span><span class=\"o\">));</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"DTSTART:19700308T020000\"</span><span class=\"o\">;</span> \n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=2SU\"</span><span class=\"o\">;</span> \n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"END:DAYLIGHT\"</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"BEGIN:STANDARD\"</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"TZOFFSETFROM:\"</span><span class=\"o\">.$</span><span class=\"nt\">offsetfrom</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"TZOFFSETTO:\"</span><span class=\"o\">.$</span><span class=\"nt\">offsetto</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"TZNAME:\"</span><span class=\"p\">.</span><span class=\"nc\">date</span><span class=\"o\">(</span><span class=\"s2\">\"T\"</span><span class=\"o\">,</span><span class=\"nt\">date</span><span class=\"o\">($</span><span class=\"nt\">winter_date</span><span class=\"o\">));</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"DTSTART:19700308T020000\"</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"RRULE:FREQ=YEARLY;BYMONTH=11;BYDAY=1SU\"</span><span class=\"o\">;</span> \n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"END:STANDARD\"</span><span class=\"o\">;</span>\n<span class=\"o\">$</span><span class=\"nt\">results</span><span class=\"cp\">[]</span> <span class=\"o\">=</span> <span class=\"s2\">\"END:VTIMEZONE\"</span><span class=\"o\">;</span>\n</pre></div>\n\n\n<p>Hope this helps,</p>\n<p>-Shane</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for this.    It would be interesting to know whether Outlook is paying attention to your timezone definition or whether it's just treating the time information as a local time?   In other words, what happens if you change the offset in the timezone definition?</p>\n<p>While providing a timezone definition may work for you, it's going to be a bit of a pain if we have to provide timezone definitions for all possible timezones.  I'll do some research and see if there's another solution.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/b3fa6f05/dfae/\"><div class=\"markdown_content\"><p>Outlook (2010) seems to treat the UTC formatted time (for recurring appointments only) incorrectly as a local time.</p>\n<p>I my case, changing the VTIMEZONE data to offset -0400 in an ics file works as expected. Outlook lets me know that the \"scheduler\" set the appointment for Atlantic Time (Canada) and adjusts the event for my time appropriately.</p>\n<p>I can imagine the pain, which is why the way I think you implemented it (using UTC) is the better alternative. I just wish that Microsoft behaved....</p>\n<p>-Shane</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I just wonder whether the order of the properties is important to Outlook, although as far as I can see in the spec it should be irrelevant.  It's strange that Outlook copes OK with single events, but not recurring events.   So I wonder whether putting the RRULE property after the DTSTART and DTEND properties, instead of before, makes a difference.     I'm going to be busy on other things for the next few days, but will try it when I can get back to MRBS, but if you get a chance to try it yourself I'd be interested to know the results.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/b3fa6f05/5dd5/\"><div class=\"markdown_content\"><p>Campbell,</p>\n<p>You're right, the spec does say that the order of the elements is irrelevant. I played around with the order in the following ways:</p>\n<p>1.) RRULE is after DTSTART and DTEND      (Booking(no Change).ics)<br/>\n2.) RRULE is before DTSTART and DTEND    (Booking(orderChange).ics)<br/>\n3.) RRULE is after DTSRTAT and before DTEND   (Booking(orderChange 2).ics)</p>\n<h1 id=\"2-above-failed-to-import-as-a-valid-meeting-into-outlook-while-1-and-3-work-properly-for-single-events-in-each-case-but-do-not-work-for-recurring-appointments-tested-with-weekly-mon-wed-fri\">2 Above failed to import as a valid meeting into Outlook, while #1 and #3 work properly for single events in each case, but do not work for  recurring appointments (tested with weekly, Mon, Wed, Fri).</h1>\n<p>Unfortunately, it seems that it only works properly for recurring appointments when there is a VTIMEZOME componant, and the DTSTART field has the TZID specified along with a \"local\" time string that follows.</p>\n<p>I have attached all three .ics files for your convenience, as well as a fourth file with the VTIMEZONE section which works for me. Here is a link to the spec where I discovered the different \"forms\" (http://tools.ietf.org/html/rfc2445#section-4.3.5)</p>\n<p>Thanks,</p>\n<p>-Shane</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/b3fa6f05/ab9b/\"><div class=\"markdown_content\"><p>Timezone Output</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/b3fa6f05/75f3/\"><div class=\"markdown_content\"><p>No Change to Code Version</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/b3fa6f05/abfa/\"><div class=\"markdown_content\"><p>This one corresponds to item 3 in comment</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/b3fa6f05/1bf2/\"><div class=\"markdown_content\"><p>This one corresponds to item 2 in comment</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for trying.   Oh well, guess I'll have to switch to using VTIMEZONE ...</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think I understand a little bit more about this now.</p>\n<p>Outlook/Exchange is actually implementing RFC 2445 (the predecessor to RFC 5545) correctly.   RFC 2445 under Section 4.8.5.4 that:</p>\n<p>\"When used with a recurrence rule, the \"DTSTART\" and \"DTEND\" properties MUST be specified in local time and the appropriate set of \"VTIMEZONE\" calendar components MUST be included.\"</p>\n<p>However RFC 2445 has now been superseded by RFC 5545, which removes this requirement.   Specifically, in Appendix A it states that:</p>\n<p>\"The \"DTSTART\" and \"DTEND\" properties are no longer required to be specified as date with local time and time zone reference when used with a recurrence rule.\"</p>\n<p>So Microsoft is actually implementing RFC 2445 correctly.   It's just that RFC 2445 has now been superseded by RFC 5545.    This means that we really need to be able to create VTIMEZONE components in order to be able to support older calendar apps written to RFC 2445.   However I haven't been able to find a good way of generating VTIMEZONE components, in particular the RRULE for when DST transitions happen.   The best way I can come up with at the moment is to use the PHP DateTimeZone::getTransitions() method to get the DST transitions and then to try and fit a rule to the transitions.   But I'm sure (I'd hope) that there must be a better way ...</p>\n<p>Sio I'm no nearer a solution, but think I understand what's going on!</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>One way of getting the VTIMEZONE components is from <a href=\"http://tzurl.org/\" rel=\"nofollow\">http://tzurl.org/</a></p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've implemented a fix in Rev 1856.    If you get a chance to confirm that this works on your system that would be great.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Updated further in Rev 1862.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/219/", "title": "#219 Custom Fields Not showing in view.", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have added two custom fields which show properly in edit_entry.php. However, they do not display on the views (view.php, ical, etc.)</p>\n<p>I found that by adding the following code to functions_view.inc, line 155, the problem is resolved.</p>\n<p>global $tbl_entry;</p>\n<p>Please let me know if this error might be caused by something else I might have done incorrectly.</p>\n<p>Thanks,</p>\n<p>-Shane</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, that's the right solution.   It's a known bug that has already been fixed in the trunk.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e4ce7f11/48d9/\"><div class=\"markdown_content\"><p>Thanks!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/e4ce7f11/5af3/\"><div class=\"markdown_content\"><p>This bug has been fixed in CVS.</p>\n<p>Thank you for the report, and for helping us make MRBS better.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/218/", "title": "#218 Wrong duration with german number format", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If the browser language is set to german, an entry with an duration of x.5 hours will show up with an duration of x hours in view_entry.<br>\n(i.e. an entry with a real duration of 2.5 hours, will be shown with \"Dauer: 2 Stunden\" (translation: Duration: 2 hours))</p>\n<p>The problem seems to be the following lines in functions.inc:<br>\n180    $dur = sprintf('%.3f', $dur);<br>\n181    $dur = (string) (float) $dur;  // removes trailing zeros</p>\n<p>MRBS 1.4.5<br>\nMySQL 5.1.44<br>\nPHP:    5.3.2<br>\nApache: 2.0.63</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting this.  Yes, you're right, the problem is line 181.   Replace it with</p>\n<div class=\"codehilite\"><pre><span></span>$dur = rtrim($dur, '0');  // removes trailing zeros\n</pre></div>\n<p>I have fixed this in the trunk - Rev 1836.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/217/", "title": "#217 $confirmation_enabled = FALSE not working", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS version: 1.4.6<br>\nServer: Linux webxc01s11.ad.aruba.it 2.6.18-238.9.1.el5PAE #1 SMP Tue Apr 12 18:52:55 EDT 2011 i686<br>\nPHP: 5.2.17<br>\nDatabase:   MySQL 5.0.92-enterprise-gpl-log</p>\n<p>I configured $confirmation_enabled = FALSE in config.inc.php but when a user gets to the edit_entry.php page it shows the 2 radio buttons for \"confirmed\" or \"tentative\" and the system actually lets users book with \"tentative\" status.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Is this an existing area?   The config seeting is just the default setting for new areas.   If you have an existing area you need to edit the individual area setting by pointing your browser at the \"Rooms\" link in MRBS and then editing that area.    Note that there are a number of settings that can be configured on a per-area basis and the config setting just determines the default for new areas.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You are right! It's an existing area... Sorry for this.<br/>\nI was sure to have it configured on FALSE before the creation of the room. Maybe I just changed it afterwards.<br/>\nThanks a lot!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/216/", "title": "#216 Broken report from username link", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hovering over the \"logged in as &lt;user&gt;\" text in the top right, the tool-tip indicates it should give a report of the users bookings. However, it instead outputs an ICS file with HTML inside of it - see the attachment for what I mean.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>ICS file with HTML inside</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry, forgot my server info.</p>\n<p>Meeting Room Booking System:    MRBS 1.4.6<br/>\nDatabase:   MySQL 5.0.75-0ubuntu10<br/>\nServer:     Apache/2.2.11 (Ubuntu) PHP/5.2.6-3ubuntu4 with Suhosin-Patch <br/>\nSystem: Linux NASbuntu 2.6.28-11-generic #42-Ubuntu SMP Fri Apr 17 01:57:59 UTC 2009 i686<br/>\nServer time:    Thu 12 May 2011 13:05:51 EST<br/>\nPHP:    5.2.6-3ubuntu4</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This problem was fixed in the trunk in Revision 1791.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Do excuse my noobishness, but how do I update to that?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed version of report.php</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>You can always get the most update version of the code by checking it out from the Subversion repository by following the instructions at <a href=\"https://sourceforge.net/scm/?type=svn&amp;group_id=5113.\">https://sourceforge.net/scm/?type=svn&amp;group_id=5113.</a>   You will need a Subversion client to be able to do this.</p>\n<p>Alternatively, I have uploaded the latest version of report.php here and you can download it from this page.    I'm pretty sure that all the changes are self-contained and that there are no dependencies on any other changes, but I haven't tested that.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Excellent, that fixed it. Thanks for your help!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/215/", "title": "#215 Missing entry in lang.de", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The following lines are missing in lang.de in Verison 1.4.6:</p>\n<p>$vocab<span>[\"exportentry\"]</span>         = \"Eintrag exportieren\";<br>\n$vocab<span>[\"exportseries\"]</span>        = \"Serien exportieren\";</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for this.   I've added these in Rev 1822.   However, I noticed that the other lines use \"Alle Eintr\u00e4ge \u00e4ndern\" etc., so for consistency I've changed \"Serien\" to \"Alle Eintr\u00e4ge\".    However I don't know whether it would be better to use \"Serien\" everywhere instead?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: Campbell Morrison</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/214/", "title": "#214 Email error", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have MRBS setup using SMTP</p>\n<p>The users are in the MRBS DB</p>\n<p>If i login with the user admin which in the DB has the account admin and the email mrbs@mydomain.co.uk<br>\nNow if i create a booking using the admin account it does not send it from the admins email in the DB it creates its own buy using the login username followed by my domain name admin@mydomain.co.uk</p>\n<p>any reason why it should be doing this?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this in the trunk.   The only reasons I can see that this would happen are (a) if $auth<span>['type']</span> is set to something other than 'db' or 'ldap' or (b) if you have made some customisations to functions_mail.inc</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I had dbext set so it would not display a user list link by the login button.<br/>\nAs soon as i change it to DB it uses the usersemail. Very odd.</p>\n<p>Yes I have customizations to the mail functions but that it to just s end an email to the it department if equipment is selected in the add booking page. Nothing else.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Well, it's not odd at all.   If you have the auth type set to dbext then that's how MRBS gets the email address.   If you want to remove the user list link then you should comment out that piece of code.  (But why would you not want the user list link?)</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Not a bug, closing</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/213/", "title": "#213 ldap user search and $ldap_filter not working", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi</p>\n<p>i am having some trouble with the rewritten ldap user search part in auth_ldap.inc. With $ldap_debug turned on, i get the log messages:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">authValidateUserCallback</span><span class=\"o\">:</span> <span class=\"n\">Successful</span> <span class=\"n\">authenticated</span> <span class=\"n\">bind</span> <span class=\"n\">checking</span>\n<span class=\"n\">authValidateUserCallback</span><span class=\"o\">:</span> <span class=\"n\">No</span> <span class=\"n\">entry</span> <span class=\"n\">found</span> <span class=\"k\">with</span> <span class=\"n\">filter</span>\n</pre></div>\n\n\n<p>I skimmed the noisy part, followed by 'Unknown User' on the frontend. Disabling $ldap_filter the authentication works, but there is no filtering. Running ldapsearch 'distinguishedName=uid=admin,ou=users...' like produced by mrbs 1.4.6, i get no result entry, however ldapsearch 'uid=admin' (1.4.1) runs just fine.</p>\n<p>I wrote i temporary patch revoking the change, but i am wondering if there is another way round? </p>\n<p>mrbs version =&gt; 1.4.6<br>\ndpkg -l slapd =&gt; 2.4.9-0ubuntu0.8.04.1<br>\nphp --version =&gt; PHP 5.2.4-2ubuntu5.4</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>By any chance do you have users with commas in their CN?<br/>\nI have found the $user_search value generated does not work for users with commas.</p>\n<h1 id=\"to-test-if-this-is-the-problem-add-the-following-to-top-of-authvalidateusercallback-function\">To test if this is the problem add the following to top of authValidateUserCallback function:</h1>\n<p>global $ldap_dn_search_attrib;<br/>\n  $user_search = \"$ldap_dn_search_attrib = $user\";<br/>\n==========<br/>\nIf that works you will also need to add it to authLdapGetEmailCallback for email to work.<br/>\nI'm unsure why $user_search does not work but is likely due to escaping of comma or escaping of backslash before comma.</p>\n<p>$user_search = \"distinguishedName=\" . $dn;</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Please try the latest SVN version which includes the auth_ldap.php patch I submitted.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This should be fixed in the latest version, as James as said.</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/212/", "title": "#212 Unknown User - Using config for Admin User", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I've installed MRBS and everything has worked.</p>\n<p>Created the Auth type to be config, added in a user which can log in.<br>\nAlso added in an Administrator user but when trying to log in it just says Unknown User.</p>\n<p>Is there something else I could try?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Your PHP sessions probably aren't working, which is a PHP/server configuration issue. You could try changing the session scheme to \"cookie\".</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>assigned_to</strong>: John Beranek</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/211/", "title": "#211 Latest build from SVN Authentication issue", "status": "closed", "labels": "MRBS-DEV (7)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have just downloaded the latest build from SVN and have notice a problem with the authentication.</p>\n<p>One user account created in DB</p>\n<p>UN:Test<br>\nPW:1234</p>\n<p>User logs in with the following details</p>\n<p>UN: Test<br>\nPW: 1234</p>\n<p>user logs in and Test is displayed in the top right corner OK. Can create a booking and it is logged as being created by Test. Log the user out and now login with the following.</p>\n<p>UN: TEST<br>\nPW: 1234</p>\n<p>user logs in and TEST is displayed in the top right corner OK.  Can create a booking and it is logged as being created by TEST. If I now try editing the booking by Test I get access denied even though it is the same account being used to login.</p>\n<p>This is running on a windows server 2003 xampp setup.<br>\nPHP Version 5.2.5<br>\nMYSQL   5.0.51</p>\n<p>If you need anymore info just shout and I will do my best to help out.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't reproduce this on either Windows or Unix.   Are you sure you've uploaded all the files from the trunk?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Not reproducible, closing...</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/209/", "title": "#209 set_magic_quotes_runtime is deprecated", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>PHP Deprecated:  Function set_magic_quotes_runtime() is deprecated in /var/www/post/mrbs/internalconfig.inc.php on line 181</p>\n<p>This is under PHP 5.3 and MRBS 1.4.5.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in r1767. Thanks.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Made available in MRBS 1.4.6.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/208/", "title": "#208 Incorrect date format in datepicker", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Java datepickers have incorrect date format in Australia. The format should be DD/MM/YY, but I am getting MM/DD/YY</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Revision 1743.   In the meantime you can get round the problem by adding en-GB to your browser language preferences (above en) or else by setting:</p>\n<p>$override_locale = \"en_GB.utf-8\";  // assuming you are using Unicode encoding</p>\n<p>and disabling automatic language changing in the config file.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Made available in MRBS 1.4.6.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/207/", "title": "#207 Area name not quoted properly", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When you add an area with an apostrophe in it e.g. \"Test's Room\" then when you add a booking you get javascript errors because you get a javacript line in edit_entry.php like</p>\n<p>areas<span>[1509]</span><span>['area_name']</span> = 'Test's Room';</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting that.  Fixed in Rev 1738.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Made available in MRBS 1.4.6.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/206/", "title": "#206 make_room_select_html ignores $link passed", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Good Day,<br>\n I'm not sure if this is a bug or it is designed this way.</p>\n<p>In functions.inc,  make_area_select_html and make_room_select_html both take $link as an argument, I assumed this is to determine the type of view it should use. However, it is ignored by both functions when they create the link. They have either week.php or month.php hard coded in.<br>\nE.g.<br>\n$out_html .= \"</p><li><a href=\"../%5C%5C%22month.php?year=%24year&amp;month=%24month&amp;day=%24day&amp;area=%24area&amp;room=%22.%24row&lt;span\">['id'].\"\\\\\"&gt;\";<br>\nshould probably be:<br>\n$out_html .= \"</a></li><li><a href=\"../%5C%5C%22%24link?year=%24year&amp;month=%24month&amp;day=%24day&amp;area=%24area&amp;room=%22.%24row&lt;span\">['id'].\"\\\\\"&gt;\";<p></p>\n</a><p><a href=\"../%5C%5C%22%24link?year=%24year&amp;month=%24month&amp;day=%24day&amp;area=%24area&amp;room=%22.%24row&lt;span\">This makes it very hard to bring up the week view of a different room in the same area, because when I click the other room I go straight to Month view.</a></p></li></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Well spotted!   Yes, it's a bug.   I'll fix it.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in SVN Rev 1688.   Your fix above is correct.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Made available in MRBS 1.4.6.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/205/", "title": "#205 $windows_locale = $lang_map_windows[$override_locale];", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>setlocale() in Windows does not support \"xx-xx.UTF-8\".</p>\n<p>language.inc#479 should be<br>\n  $windows_locale = $lang_map_windows<span>[$override_locale]</span>;</p>\n<p>Windows XP SP3, PHP 5.2.9, MRBS 1.4.4.1</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Nope, I think you've misunderstood the logic.</p>\n<p>If you use $override_locale, then you need to know the valid locale for your server installation. So, if you have a Windows OS and want, say, Japanese then you need to set $override_locale to 'jpn'.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/204/", "title": "#204 2-digit integer is treated as boolean in user defined field", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Why integer value which has length 2 is treated as boolean in admin.php?<br>\nIf it is for length 1 , I can understand there is some reason to do so.<br>\nSo I made a patch for admin.php.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>only 1-digit integer is treated as bool in user defined field</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It's because PostgreSQL does not have an 8 bit integer type corresponding to MySQL's tinyint.   Although PostgreSQL does have a boolean type, this adds other complexities to processing the field in PHP.   Therefore integer types of 16 bits or less are treated as booleans.    If you need an integer you should choose an ordinary int type.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you for your reply, <br/>\nI'm using MySQL  and haven't imagined that PostgreSQL doesn't have tinyint.<br/>\nI close this bug with resolution \"Wont Fix.\"</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/203/", "title": "#203 Admin changes booking -> User receives no mail", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I noticed that when a room or area-admin changes a booking, the user who has booked the room receives no mail.<br>\nIf the user changes his own booking, he and the admin receive the mail.</p>\n<p>Perhaps I only have to change a setting or is this a bug?<br>\nHas someone of you a solution for this problem?<br>\n(If not, do you know in which line the recipients-array is created and filled and where the mail-sending-function is?)</p>\n<p>Thanks.<br>\nMichael</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS are you using?   I've tested this in the trunk and it works OK, and the code for 1.4.4.1 looks OK, though I haven't tested it.</p>\n<p>What are all your mail settings in the config file?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm using version 1.4.4.1</p>\n<p>The main mail-settings in the config:<br/>\n$auth<span>[\"type\"]</span> = \"ldap\";<br/>\n(authentication works)</p>\n<p>$mail_settings<span>['admin_on_bookings']</span>         = FALSE;<br/>\n$mail_settings<span>['area_admin_on_bookings']</span>    = true;<br/>\n$mail_settings<span>['room_admin_on_bookings']</span>    = true;<br/>\n$mail_settings<span>['booker']</span>                    = true;<br/>\n$mail_settings<span>['book_admin_on_provisional']</span> = FALSE;<br/>\n...<br/>\n$mail_settings<span>['admin_on_delete']</span> = true;<br/>\n$mail_settings<span>['admin_all']</span>       = true;<br/>\n...<br/>\n$smtp_settings<span>['host']</span> = 'emailer.example.com'; #Our Exchange Server<br/>\n$smtp_settings<span>['port']</span> = 25; <br/>\n...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm afraid I still can't reproduce this even with your mail settings.    All the email code is in functions_mail.inc and the function that sends an email is notifyAdminOnBooking().   If you find anything wrong let me know.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'll install version 1.4.5 tomorrow.<br/>\nThen I'll also test, if the mail-notification works without ldap-autentication.<br/>\nPerhaps this is the problem.</p>\n<p>I'm going to add a comment, when I am able to tell you more.</p>\n<p>Thanks<br/>\nMichael</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The problem is solved!!<br/>\nMy colleague changed something in the mail-function so that it was possible to use our LDAP-mail-adresses (firstname.lastname@xyz.de).<br/>\nWhen I use the old/original function it is working.</p>\n<p>Thank's for your help and sorry for your wasted time. Really nice support (and this for a free software)!!!</p>\n<p>Michael</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/202/", "title": "#202 Fatal error: Column 'rep_opt' specified twice", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have sql error after I book repeat entries: weekly, n-repeat etc.:<br>\nFatal error: Column 'rep_opt' specified twice</p>\n<p>But daily repeats works just fine.<br>\nHow can I fix this?</p>\n<p>info: mrbs -datepicker svn rev.1417</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Ok I fixed it by myself. The problem is in file mrbs_sql.inc : line 275 :</p>\n<p>// special case - rep_opt<br/>\n      case 'rep_opt':<br/>\n       // pgsql doesn't like empty strings<br/>\n      $sql_col[] = $key;<br/>\n      $sql_val[] = (empty($data<span>[$key]</span>)) ? \"'0'\" : \"'\" . addslashes($data<span>[$key]</span>) . \"'\";</p>\n<p>I deleted this part and repet entries work good now.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in SVN Rev 1418.   (The fix suggested below won't work for PostgreSQL.  The problem was that the break statement was missing at the end of the rep_opt case.)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Made available in MRBS 1.4.5.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/201/", "title": "#201 Server failed to set locale - page labels missing", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>[Warning: Server failed to set locale to \"en_GB.UTF-8\" (Unix)</p>\n<p>Similar problem to other reports, eg 2859067<br>\nMy language.inc file already has the \".UTF-8\" code in place</p>\n<p>Othe than the fact all the labels are missing it seems to be working fine</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This means you haven't got the appropriate locale installed on the server. What server OS are you using?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>i figured it might be server configuration, i dont move in those august circles, worked around it by hardcoding the locale.</p>\n<p>Thanks for the response</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Great</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/200/", "title": "#200 Change duration to end time", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have tried using the uploaded code to change duration on the booking form to end time but keep encountering the following error:<br>\nFatal error: Call to undefined function sql_query1() in /home/system/roombooking/public_html/Themes/default/header.inc on line 389 <br>\nAlso the new getWritable function (line 243) keeps giving an error <br>\nAny ideas on how to resolve these as the end time is quite useful?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Can't see any uploaded code, but it sounds to me that you've got an inconsistent set of files somehow.    </p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>MRBS 1.4.5 changed behaviour to allow a booking to be defined by its end time</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/199/", "title": "#199 Cannot see users' rights", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I upgraded from 1.2.6 to 1.4.4.1 version of MRBS.<br>\nApparently the migration was ok and I have all my data.<br>\nDuring migration my users (3, all of them being admins) were correctly \"imported\" with their correct \"rights\" as I can checked by using phmyadmin.<br>\nHowever, if I enter into MRBS as one of these admins and I want to see \"Table of users\" to modify something about them (for example their rights) or for adding other users, I see what I attach in the 2 images,  ie the \"Rights\" (= Diritti) selection box does not show any number (0,1,2) even if it has 3 lines I can choose from, and also the 'rights' column apper empy for all the users.<br>\nNo idea for this.<br>\nLeopoldo Saggin</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/5022a2c5/64b9/\"><div class=\"markdown_content\"><p>Image(s) showig the problem</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suspect this is because you have set the default language to Italian in the config file by setting</p>\n<p>$default_language_tokens = \"it\";</p>\n<p>and because the lang.it file is missing some of the language tokens you're getting no string output.    The solution for this is either</p>\n<p>(1) to set the default language to \"en\" and let MRBS choose the language from the browser setting.    Assuming your users have their browsers' language settings set to Italian, MRBS will use the strring if present in the lang,it file, otherwise it will take it from the lang.en file</p>\n<p>(2) or else you could add the missing tokens into the lang.it file.    The ones you need for rights are</p>\n<p>// User access levels<br/>\n$vocab<span>[\"level_0\"]</span>            = \"none\";<br/>\n$vocab<span>[\"level_1\"]</span>            = \"user\";<br/>\n$vocab<span>[\"level_2\"]</span>            = \"admin\";<br/>\n$vocab<span>[\"level_3\"]</span>            = \"user admin\";</p>\n<p>but there will also be other missing ones.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/5022a2c5/4b83/\"><div class=\"markdown_content\"><p>It was exacly as you suggested. Many tnx!<br/>\nLeopldo Saggin</p>\n<p>PS: This hovever arises another question: do you mean that not all the \"vocabulary\" used in the mrbs program has been put into the \"language.php\"? The strings (variables) you reported in your comment were not present both in the english and into italian \"language.php\".</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The strings are not held in language.php but in the various lang.* files.   The complete set of vocabulary is in lang.en, but unfortunately there are some gaps, such as the one you came across, in the other lang files.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The reported issue was fixed - the remainder (the incomplete translation) is another. Closing this bug...</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/198/", "title": "#198 Fails to create initial administrator account", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I added an extra field to the mbrs_users table before creating any entries, using the mysql database for storing passwords. The first, administration, user could not be created. Removing the field from the table allowed that first user to be created okay.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've tried to reproduce this on the latest version in the trunk, but everything seems to work OK.</p>\n<p>Can you tell me which version of MRBS you were using?   And could you give more details of exactly what you did and the error messages you got.</p>\n<p>Thanks,</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I just set up a new installation, the instructions aren't very easy in how to get the new admin set up. I want to the edit users page and created a user, but am unable to log in. I'm not sure if this is related or now. I just get unknown user when trying to log in,</p>\n<p>Some better documentation (or even a web installer) would be great...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/197/", "title": "#197 Missing Labels in Email", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I found Missing labels in Email.<br>\nI discovered that the language files do not jhave entries for $email_vocab.<br>\nSo I change the email_vocab function to:<br>\nfunction get_mail_vocab($token)<br>\n{<br>\n  global $vocab;<br>\n  $string =  get_vocab($token, $vocab);<br>\n  $unescaped_string = str_replace('\u00a0', ' ', $string);<br>\n  return  convertToMailCharset($unescaped_string);<br>\n}</p>\n<p>From<br>\nfunction get_mail_vocab($token)<br>\n{<br>\n  global $mail_vocab;</p>\n<p>$string = get_vocab($token, $mail_vocab);</p>\n<p>$unescaped_string = str_replace('\u00a0', ' ', $string);</p>\n<p>return convertToMailCharset($unescaped_string);<br>\n}</p>\n<p>I could have added the $mail_vocab into the language files, but I dont read Chinese or other languages, so its easier to change this one.<br>\nHope this helps others having the same issue.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This change is not correct.   MRBS allows you to define a language for emails, which is specified in the config file.    If you make the change above then emails will be sent in the language determined by the user's browser's language settings.  </p>\n<p>Instead you should add the missing language tokens to the lang file specified by $mail_settings<span>['admin_lang']</span> or else change $mail_settings<span>['admin_lang']</span> to a language that has a complete set of tokens.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/196/", "title": "#196 can not add area or meeting room", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,<br>\nI installed mrbs on my freebsd server, I followed setup steps seems good. But I find I can not add more area or meeting room, of course I installed sample data. After clicking the add button, browser will be blank.<br>\nWhat should I do then?<br>\nThank you very much!<br>\n-Br,<br>\nMika Chu</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I imagine this ticket is long forgotten - sorry you got no reply, so I'll close it.</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/195/", "title": "#195 default_description doesn't exist anymore?", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi there,</p>\n<p>I upgraded a MRBS install from 1.2.3 to 1.4.4.1.  It works great, thanks for the latest developments and the smooth upgrade path.</p>\n<p>However, there is a minor issue.  In the past, there used to be the possibility to define a $default_description in the configuration file.  That was used as a default entry for new bookings.  Is there a reason it has been left out?  If not, could it be added again?</p>\n<p>Thanks!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>suggested patch against edit_entry.php</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I suspect this may have been a custom enhancement?   I've searched through all previous releaaes and can't find a $default_description.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Mmm, might be...</p>\n<p>Can I then turn this into a feature request?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Seems reasonable. Checked in as r1772.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Made available in MRBS 1.4.6.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/194/", "title": "#194 MRBS doesn't work on PHP 5.2.6 (Debian stable)", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The problem is that on systemdefaults.inc.php:735, the constant function outputs a warning (because E_DEPRECATED is not defined for 5.2.6), and so the headers fail, etc, etc.</p>\n<p>Patch which fixes the problem:</p>\n<p>--- systemdefaults.inc.old.php  2010-03-29 12:43:58.000000000 -0400<br>\n+++ systemdefaults.inc.php  2010-03-29 12:44:23.000000000 -0400<br>\n@@ -732,7 +732,7 @@</p>\n<p>// Make sure notice errors are not reported, they can break mrbs code:<br>\n $error_level = E_ALL ^ E_NOTICE;<br>\n-if (constant(\"E_DEPRECATED\"))<br>\n+if (@constant(\"E_DEPRECATED\"))<br>\n {<br>\n   $error_level = $error_level ^ E_DEPRECATED;<br>\n }</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Another way is to change 'constant' to 'defined' and in fact this has already been checked into the trunk and will appear in the next release.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/193/", "title": "#193 $ldap_filter refuses user despite filter", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>$ldap_filter does not correctly filter user based on filter information. In fact I have not been successful in getting a filter to apply at all. Normal Ldap without filter enabled works fine. Either I am formatting the string improperly or there is a problem with the script. Because I can search via commandline, I am assured that the filter is correct and appropriately formatted as to RFC standards.</p>\n<p>Running the follow returns the proper results via commandline:<br>\nldapsearch -h 'localhost' -x -w password -D \"uid=admin,cn=users,dc=place,dc=university,dc=edu\" -b \"uid=targetuser,cn=users,dc=place,dc=university,dc=edu\" \"filterName=filter\"</p>\n<p>If the assumed filter is formatted like:<br>\n(&amp;($ldap_user_attrib=username)($ldap_filter))</p>\n<p>And this works alone:<br>\n$ldap_user_attrib=username   --&gt;  uid=username, basedn</p>\n<p>Then this should work:<br>\n(&amp;($ldap_user_attrib=username)($ldap_filter)) --&gt; (&amp;(uid=username)(filterName=filter))</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've submitted patch 2991522<br/>\n<a href=\"https://sourceforge.net/tracker/?func=detail&amp;aid=2991522&amp;group_id=5113&amp;atid=305113\">https://sourceforge.net/tracker/?func=detail&amp;aid=2991522&amp;group_id=5113&amp;atid=305113</a></p>\n<p>See if that fixes the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've modified the file myself as per above. I have not reviewed mrbs 1.4.4.1 but I believe this is remedied.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thank you for your bug report. This issue has already been fixed<br/>\nin the latest released version of the package, which you can <br/>\ndownload at</p>\n<p><a href=\"https://sourceforge.net/projects/mrbs/\">https://sourceforge.net/projects/mrbs/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/192/", "title": "#192 lang.* conform with ISO-standards?", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I discovered that your lang.no is slightly misleading according to new standards of naming languages and current language setting parsing.</p>\n<p>The correct unix based syntax is, according to my knowledge, \"LANGUAGE_COUNTRY\" which would give norwegian languages (yes, plural) the syntax of nb_NO and nn_NO. So if a web browser is configured to use nb as its preferred language (in HTTP_ACCEPT_LANGUAGE), MRBS fails to connect it to its corresponding .no language file.</p>\n<p>The file ending is technically not wrong, since at the moment \"no\" denotes a meta group of languages, both nn and nb, but more often than not nb will be used (as a result of nn being in minority), leading MRBS to go for default language, or next in line in HTTP_ACCEPT_LANGUAGE.</p>\n<p>Both Opera (10.10) and Safari (4.0.4) has been tested and fails on setting localized language. Opera, because it specifies nb as main language, and Safari because it reports nb_NO.</p>\n<p>Just wanted to let you know (-:<br>\nSincerely,<br>\nJonas Ogaard</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Well, it's not entirely wrong currently, because some browsers will certainly ask for a language of 'no'. Firefox calls this setting 'Norwegian <span>[no]</span>' (in the en_GB translation).</p>\n<p>MRBS currently hasn't got a way to set language 'aliases', so we can't have 'no' and 'nb' being aliases for 'nb-no'. As it stands something like en-gb <em>will</em> work as an alias for 'en' if a translation doesn't exist for en-gb as is currently the case.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is fixed in the current version</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/191/", "title": "#191 lang.pl contains whitespace at eof?", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi! We are using your excellent MRBS at my work, and I was thrown into it when some errors started occurring in Poland after last upgrade. Apparently this was caused by whitespaces at end of file in the lang.pl file which causes output to be generated before header redirects and other information is written.</p>\n<p>Just wanted to let you know!</p>\n<p>Sincerely,<br>\nJonas Ogaard</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is now fixed. Thanks for the report.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/190/", "title": "#190 timestamps stored in database are offset", "status": "closed", "labels": "MRBS (195)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>mrbs 1.4.3<br>\nphp 5.2.8<br>\nmysql 5.0.51a-24<br>\nlinux</p>\n<p>timezone \"Helsinki/Europe\";</p>\n<p>php.ini<br>\ndate.timezone = \"Helsinki/Europe\"</p>\n<p>config.inc.php:<br>\n$timezone=\"Helsinki/Europe\";</p>\n<p>MRBS displays dates and times correctly, but the start_time and end_time in the databases are offset plus two hours.<br>\nChanging timezone in config.inc.php or php.ini does not have any effect on this.</p>\n<p>Also \"Goto Today\" actually goes to yesterday between 00:00-02:00 LMT</p>\n<p>Smaller test scripts with show that mysql date/time functions should return correct values, also mysql - the offset remains mystery. I have tried to force is_dst() to return -1 and  cross_dst() to return 0, but with no difference.</p>\n<p>example: mrbs_entry.start_time <br>\n1266246000</p>\n<p>all php functions return 17PM with Helsink/Europe<br>\nbut displays 15PM on mrbs</p>\n<p>Any ideas?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div class=\"active-md\" data-markdownlink=\"/p/mrbs/bugs/_discuss/thread/ba452eb3/c504/\"><div class=\"markdown_content\"><p>Solution: a custom authentication script to use WordPress user database caused WordPress to mess up MRBS locale and timezone settings. By now I have found a mean and dirty way to fix. Not a WordPress bug.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The times in the DB are in seconds since Jan 1st 1970 UTC, so are not timezone dependent. Not a bug</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/189/", "title": "#189 UTF-8 characters are not dislayed in calendar", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When using non-latin locale, some symbols in mini calendar are not displayed correctly, e.g. month names, or weekday names. I have found that setting setlocale(LC_ALL, 'currentlocale.UTF-8') in utf8_strftime() function in language.inc fixes the problem. So this must be related to locale not set somewhere. </p>\n<p>P.S. I'm using override_locale option and all other parts of the MRBS are displayed correctly.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Still there in 1.4.5.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Have you remembered to put .utf-8 at the end of the locale?   For example</p>\n<p>$override_locale = \"en_GB.utf-8\";</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Yes, locale works everywhere except calendar month names and weekday names. As I pointed out setlocale(LC_ALL, 'mylocale.UTF-8') in utf8_strftime() function in language.inc fixes the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Just to confirm - what did you set $override_locale to?</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Sorry for the confusion. You were right! $override_locale was missing utf-8 part. Thank you for your help.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/188/", "title": "#188 locale not detected if lang.<locale> file doesn't exist", "status": "closed", "labels": "MRBS (195)", "priority": "7", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>In 1.4.3 locale is not correctly detected. It says <span>[Warning: Server failed to set locale to \"_.utf-8\" (Unix)]</span> . I've found that locale is actually detected from the browser, but variable $locale is never set due to lang.$locale file doesn't exist. It should be set even if there is no translation file available.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Still there in 1.4.5.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Oh and related to <a href=\"https://sourceforge.net/tracker/?func=detail&amp;aid=2970646&amp;group_id=5113&amp;atid=105113\">https://sourceforge.net/tracker/?func=detail&amp;aid=2970646&amp;group_id=5113&amp;atid=105113</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>MRBS 1.4.6 has been released, which hopefully improves this behaviour. There's not an easy answer though...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/187/", "title": "#187 Apostrophe in username causes Add Entry to fail silently", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If your username has an apostrophe in, the Add Entry page will take your details, but when you click save, the booking does not appear.</p>\n<p>Is this still a bug or has it been fixed since version MRBS 1.4? I can only guess that an apostrophe is screwing up the DB Query</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This was fixed in the July 2009 release of 1.4.2. The current release is now 1.4.3.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/186/", "title": "#186 Impossible to book a room clicking hour", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Version 1.4.2 updated from last.<br>\nWhen I try to book a room it doesn't works. Click has no effect on cells.. it changes colour (rollover) nothing else... <br>\nI don't use any authentication method but user-names and passwords on config file.</p>\n<p>Please... I had to return last version until you fix that error. <br>\nCongratulation for this exceptional application. This is the bigger bug I've found into.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>To help me try and understand what is happening here, please could you let me know<br/>\n(a) what browser and version you are using?<br/>\n(b) what operating system and version you are using?<br/>\n(c) which view you are seeing the problem in (day, week or month)?<br/>\n(d) whether you have made any modifications to MRBS or whether you are using standard MRBS 1.4.2?<br/>\n(e) whether you get the same problem on the MRBS demo site at <a href=\"http://mrbs.sourceforge.net/demo.php?\">http://mrbs.sourceforge.net/demo.php?</a><br/>\n(f) whether you have JavaScript enabled or disabled in your browser?</p>\n<p>Thanks,</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No response to Campbell questions, closing.</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/185/", "title": "#185 Locale issue in FreeBSD", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS 1.4.2<br>\nFreeBSD 7.0<br>\nApache 2.2.13<br>\nPHP 5.2.8<br>\nFirefox 3.5.2 and IE 8</p>\n<p>Pages display \"<span>[Warning: Server failed to set locale to \"en_GB.utf-8\" (Unix)]</span> \" at top.</p>\n<p>Problem can be resolved by editing the chunk of code in language.inc around line 536 to do:</p>\n<p>$locale .= \".UTF-8\";</p>\n<p>instead of:</p>\n<p>$locale .= \".utf-8\";</p>\n<p>if $server_os==\"BSD\"</p>\n<p>Sorry I didn't submit a diff, don't remember exactly how and need to get some other things done tonight... Email with any questions if more info is needed - ian period rees atsign gmail dot com.  -Ian-</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Checked in as SVN rev 1221.</p>\n<p>Cheers,</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Now released in MRBS 1.4.3.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/184/", "title": "#184 index.php missing call to date_default_timezone_set()", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><strong><em>PROBLEM</em></strong><br>\nUsing the latest version of MRBS 1.4.2 with PHP &gt;= 5.1.0, the following immediate errors are generated.</p>\n<p>Warning: date() <span>[function.date]</span>: It is not safe to rely on the system's timezone settings. You are <em>required</em> to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'America/Denver' for 'MDT/-6.0/DST' instead in /home/web/htdocs/csops/mrbs-1.4.2/web/index.php on line 15</p>\n<p>Warning: date() <span>[function.date]</span>: It is not safe to rely on the system's timezone settings. You are <em>required</em> to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'America/Denver' for 'MDT/-6.0/DST' instead in /home/web/htdocs/csops/mrbs-1.4.2/web/index.php on line 16</p>\n<p>Warning: date() <span>[function.date]</span>: It is not safe to rely on the system's timezone settings. You are <em>required</em> to use the date.timezone setting or the date_d*efault_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'America/Denver' for 'MDT/-6.0/DST' instead in /home/web/htdocs/csops/mrbs-1.4.2/web/index.php on line 17</p>\n<p>Warning: Cannot modify header information - headers already sent by (output started at /home/web/htdocs/csops/mrbs-1.4.2/web/index.php:15) in /home/web/htdocs/csops/mrbs-1.4.2/web/index.php on line 38</p>\n<p><strong>FIX</strong>*<br>\nThis was easily fixed by adding a call to date_default_timezone_set($timezone)  just before the 3 calls to the date function in index.php on lines 15, 16, and 17.  The $timezone variable -must- be set in config.inc.php as well. </p>\n<p>The mention of the warnings and errors for not setting the default timezone are documented here:<br>\n<a href=\"http://us.php.net/manual/en/function.date-default-timezone-set.php\" rel=\"nofollow\">http://us.php.net/manual/en/function.date-default-timezone-set.php</a></p>\n<p>The list of allowed timezones is listed here: <br>\n<a href=\"http://us.php.net/manual/en/timezones.php\" rel=\"nofollow\">http://us.php.net/manual/en/timezones.php</a></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is fixed in Subversion by all pages requiring a standard set of include files.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Released in MRBS 1.4.3.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/183/", "title": "#183 Miising ) in auth_db_ext.inc", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I found the mistake myself.</p>\n<p>In line 42 there is a ) missing.</p>\n<p>if (empty($auth<span>['db_ext']</span><span>['db_system']</span>)</p>\n<p>it should be</p>\n<p>if (empty($auth<span>['db_ext']</span><span>['db_system']</span>))</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fix released in MRBS 1.4.2.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/182/", "title": "#182 n-weekly repeats do not show.", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Events set to n-weekly typpe repeat do not show in the calendar view, although they do show in the admins report.<br>\nDownloaded from Sourceforge: MRBS 1.4.1 last update February 14, 2009</p>\n<p>Notes:<br>\nOther repeat types work OK<br>\nEnd date seems to influence n-weekly (that is not sure - I've forgotten exactly the testing sequence I used)</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Of course the end date affects n-weekly repeats - that is the expected and implemented behaviour.</p>\n<p>As for why the entries would appear in one view and not another...I'd expect a timezone problem.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think the reason the entries appear in the reports but not in the calendar view is to do with a bug that was fixed in MRBS 1.4.2.    I have seen this problem before.   I don't think it's to do with the fact that they are n-weekly repeats: it just depends on the time of the booking.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/181/", "title": "#181 Syntax errors in postgres create table scripts", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>In both tables.pg.73and_above.sql and tables.pg.sql there are two (the same in both files) syntax errors. When creating mrbs_entry and mrbs_repeat the last attribute added to the table is:<br>\n  private     private BOOLEAN NOT NULL DEFAULT '0'<br>\nbut it should read:<br>\n  private     BOOLEAN NOT NULL DEFAULT FALSE</p>\n<p>Revision 1104 </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Cheers, fixed in revision 1105.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed (in a different manner again) in the released MRBS 1.4.3.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/180/", "title": "#180 You do not have access rights to modify this item.", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hope you can assist. </p>\n<p>Everytime I try to log on as administrator I get \"You do not have access rights to modify this item.\"  </p>\n<p>I have installed MRBS V1.4.1 with MySQL 5.0 and PHP 5.2.6.  All seems to be fine except when creating the user account adminstrator. I configured the config.inc.php file to use $auth<span>[\"type\"]</span> = \"db\";.</p>\n<p>Also when I first clicked the link \"User List\", it went through the process of creating the mrbs_users table.  I used the default administrator username and a password of secret.  I can also see this username and password (encrypted) in mrbs_users table.  This username and password also exists in config.inc.php.  However everytime I try to log on as administrator to add more users, I get \"You do not have access rights to modify this item.\"  </p>\n<p>If I try anything else, it says unknown user.  So it must be reading the right info from MySQL.</p>\n<p>One thing I also noticed is that the auth_db.inc has the following in it:</p>\n<p>global $tbl_users;</p>\n<p>and</p>\n<p>return sql_query1(\"select count(*) from $tbl_users where name='$user' and password='$pass';\");</p>\n<p>Is the variable $tbl_users correct?  I am not that fluent with PHP so just asking because the table in MySQL is prefixed with mrbs_users.</p>\n<p>Hope you can assist.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I am also experiencing access problems using MRBS 1.4.1 $auth<span>[\"type\"]</span> = \"db\" on MySQL version 5.0.22</p>\n<p>Even though valid user &amp; password combinations are entered the user is not logged on and the \"Unknown User\" link remains in the top right hand corner of the screen.  It occurs for both administrators and normal users. </p>\n<p>The user table has been successfully created in the database &amp; populated. </p>\n<p>The problem occasionally seems to relent and access to MRBS seems fully functional, including administration rights if applicable.  Although on these occasions the user seems to be stuck logged in permanently, as the the log off button has no effect.</p>\n<p>The user &amp; password verification seems to be functioning as the message \"Unknown user\" is displayed if an invalid combination is entered.  (as opposed to \"You do not have access rights to modify this item.\")</p>\n<p>My MRBS instance is at <a href=\"http://www.Functionall.com/MRBS\" rel=\"nofollow\">http://www.Functionall.com/MRBS</a> if that is of any help.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Just in case anybody is watching/listening; After upgrading the version of PHP in use on my web server from PHP 4.4.4 to PHP 5.2.0 this problem has, in my case, been cured.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Having emailed Jim Pandazopoulos off-line back in March we discovered that the problems he was seeing were caused by the session variables not being preserved.   Once a user has been successfully authenticated the username is stored as a session variable.   If the session variables aren't present when a new page is loaded then the username returned is NULL and the system asks the user to login again.     When Jim changed his session scheme from 'PHP' to 'cookie' everything worked OK.</p>\n<p>I assumed at the time that the problems were caused by some PHP configuration problems on Jim's server which meant that PHP sessions were not working properly.</p>\n<p>It looks like a similar thing may have been happening on jodpcc's system and perhaps the session configuration was changed during the process of upgrading from PHP 4.4.4 to PHP 5.2.0 - in other words it wasn't the change to PHP5 that made the difference, but a reconfiguration of PHP.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Not a bug, closing</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/179/", "title": "#179 Error when changing resolution", "status": "closed", "labels": "MRBS-DEV (7)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,<br>\nWe are using MRBS for booking of tennis/squash courts.<br>\nWorks wery well. Current v. is 1.2.3<br>\nMany bookings are already made..</p>\n<p>Now, the club wants to change resolution from 3600 sec to 1800 sec.  I changed the settings in the config file - but the existing bookings do not show up right - ie 1. hour bookings becomse 1 1/2 hour bookings.<br>\nSeems to be some roundup and/or round down error.</p>\n<p>Any clues...??</p>\n<p>Sincerely Erik</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I imagine this ticket is long forgotten - sorry you got no reply, so I'll close it.</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/178/", "title": "#178 Creating repeated events with psql and long usernames", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi everyone!</p>\n<p>Creating repeated events using the postgresql scheme \"tables.pg.73and_above.sql\" dont work. The database<br>\ncolumn create_by in table mrbs_repeat is to small. <br>\nIt uses varchar(25) instead of varchar(80) in table <br>\nmrbs_entry.</p>\n<p>So found in version 1.4 </p>\n<p>changing <br>\n 62 CREATE TABLE mrbs_repeat<br>\n 63 (<br>\n 64   id          serial primary key,<br>\n 65   start_time  int DEFAULT 0 NOT NULL,<br>\n 66   end_time    int DEFAULT 0 NOT NULL,<br>\n 67   rep_type    int DEFAULT 0 NOT NULL,<br>\n 68   end_date    int DEFAULT 0 NOT NULL,<br>\n 69   rep_opt     varchar(32) NOT NULL,<br>\n 70   room_id     int DEFAULT 1 NOT NULL,<br>\n 71   timestamp   timestamp DEFAULT current_timestamp,<br>\n 72   create_by   varchar(25) NOT NULL,<br>\n 73   name        varchar(80) NOT NULL,<br>\n 74   type        char DEFAULT 'E' NOT NULL,<br>\n 75   description text,<br>\n 76   rep_num_weeks smallint DEFAULT 0 NULL<br>\n 77 );</p>\n<p>to</p>\n<p>62 CREATE TABLE mrbs_repeat<br>\n 63 (<br>\n 64   id          serial primary key,<br>\n 65   start_time  int DEFAULT 0 NOT NULL,<br>\n 66   end_time    int DEFAULT 0 NOT NULL,<br>\n 67   rep_type    int DEFAULT 0 NOT NULL,<br>\n 68   end_date    int DEFAULT 0 NOT NULL,<br>\n 69   rep_opt     varchar(32) NOT NULL,<br>\n 70   room_id     int DEFAULT 1 NOT NULL,<br>\n 71   timestamp   timestamp DEFAULT current_timestamp,<br>\n 72   create_by   varchar(80) NOT NULL,<br>\n 73   name        varchar(80) NOT NULL,<br>\n 74   type        char DEFAULT 'E' NOT NULL,<br>\n 75   description text,<br>\n 76   rep_num_weeks smallint DEFAULT 0 NULL<br>\n 77 );</p>\n<p>fixes the problem.</p>\n<p>for running databases use:<br>\nALTER TABLE mrbs_entry ALTER column create_by type varchar(80);</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Checked in fix as Subversion revision 1036 - thanks for the report!</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Made available in MRBS 1.4.2.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/177/", "title": "#177 1 hour meeting becomes 1.72222 hours v1.4", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>Need some guidance here please.<br>\nHopefully I'm posting to the right place.</p>\n<p>Installed MRBS 1.4 on my hosting provider (US based) but I am in Australia.<br>\n(This may be a no-no but I changed the Timezone to Australia/Sydney).</p>\n<p>I have set up rooms and everything properly (I have used this locally for a few years)</p>\n<p>When testing a 1 hour bookng becomes 1.72222 hours.</p>\n<p>Description:  <br>\nRoom:   1. Top Green - Rink 3<br>\nStart Time: 11:30:00 - Sunday 22 February 2009<br>\nDuration:   1.72222 hours<br>\nEnd Time:   13:13:20 - Sunday 22 February 2009<br>\nType:   Internal<br>\nCreated By: Administrator<br>\nLast Updated:   04:47:15 - Sunday 22 February 2009<br>\nRepeat Type:    None</p>\n<p>Provider is running<br>\nServer version: 5.0.67-community-log<br>\nMySQL client version: 4.1.22<br>\nphpMyAdmin - 2.11.9.4</p>\n<p>Should I try 1.4.1?</p>\n<p>I have tried this twice now and both times get the same results.</p>\n<p>David</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't quite determine from the change logs whether it's likely that this bug has been fixed by anything in 1.4.1, or after that release.</p>\n<p>It's certainly worth trying to upgrade to 1.4.1 though.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Try MRBS 1.4.3.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/176/", "title": "#176 highlighted schedule not equal to end time", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>why highlighted schedule not equal to end time?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I imagine this ticket is long forgotten - sorry you got no reply, so I'll close it.</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/175/", "title": "#175 Highlighted area on enlarged cells", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The school I'm working at plan to use MRBS and asked me to change some settings on the system and this included making the cells in the day view larger.</p>\n<p>I changed that by modifiying the value of $main_cell_height in mrbs.css.php.</p>\n<p>The result worked fine in firefox but in IE6 the cells were enlarged but the link and pink cell highlighting on mouse over was still set to the original size.</p>\n<p>I fixed this for me (not sure if this is the correct way but it worked) by changing:</p>\n<p>xbLib.js</p>\n<p>function BeginActiveCell()<br>\n{<br>\n  if (useJS)<br>\n  {<br>\n    document.write(\"\\n</p><table class='\\\\\"naked\\\\\"' width='\\\\\"100%\\\\\"'><tbody><tr><td class='\\\\\"naked\\\\\"' style=\"\">\\n\");<br>\n    // Note: The \u00a0 below is necessary to fill-up the cell. Empty cells behave badly in some browsers.<br>\n    if (!show_plus_link)<br>\n    {<br>\n      document.write(\"\u00a0<div style=\"\">\\n\"); // This will hide the (+) link.<br>\n    }<br>\n  }<br>\n}<p></p>\n<p>to include height=100%:</p>\n<p>document.write(\"\\n</p><table class='\\\\\"naked\\\\\"' height='\\\\\"100%\\\\\"' width='\\\\\"100%\\\\\"'><tbody><tr><td class='\\\\\"naked\\\\\"' style=\"\">\\n\");<p></p>\n<p>I've not added this as a patch as I'm not sure if this is the correct way to fix this with my very limited knowledge of php but I've tested it on firefox and IE6 and adding in height=100% seems to fix this bug.</p>\n<p>Daniel</p></td></tr></tbody></table><p></p></div></td></tr></tbody></table><p></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've just checked in the fix into SVN (Rev 1044).    Your solution works fine.   The only change I made was to move both the width and height rules out of the HTML and into CSS.    Not much difference, but slightly easier to maintain and also means that not as much HTML has to be output.</p>\n<p>Thanks for spotting this and also finding the problem.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/174/", "title": "#174 Bookings on DST Transition Day", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>While looking at another problem, I discovered two fairly obscure problems with making bookings straddling the DST transition hour.</p>\n<p>(1) If I have my booking day set so that the start of the day is before the DST transition hour, eg 0030 in Europe, and the end of the day is after the DST transition hour, eg 0430 and I make a booking on the transition day (eg in Europe the last Sunday in March or the last Sunday in October) with a booking that straddles the transition, then the main display table is corrupted in the day and week views.   I think this is because although the booking is recorded correctly in the database, the day and week views ignore DST transitions.    In other words, instead of having 23 hour days in March and 25 hour days in October, they just assume that every time is post transition and then the display gets in a muddle.     Having 24 hour days is probably the right thing to do, even though technically incorrect between 0100 and 0200.   Doing anything else would be far too complicated, especially if the booking system slots don't correspond with 0100 and 0200, eg if $morningstarts_minutes != 0.   (I notice that Windows Calendar doesn't try and do anything clever and quietly ignores the problem).     If one sticks with 24 hour days, then I think the solution is probably to construct the $today array in the day and week views taking this into account.    But I haven't thought about it enough to be sure.</p>\n<p>(2)  If you make an All Day booking on the DST transition day and the booking day straddles the transition hour as above, then there's another problem - the endtime isn't corrected for DST using $endtime += cross_dst( $starttime, $endtime ); as it is for non-All Day bookings.    I noticed this when I was looking at the edit_entry_handler code for something else, and thought that the fix was simple - just make sure the correction is applied to All Day and non-All Day bookings alike.   But when I tried it, I ran into the problem above in (1), so decided to leave it until the approach to (1) was sorted out.    (Besides it's too late and my brain's hurting!)</p>\n<p>Campbell</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I guess you fixed this!?</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>No - I don't think I did!   I think this is still a problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: closed --&gt; open</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in SVN Rev 2471.</p>\n<p>Campbell</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/173/", "title": "#173 floating point durations not accepted anymore", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>It seems that from v1.4 floating point durations are not accepted anymore. However, a duration of 1.5 hours is perfectly valid and quite convenient to use.</p>\n<p>Here is a patch to get it working again:</p>\n<hr>\n<h1 id=\"index-grab_globalsincphp\">Index: grab_globals.inc.php</h1>\n<p>--- grab_globals.inc.php    (revision 367)<br>\n+++ grab_globals.inc.php    (working copy)<br>\n@@ -81,6 +81,10 @@<br>\n     {<br>\n       $value = intval(unslashes($value));<br>\n     }<br>\n+    else if ($type == 'float')<br>\n+    {<br>\n+      $value = floatval(unslashes($value));<br>\n+    }<br>\n     else if ($type == 'string')<br>\n     {<br>\n       $value = unslashes($value);<br>\nIndex: edit_entry_handler.php<br>\n===================================================================<br>\n--- edit_entry_handler.php  (revision 367)<br>\n+++ edit_entry_handler.php  (working copy)<br>\n@@ -22,7 +22,7 @@<br>\n $ampm = get_form_var('ampm', 'string');<br>\n $minute = get_form_var('minute', 'int');<br>\n $period = get_form_var('period', 'int');<br>\n-$duration = get_form_var('duration', 'int');<br>\n+$duration = get_form_var('duration', 'float');<br>\n $dur_units = get_form_var('dur_units', 'string');<br>\n $all_day = get_form_var('all_day', 'string'); // bool, actually<br>\n $type = get_form_var('type', 'string');</p>\n<h1 id=\"index-grab_globalsincphp_1\">|Index: grab_globals.inc.php</h1>\n<p>--- grab_globals.inc.php    (revision 367)<br>\n+++ grab_globals.inc.php    (working copy)<br>\n@@ -81,6 +81,10 @@<br>\n     {<br>\n       $value = intval(unslashes($value));<br>\n     }<br>\n+    else if ($type == 'float')<br>\n+    {<br>\n+      $value = floatval(unslashes($value));<br>\n+    }<br>\n     else if ($type == 'string')<br>\n     {<br>\n       $value = unslashes($value);<br>\nIndex: edit_entry_handler.php<br>\n===================================================================<br>\n--- edit_entry_handler.php  (revision 367)<br>\n+++ edit_entry_handler.php  (working copy)<br>\n@@ -22,7 +22,7 @@<br>\n $ampm = get_form_var('ampm', 'string');<br>\n $minute = get_form_var('minute', 'int');<br>\n $period = get_form_var('period', 'int');<br>\n-$duration = get_form_var('duration', 'int');<br>\n+$duration = get_form_var('duration', 'float');<br>\n $dur_units = get_form_var('dur_units', 'string');<br>\n $all_day = get_form_var('all_day', 'string'); // bool, actually<br>\n $type = get_form_var('type', 'string');</p>\n<hr>\n<p>Thanks for all the work on this!</p>\n<p>Waldemar</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This was fixed (a slightly different way) in MRBS 1.4.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/172/", "title": "#172 all day fails for multiple days", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Here's an interesting UI bug:<br>\nIf you check the All day box, the other duration information is completely ignored.  That's fine, except I had someone frustrated because they tried to book a room, all day, for 2 days; and it silently only books the room for 1 day.</p>\n<p>My simplistic remedy is to disable the duration fields when the All day box is checked.  While looking at this code I also noticed that it is somewhat misleading in that it sets the start hour and minute fields to hard 00, but when you book the room it consults the $morningstarts variables - seems to me that this is asking for confusion.</p>\n<p>So here's my fix.<br>\nedit_entry.php, starting at line 322:</p>\n<p>function OnAllDayClick(allday)<br>\n{<br>\n  form = document.forms<span>[\"main\"]</span>;<br>\n  if (allday.checked) // If checking the box...<br>\n  {<br>\n    &lt;?php if( ! $enable_periods ) { ?&gt;<br>\n      form.hour.value = \"&lt;?php echo $morningstarts; ?&gt;\";<br>\n      form.minute.value = \"&lt;?php printf(\"%02d\", $morningstarts_minutes); ?&gt;\";<br>\n    &lt;?php } ?&gt;<br>\n      form.duration.value = \"1\";<br>\n      form.dur_units.value = \"days\";</p>\n<div class=\"codehilite\"><pre><span></span>  form.duration.disabled = true;\n  form.dur_units.disabled = true;\n  form.duration.style.color = '#777';\n  form.dur_units.style.color = '#777';\n</pre></div>\n\n\n<p>} else {<br>\n      form.duration.disabled = false;<br>\n      form.dur_units.disabled = false;<br>\n      form.duration.style.color = '#000';<br>\n      form.dur_units.style.color = '#000';<br>\n  }<br>\n}</p>\n<hr>\n<p>Granted, I think it would be nice to change the back-end behavior such that when $all_day is set, it consults the duration field (dur_units would still need to lock on \"days\" only) and implements multiple days as repeat_type daily, preserving all the $morningstarts and $eveningends configuration options that define what all_day is supposed to mean.</p>\n<p>Of course, then you have the potential complication of a nested repeat - one could legitimately request for example, a booking to last all day for 2 days, repeating monthly...</p>\n<p>I'm just keeping it simple for now, trying to match the UI to the reality of the back-end logic.</p>\n<ul>\n<li>David</li>\n</ul></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've fixed this in Revision 991, using your suggestion - many thanks.    I went a bit further and also:</p>\n<ul>\n<li>disabled the start time/period</li>\n<li>saved the previous values for start time/period and duration when All Day is checked, and then restored them when All Day is unchecked</li>\n</ul>\n<p>I didn't include changing the font colour, as I think most browsers do it these days themselves and users are probably used to the house style for the browser (and the greyed out colour varies from browser to browser).   The disabled style can always be set with CSS if necessary.</p>\n<p>Campbell</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Just checked in Revision 1001 which fixes a problem which has been in MRBS for a while:  daily repeating bookings stop a day short when All Day is checked.    Before Revision 991 it was there because the hour and minute form fields were being set to zero.    After Rev 991 it was caused by the fact that disabling the form fields meant that they were not being passed through by the form.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fix available in MRBS 1.4.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/171/", "title": "#171 highlight time broken in 1.4", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>With MRBS 1.4 the \"Highlight this line\" feature doesn't work.  The link is still there, but clicking on it has no effect.</p>\n<p>Here's how I got it work again:</p>\n<p>Add this line<br>\n$timetohighlight = get_form_var('timetohighlight');</p>\n<p>in day.php line 18<br>\nand in week.php line 20.</p>\n<p>It's a useful feature.  I hope this helps someone.</p>\n<ul>\n<li>David</li>\n</ul></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Great, it works !<br/>\nThank you !</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting the problem and providing the fix. However, the added lines should be:</p>\n<p>$timetohighlight = get_form_var('timetohighlight', 'int');</p>\n<p>for safety.</p>\n<p>Checked in as r986.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fix available in MRBS 1.4.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/170/", "title": "#170 print fix for style.inc", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS 1.4: printing doesn't work in firefox (3.0.4).  The mrbs-print.css is ignored.</p>\n<p>Here's a fix that works for me: remove the title attribute from the link tags.  The html still validates.</p>\n<p>change these lines in style.inc<br>\n12:    &lt;link rel=\"stylesheet\" href=\"mrbs.css.php\" type=\"text/css\" title=\"standard\"&gt;<br>\n13:    &lt;link rel=\"stylesheet\" media=\"print\" href=\"mrbs-print.css\" type=\"text/css\" title=\"print\"&gt;</p>\n<p>to this:<br>\n12:    &lt;link rel=\"stylesheet\" href=\"mrbs.css.php\" type=\"text/css\"&gt;<br>\n13:    &lt;link rel=\"stylesheet\" media=\"print\" href=\"mrbs-print.css\" type=\"text/css\"&gt;</p>\n<p>Some browsers (like firefox) won't honor the media=print style sheet if the link tag has a title attribute.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm agree.<br/>\nI change this few days ago, while working on Mrbs for Xoops</p>\n<p><a href=\"http://www.xoops.org/modules/repository/singlefile.php?cid=117&amp;lid=1820&amp;com_id=43543&amp;com_rootid=43472&amp;com_mode=flat&amp;com_order=0#comment43483\" rel=\"nofollow\">http://www.xoops.org/modules/repository/singlefile.php?cid=117&amp;lid=1820&amp;com_id=43543&amp;com_rootid=43472&amp;com_mode=flat&amp;com_order=0#comment43483</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for the fix. Checked in as r986.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fix available in MRBS 1.4.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/169/", "title": "#169 Mail content of modified entries", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,<br>\nWhile working on MRBS for Xoops : <a href=\"http://www.xoops.org/modules/repository/singlefile.php?cid=117&amp;lid=1820\" rel=\"nofollow\">http://www.xoops.org/modules/repository/singlefile.php?cid=117&amp;lid=1820</a></p>\n<p>I found a small bug.<br>\nWhen I modify an entry, i receive a mail, with new and old value.</p>\n<p>Even if I did not change the name of the room, its value changes.</p>\n<p>Especially, something like this : Room: 1 (Room2) - Subroom</p>\n<p>But in reality, i should have something like this : Room: Room1 (Room2) - Subroom</p>\n<p>To resolve this, i changed a line in edit_entry_handler.php file (line 456)</p>\n<p>Change :<br>\n$area_name = $row<span>['area_id']</span>;<br>\nTo :<br>\n$area_name = $row<span>['area_name']</span>;</p>\n<p>Now I always get the proper name of the room (works for entries copy/modification).</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks for spotting and provided a fix for this bug. The fix has been checked in as Suubversion r973.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fix available in MRBS 1.4.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/168/", "title": "#168 am and pm not handled correctly", "status": "closed", "labels": "MRBS-DEV (7)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Upgraded to the 1.4beta2 version. Everything came in fine. But when I try to add an event on any day that already has an event, it will not add, citing a conflict. Example: an event is scheduled for 7 am. trying to add an event for 7 pm. It won't add, it does not seem to be picking up that it is PM not AM. I'm in a major pickle with this. Does anyone have any ideas?<br>\nThanks,</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>It looks like I have to ENTER the event in 24 hour form, even though I have in the config file: $twentyfourhour_format = 0;. So, if I enter the 6pm event by entering 18 in the hour, it will work. Once entered, it displays in 12 hour format. Did I miss something in the config file?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fix released in MRBS 1.4.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/167/", "title": "#167 Apostrophizes", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>I've installed last version of mrbs 1.4 beta2.</p>\n<p>All work good except when I try to write a reservation with a word who have an apostrophizes, nothing appear in calendar.</p>\n<p>Do you have an idea to solve this problem ?</p>\n<p>Thanks </p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/166/", "title": "#166 Edit_users allows duplicate usernames", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When using $auth<span>[\"type\"]</span> = \"db\", edit_users.php lets you create two users with the same username.</p>\n<p>See email below.</p>\n<p>----- Original Message ----- <br>\nFrom: Campbell Morrison <br>\nTo: General purpose list (support/developers/users) <br>\nSent: Thursday, November 13, 2008 9:30 AM<br>\nSubject: Re: <span>[MRBS-general]</span> Need Unique User Name &amp; password combo</p>\n<p>Yes, this looks like a problem.</p>\n<p>However, isn't it the name that you want to be unique, rather than the email address?    It's the name that you use to log in, and this identifies the person.   I can see that it might be quite possible for two people to have different usernames but share an email address (eg husband and wife at the tennis club).</p>\n<p>Edit_users.php will need to be changed so that in the second phase, before adding a new user to the database you check to see whether that user already exists.    If they do then you don't add the user, but instead output the error message you want below and ask them to fill in the form again.   This should ensure that you keep the name unique and also generate an appropriate error message and action.     It shouldn't be necessary to make the SQL field unique.     You could do so as a backstop if you want, but then the way to do it is in the initial table creation in edit_users and you would also need to test for and trap the SQL error below.</p>\n<p>I'll log this as a bug.</p>\n<p>Campbell</p>\n<p>----- Original Message ----- <br>\nFrom: Simon Hunter <br>\nTo: mrbs-general@lists.sourceforge.net <br>\nSent: Wednesday, November 12, 2008 9:22 PM<br>\nSubject: <span>[MRBS-general]</span> Need Unique User Name &amp; password combo</p>\n<p>Hi all <br>\nI was writing up a user manual for Administrators and Users of MRBS in my local tennis club, where we are intending to use it for booking tennis &amp; squash courts. </p>\n<p>On doing final testing, while committing to paper, I came across something which puzzled me initially. <br>\nI discovered that when Administrator is in 'Add a New User' mode, that it is possible to add a new user with the exact same user name, password and email address as someone who is already entered in the database. Less than ideal.</p>\n<p>I had previously thought that mrbs rejected this addition and requested the Administrator to re-enter unique field(s), but I'm probably mistaken. Anyway, I think I have a solution but I'd appreciate if someone could tell me if this is the best way to do it?</p>\n<p>I used the phpMyAdmin Unique key and assigned it to the 'email' fields within the database, thus creating the SQL query \"ALTER TABLE <code>mrbs_users</code> ADD UNIQUE (</p>\n<p><code>email</code> ) \", so when the Administrator enters the following (i.e. repeating the details of someone already in the database)</p>\n<p>Name: charlie brown <br>\nemail address: charlie@peanuts.com <br>\nPassword: charlie </p>\n<p>will produce this; </p>\n<p>insert into mrbs_users values (7, 'charlie brown', 'bf779e0933a882808585d19455cd7937', 'charlie@peanuts.com', '', '');</p>\n<p>Error updating the mrbs_users table.<br>\nDuplicate entry 'charlie@peanuts.com' for key 2 </p>\n<p>So, it seems to work. But, a. am I tackling this in the correct way, and b. is there anyway I can reproduce the above message with something along the lines of </p>\n<p>\"Hi Administrator, please enter an unique email address for this User\". (this last bit isn't so important) </p>\n<p>Simon </p>\n<p>tel: 00 44 (0)28 9064 0622 <br>\nmob: 00 44 (0)777 6152 519 <br>\nem: simon@huntersbelfast.co.uk </p>\n<hr>\n<hr>\n<p>This SF.Net email is sponsored by the Moblin Your Move Developer's challenge<br>\nBuild the coolest Linux based applications with Moblin SDK &amp; win great prizes<br>\nGrand prize is a trip for two to an Open Source event anywhere in the world<br>\n<a href=\"http://moblin-contest.org/redirect.php?banner_id=100&amp;url=/\" rel=\"nofollow\">http://moblin-contest.org/redirect.php?banner_id=100&amp;url=/</a> </p>\n<hr>\n<hr>\n<p>mrbs-general mailing list<br>\nmrbs-general@lists.sourceforge.net<br>\n<a href=\"https://lists.sourceforge.net/lists/listinfo/mrbs-general\">https://lists.sourceforge.net/lists/listinfo/mrbs-general</a></p>\n<hr>\n<hr>\n<p>This SF.Net email is sponsored by the Moblin Your Move Developer's challenge<br>\nBuild the coolest Linux based applications with Moblin SDK &amp; win great prizes<br>\nGrand prize is a trip for two to an Open Source event anywhere in the world<br>\n<a href=\"http://moblin-contest.org/redirect.php?banner_id=100&amp;url=/\" rel=\"nofollow\">http://moblin-contest.org/redirect.php?banner_id=100&amp;url=/</a></p>\n<hr>\n<hr>\n<p>mrbs-general mailing list<br>\nmrbs-general@lists.sourceforge.net<br>\n<a href=\"https://lists.sourceforge.net/lists/listinfo/mrbs-general\">https://lists.sourceforge.net/lists/listinfo/mrbs-general</a></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Duplicate of 2275465</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Duplicate of 2275465</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/165/", "title": "#165 Edit_users allows duplicate usernames", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When using $auth<span>[\"type\"]</span> = \"db\", edit_users.php lets you create two users with the same username.</p>\n<p>See email below.</p>\n<p>----- Original Message ----- <br>\nFrom: Campbell Morrison <br>\nTo: General purpose list (support/developers/users) <br>\nSent: Thursday, November 13, 2008 9:30 AM<br>\nSubject: Re: <span>[MRBS-general]</span> Need Unique User Name &amp; password combo</p>\n<p>Yes, this looks like a problem.</p>\n<p>However, isn't it the name that you want to be unique, rather than the email address?    It's the name that you use to log in, and this identifies the person.   I can see that it might be quite possible for two people to have different usernames but share an email address (eg husband and wife at the tennis club).</p>\n<p>Edit_users.php will need to be changed so that in the second phase, before adding a new user to the database you check to see whether that user already exists.    If they do then you don't add the user, but instead output the error message you want below and ask them to fill in the form again.   This should ensure that you keep the name unique and also generate an appropriate error message and action.     It shouldn't be necessary to make the SQL field unique.     You could do so as a backstop if you want, but then the way to do it is in the initial table creation in edit_users and you would also need to test for and trap the SQL error below.</p>\n<p>I'll log this as a bug.</p>\n<p>Campbell</p>\n<p>----- Original Message ----- <br>\nFrom: Simon Hunter <br>\nTo: mrbs-general@lists.sourceforge.net <br>\nSent: Wednesday, November 12, 2008 9:22 PM<br>\nSubject: <span>[MRBS-general]</span> Need Unique User Name &amp; password combo</p>\n<p>Hi all <br>\nI was writing up a user manual for Administrators and Users of MRBS in my local tennis club, where we are intending to use it for booking tennis &amp; squash courts. </p>\n<p>On doing final testing, while committing to paper, I came across something which puzzled me initially. <br>\nI discovered that when Administrator is in 'Add a New User' mode, that it is possible to add a new user with the exact same user name, password and email address as someone who is already entered in the database. Less than ideal.</p>\n<p>I had previously thought that mrbs rejected this addition and requested the Administrator to re-enter unique field(s), but I'm probably mistaken. Anyway, I think I have a solution but I'd appreciate if someone could tell me if this is the best way to do it?</p>\n<p>I used the phpMyAdmin Unique key and assigned it to the 'email' fields within the database, thus creating the SQL query \"ALTER TABLE <code>mrbs_users</code> ADD UNIQUE (</p>\n<p><code>email</code> ) \", so when the Administrator enters the following (i.e. repeating the details of someone already in the database)</p>\n<p>Name: charlie brown <br>\nemail address: charlie@peanuts.com <br>\nPassword: charlie </p>\n<p>will produce this; </p>\n<p>insert into mrbs_users values (7, 'charlie brown', 'bf779e0933a882808585d19455cd7937', 'charlie@peanuts.com', '', '');</p>\n<p>Error updating the mrbs_users table.<br>\nDuplicate entry 'charlie@peanuts.com' for key 2 </p>\n<p>So, it seems to work. But, a. am I tackling this in the correct way, and b. is there anyway I can reproduce the above message with something along the lines of </p>\n<p>\"Hi Administrator, please enter an unique email address for this User\". (this last bit isn't so important) </p>\n<p>Simon </p>\n<p>tel: 00 44 (0)28 9064 0622 <br>\nmob: 00 44 (0)777 6152 519 <br>\nem: simon@huntersbelfast.co.uk </p>\n<hr>\n<hr>\n<p>This SF.Net email is sponsored by the Moblin Your Move Developer's challenge<br>\nBuild the coolest Linux based applications with Moblin SDK &amp; win great prizes<br>\nGrand prize is a trip for two to an Open Source event anywhere in the world<br>\n<a href=\"http://moblin-contest.org/redirect.php?banner_id=100&amp;url=/\" rel=\"nofollow\">http://moblin-contest.org/redirect.php?banner_id=100&amp;url=/</a> </p>\n<hr>\n<hr>\n<p>mrbs-general mailing list<br>\nmrbs-general@lists.sourceforge.net<br>\n<a href=\"https://lists.sourceforge.net/lists/listinfo/mrbs-general\">https://lists.sourceforge.net/lists/listinfo/mrbs-general</a></p>\n<hr>\n<hr>\n<p>This SF.Net email is sponsored by the Moblin Your Move Developer's challenge<br>\nBuild the coolest Linux based applications with Moblin SDK &amp; win great prizes<br>\nGrand prize is a trip for two to an Open Source event anywhere in the world<br>\n<a href=\"http://moblin-contest.org/redirect.php?banner_id=100&amp;url=/\" rel=\"nofollow\">http://moblin-contest.org/redirect.php?banner_id=100&amp;url=/</a></p>\n<hr>\n<hr>\n<p>mrbs-general mailing list<br>\nmrbs-general@lists.sourceforge.net<br>\n<a href=\"https://lists.sourceforge.net/lists/listinfo/mrbs-general\">https://lists.sourceforge.net/lists/listinfo/mrbs-general</a></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Revision 956</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Revision 956</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/164/", "title": "#164 Cannot use Apostrophe in Fields", "status": "closed", "labels": "MRBS-DEV (7)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Using MRBS 1.4beta2 October 18, 2008</p>\n<p>If you use an apostrophe in the following fields:<br>\n'Brief Description' or 'Full Description'<br>\nit will not book your event, you can try it 15x, still will not show up.</p>\n<p>The same error showed up in the mailing list from 2001-05-16 18:44:</p>\n<p><a href=\"https://sourceforge.net/mailarchive/message.php?msg_id=60C1E65A5A01D311BE5D0050040FE6FA011C3A3F%40exchange\">https://sourceforge.net/mailarchive/message.php?msg_id=60C1E65A5A01D311BE5D0050040FE6FA011C3A3F%40exchange</a></p>\n<p>thanks</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I beg to differ, see the attached screenshot.</p>\n<p>What database and database version are you using?<br/>\nWhat PHP version?<br/>\nWhat web server?</p>\n<p>John.</p>\n<p>File Added: mrbs-apostrophes.png</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Screenshot showing MRBS 1.4beta2 handling apostrophes</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Same (mis)behavior with 1.4beta2 here. With 1.2.6 it work's.</p>\n<p>(phpinfo)<br/>\nDatabase:   MySQL 5.0.51-log<br/>\nSystem: Linux infong 2.4 #1 SMP Tue Dec 18 22:34:10 UTC 2007 i686 GNU/Linux<br/>\nPHP:        4.4.9<br/>\nwebserver:  Apache (can't find out the version for now)</p>\n<p>If I find something I report it here :)</p>\n<p>Regards, Matthias.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I found the following differences between 1.4beta2 and 1.2.6:</p>\n<p>When writing the database in \"mrbsCreateSingleEntry()\" the string containing the apostrophe is escaped with a backslash in 1.2.6 but not escaped in 1.4beta2.</p>\n<p>It looks like the problem lies in the \"function get_form_var()\" which did not exist in 1.2.6.</p>\n<p>If I debug \"edit_entry_handler.php\" (1.4beta2) in my webspaceproviders environment I see the following:<br/>\nBefore the call \"$description = get_form_var('description', 'string');\"<br/>\nThe variable $description contains the apostrophe escaped with a backslash<br/>\nafter the call the backslash is removed.</p>\n<p>HTH a little bit to identify \"our problem\".</p>\n<p>Regards, Matthias.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>mahbr:</p>\n<p>Yes, description is passed all around MRBS unescaped, but then before it is used in an SQL statement (in mrbsCreateSingleEntry()) the following code is called, to escape it for the database query:</p>\n<p>$description = slashes($description);</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>jberanek:</p>\n<p>Trying to get not not lost with this to and fro about \"slashes\" I have got a little bit headache ;-)</p>\n<p>The \"escaping\" before the database query do not work as expected. The function slashes() depends on get_magic_quotes_gpc(). On my system get_magic_quotes_gpc() is set to TRUE =&gt; addslashes not performed.</p>\n<p>I guess get_magic_quotes_gpc() is OFF on your system?</p>\n<p>If we can count on the according string variables beeing passed all arout unescaped, it looks to me that slashes() have to be replaced with addslashes() in front of queries.</p>\n<p>Matthias.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Subversion revision 954, thanks mahbr for the diagnosis!</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/163/", "title": "#163 Date Selector does not work when day = 1", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The date selector does not function if the currently selected date is the first of the month.</p>\n<p>I have tested for the problem and proven that it exists in the following (Windows XP) browsers: Fx (3), IE (6, 7), Opera (9.60), Chrome (0.2.149.30), Safari (3.1.2), though it may be present elsewhere. My suggested solution works in all the above cases.</p>\n<p>I believe that the cause is that the selectedIndex of the first day in the month is zero, leading to an incorrect detection of which DOM standard ('DOM2 standard', 'MRBS Legacy' or 'Opera 6') to use.</p>\n<p>This can be remedied by testing for:</p>\n<p>if (typeof DaysObject.selectedIndex == 'number' ...)</p>\n<p>instead of:</p>\n<p>if (DaysObject.selectedIndex ...)</p>\n<p>as is currently implemented.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Things I failed to include in my initial report:<br/>\nThis is a failure of the JavaScript function ChangeoptionDays which keeps the dates valid when changed (eg only lets February have 28/29 days) whose code is at the top of the page (in the head section in the html).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Thanks, that was indeed a problem, and your change certainly fixes it for me in Firefox 3 - thanks.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Released fix in MRBS 1.4.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/162/", "title": "#162 PHP Mysql Upgrade - Option Repeat entry not working.", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>We upgraded MYSQL database to ver 5.0 and PHP to ver 5.2.3. The option book repeated entry is not working, it does not through any error. But the entry is not saved to the database and the same is not reflected on the application. </p>\n<p>Single entry does work.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Version of MRBS?</p>\n<p>Any info in the web server logs?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Version 2, and no server logs are created.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>MRBS hasn't got a version 2.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi John,</p>\n<p>Can you please breif, how to find the version of MRBS.</p>\n<p>Thanks,<br/>\nravi</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Go to the help page in the MRBS installation.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I am sorry, the help page does not have any version number displayed. Only FAQ is present. I have newly joined the project so i am not very familiar with functionalities.<br/>\nIn the help.php found the below info.<br/>\nhelp.php,v 1.12 2003/11/21.</p>\n<p>Please help.<br/>\nThanks,<br/>\nRavi.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>In the help page, just below \"About MRBS\" (or the equivalent in the language you're viewing MRBS in) there should be a line containing the MRBS version.</p>\n<p>If there is not, then there is another issue with your MRBS installation.</p>\n<p>The revision of help.php doesn't help a lot, as that revision of help.php was used in 7 MRBS releases.</p>\n<p>A complete guess based on your complete guess of an MRBS version would be that you upgraded MRBS at some point and didn't follow the instructions to upgrade the database.</p>\n<p>To verify this you need to look at the columns that are defined for the database table 'mrbs_repeat'. You can either use a graphical tool for this or the SQL query:</p>\n<p>DESCRIBE mrbs_repeat;</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi John,</p>\n<p>You are right,i could not find any version mentioned in the Help page. Please find the mrbs_repeat table structure and kindly suggest.</p>\n<p>mysql&gt; desc mrbs_repeat;<br/>\n+---------------+-------------+------+-----+-------------------+----------------<br/>\n+<br/>\n| Field         | Type        | Null | Key | Default           | Extra<br/>\n|<br/>\n+---------------+-------------+------+-----+-------------------+----------------<br/>\n+<br/>\n| id            | int(11)     | NO   | PRI | NULL              | auto_increment<br/>\n|<br/>\n| start_time    | int(11)     | NO   |     | 0                 |<br/>\n|<br/>\n| end_time      | int(11)     | NO   |     | 0                 |<br/>\n|<br/>\n| rep_type      | int(11)     | NO   |     | 0                 |<br/>\n|<br/>\n| end_date      | int(11)     | NO   |     | 0                 |<br/>\n|<br/>\n| rep_opt       | varchar(32) | NO   |     |                   |<br/>\n|<br/>\n| room_id       | int(11)     | NO   |     | 1                 |<br/>\n|<br/>\n| timestamp     | timestamp   | NO   |     | CURRENT_TIMESTAMP |<br/>\n|<br/>\n| create_by     | varchar(25) | NO   |     |                   |<br/>\n|<br/>\n| name          | varchar(80) | NO   |     |                   |<br/>\n|<br/>\n| type          | char(1)     | NO   |     | E                 |<br/>\n|<br/>\n| description   | text        | YES  |     | NULL              |<br/>\n|<br/>\n| rep_num_weeks | tinyint(4)  | YES  |     | 0                 |<br/>\n|<br/>\n+---------------+-------------+------+-----+-------------------+----------------<br/>\n+<br/>\n13 rows in set (0.11 sec)</p>\n<p>Thanks,<br/>\nRavi.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/161/", "title": "#161 12 hour format not working", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When we switch to show calendar time in a 12 hour format we are unable to schedule meetings.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>MRBS version?<br/>\nPHP version?<br/>\nWeb server version?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in Subversion revision 953.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/160/", "title": "#160 XSS Cross-Site Scripting Vulnerability", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>By presenting a maliciously crafted URL to an MRBS-user it may be possible to steal sensitive information from the user.</p>\n<p>Example URL: <br>\n<a href=\"http://any.mrbs.installation/day.php?area=%3Cscript%3Ealert\" rel=\"nofollow\">http://any.mrbs.installation/day.php?area=%3Cscript%3Ealert</a>(123)%3C/script%3E</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>This is addressed in the current development working towards a 1.4 release. No further 1.2 releases are planned.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>This is addressed in the current development working towards a 1.4 release. No further 1.2 releases are planned.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>This is addressed in the current development working towards a 1.4 release. No further 1.2 releases are planned.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in the released MRBS 1.4.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/159/", "title": "#159 Incorrect number of args to AIX UTF-8 conversion function", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The utf8_convert_aix() incorrectly takes two arguments; it should only take one argument, the string to be converted. Attaching patch.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>language.inc patch for 1.2.6.1</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Cheers, I'll get this into the trunk development.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Cheers, I'll get this into the trunk development.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Cheers, I'll get this into the trunk development.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Checked into Subversion r859.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Checked into Subversion r859.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Checked into Subversion r859.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fix released in MRBS 1.4.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/158/", "title": "#158 SQL error on weekly booking until next year", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,<br>\nI get this error during some weekly bookings until next year, but have no idea, where to search for bug...</p>\n<p>\"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '2348E+9 AND end_time &gt; 1234792800 AND room_id = 5 ORDER BY start_time' at line 2\"</p>\n<p>Can you help me please?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Something like this has been raised before, and I didn't really understand how it could happen at the time. It looks like plain integers are being turned into floating point numbers in some circumstances. I don't know how to stop PHP doing this, but I've not looked very hard yet.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Something like this has been raised before, and I didn't really understand how it could happen at the time. It looks like plain integers are being turned into floating point numbers in some circumstances. I don't know how to stop PHP doing this, but I've not looked very hard yet.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Something like this has been raised before, and I didn't really understand how it could happen at the time. It looks like plain integers are being turned into floating point numbers in some circumstances. I don't know how to stop PHP doing this, but I've not looked very hard yet.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>There is a change in Subversion rev 1020 that may fix this.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/157/", "title": "#157 Can't book a room (random)", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have a small issue, there is a weird things that happens when i try to book one of our room at 10am for two hours on october 14, the reservation is not saved. it just disapear, i can book on the same date and time but with a 3 hours reservation, or book at 9h30am for 2 hours without problem, i can book the other rooms at 10am without a glitch. That kind of hiccup appear now and then on a room, then disapear and reapear on another room (the hours at witch we can't book or the length of the reservation can varry too). </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=319054<br/>\nOriginator: YES</p>\n<p>Finally, most of my room can't be book for two hours starting at 10am, i can book for 1,5h or 2,5h, but not 2h... If i do a reservation lasting 2,5h and i edit it to bring it back to 2h, the reservation just disapear like it was deleted.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Are there any errors in your web server error log when these strange things happen?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Are there any errors in your web server error log when these strange things happen?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Are there any errors in your web server error log when these strange things happen?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi there!</p>\n<p>I have recently come across this problem to. With some dates/rooms it is impossible to book a 2 hour apointment. It just disasapears. If I choose 2,5 hours or 1,5 then it works without a problem.<br/>\nAs for now I have not seen any error messages in the logfiles. I will try to debug this further.<br/>\nIt runs on a Open SuSE 10.3 with mysql 5.0.45-22.5 and apache2 2.2.4-70.6</p>\n<p>I have the same DB and webfiles on a testmachine with OpenSuSE 11, but with the same problem.<br/>\nAny suggestions for further debugging?</p>\n<p>Best Regards</p>\n<p>Magnus</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Just for fun and testing, I made a copy of the DB and installed mrbs1.4beta2. I configured it to the copy of the DB. Then, when I tried with the problematic booking, it worked. I could set it to 2 hours, without it dissapearing.</p>\n<p>Regards</p>\n<p>Magnus</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Interesting - this could feasibly be because MRBS 1.4 explicitly converts all integer form fields to integers using intval().</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Hi!</p>\n<p>Anything I can do to help debugging this? Are you interested to get a copy of the db and info on an appointment where I get this error?<br/>\nOr shall I just sit tight and wait for the final release of 1.4?</p>\n<p>//Magnus</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I would suggest upgrading to MRBS 1.4.1. I will close this issue now, even though the problem wasn't exactly diagnosed...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/156/", "title": "#156 End date of series off by one for full day repeat bookings", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>On adding an entry with \"Duration\" \"All day\" and \"Repeat type\" \"Daily\" the booking ends one day before the date specified as \"Repeat End Date\". If instead \"Duration\" is not set to \"All day\", but to \"8 hours\", then the booking will also include \"Repeat End Date\".</p>\n<p>The different behaviour is inconsistent to me and I think including the \"Repeat End Date\" is correct.</p>\n<p>The test was done with MRBS 1.2.6.1 in a local installation and on the demo installation provided by Sourceforge ( <a href=\"http://mrbs.sourceforge.net/mrbs/\">http://mrbs.sourceforge.net/mrbs/</a> ).</p>\n<p>See attached screenshot how the booking was done.</p>\n<p>Here is the result:<br>\n<a href=\"http://mrbs.sourceforge.net/mrbs/month.php?room=2689&amp;day=1&amp;month=05&amp;year=2008&amp;area=1048\">http://mrbs.sourceforge.net/mrbs/month.php?room=2689&amp;day=1&amp;month=05&amp;year=2008&amp;area=1048</a></p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Screenshot creating a serial booking</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Screenshot of booking result, shows booking ends one day too early</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=2087749<br/>\nOriginator: YES</p>\n<p>File Added: Screenshot-mrbs-2.png</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Apologies for the very slow reply to this bug. I agree with you on your assessment of the behaviour, it is incorrect. I also agree that the behaviour of \"all-day\" is the incorrect behaviour and \"normal bookings\" are correct.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Apologies for the very slow reply to this bug. I agree with you on your assessment of the behaviour, it is incorrect. I also agree that the behaviour of \"all-day\" is the incorrect behaviour and \"normal bookings\" are correct.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Apologies for the very slow reply to this bug. I agree with you on your assessment of the behaviour, it is incorrect. I also agree that the behaviour of \"all-day\" is the incorrect behaviour and \"normal bookings\" are correct.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Problem is still there in version 1.4.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>There is a good chance that MRBS 1.4.6 fixes this problem</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/155/", "title": "#155 Problems with daylight saving time", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi there.<br>\nMeeting Room Booking System - MRBS 1.2.5 <br>\nDatabase: MySQL 5.0.51a-community-nt <br>\nSystem: Windows NT PHPSERVER 5.2 build 3790 <br>\nPHP: 5.2.5 </p>\n<p>Set up some bookings before change to British Summer Time (DST). These bookings do not now show up in the Daily View. However, a search shows the records are there, and if they are edited and resaved they then appear. Looking at the database entries, it appears that the entry is re-written when this editing takes place and that the time code is upped by 3600 (which would allow for the DST). Thus the editor and report find the records but the daily view does not seem to show correctly records created before the change to DST one the change to DST has occurred.</p>\n<p>Robin Newman</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=2070352<br/>\nOriginator: YES</p>\n<p>Sorry last line should say once the change to DST has occured (not one the change....)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>There is certainly no problem with DST handling when MRBS is installed on Linux.</p>\n<p>I've just done a specific test using the setup:</p>\n<p>openSUSE 10.3<br/>\nMySQL 5.0.45 (not that it matters for this)<br/>\nPHP 5.2.5<br/>\nMRBS 1.2.6.1 (ish, it's actually a development version, but there have been no changes in this area)</p>\n<p>I would really hope PHP would behave the same on Windows as on Linux, but that's probably overly optimistic :(</p>\n<p>What I don't quite understand about your report is the part where you say the booking doesn't show up in the daily view? If the booking was just off by an hour, why would it not show up?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>There is certainly no problem with DST handling when MRBS is installed on Linux.</p>\n<p>I've just done a specific test using the setup:</p>\n<p>openSUSE 10.3<br/>\nMySQL 5.0.45 (not that it matters for this)<br/>\nPHP 5.2.5<br/>\nMRBS 1.2.6.1 (ish, it's actually a development version, but there have been no changes in this area)</p>\n<p>I would really hope PHP would behave the same on Windows as on Linux, but that's probably overly optimistic :(</p>\n<p>What I don't quite understand about your report is the part where you say the booking doesn't show up in the daily view? If the booking was just off by an hour, why would it not show up?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>There is certainly no problem with DST handling when MRBS is installed on Linux.</p>\n<p>I've just done a specific test using the setup:</p>\n<p>openSUSE 10.3<br/>\nMySQL 5.0.45 (not that it matters for this)<br/>\nPHP 5.2.5<br/>\nMRBS 1.2.6.1 (ish, it's actually a development version, but there have been no changes in this area)</p>\n<p>I would really hope PHP would behave the same on Windows as on Linux, but that's probably overly optimistic :(</p>\n<p>What I don't quite understand about your report is the part where you say the booking doesn't show up in the daily view? If the booking was just off by an hour, why would it not show up?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=2070352<br/>\nOriginator: YES</p>\n<p>we have it set up for periods. (They are lessons during the school day). Maybe that stops them appearing.<br/>\nThe windows bit is a red herring. That was from a backup system. The orginal is running under Ubuntu, but same php and myssql.<br/>\nAs I say if you search for the originator then the records all show with the correct periods allocated.<br/>\nHowever, they don't appear in the day view unless you resave them fromt he editor. In this case new records are created, and inspecting them they are shifted on by 3600 in teh time fielsd, i.e. 1 hour later.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Hmm, 'periods' setup does rather change the MRBS behaviour, so perhaps there is a DST problem there...</p>\n<p>I will try to find some time to try this with MRBS set up for periods.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=2070352<br/>\nOriginator: YES</p>\n<p>I attach a text file giving further details of our configuration for periods and showing details of record booking that don't work.</p>\n<p>Robin<br/>\nFile Added: DSTbug.txt</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Details of DSTbug behaviour</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>OK, I've now reproduced this in a VMware image.</p>\n<p>It appears there is confusion over how to store 'period-style' bookings regarding DST.</p>\n<p>It seems that if you create a booking for a day that is in DST, while you're in DST, you create a booking of the form:</p>\n<p>12:&lt;period number=\"\"&gt; <em>BST</em> (i.e. 11:&lt;period number=\"\"&gt; GMT)</p>\n<p>However, if you create a booking for a day that is in DST, while you're not in DST, you create a booking of the form:</p>\n<p>13:&lt;period number=\"\"&gt; BST (i.e. 12:&lt;period number=\"\"&gt; GMT)</p>\n<p>Now I'm not sure which of these is more correct, as I didn't write the code that added periods support to MRBS.</p>\n<p>I also don't entirely understand how the report and search functionality find all booking combinations, but the daily view doesn't. If the times really are as inconsistent as they seem to be, I'd expect nothing to find bookings. Perhaps some parts of MRBS have been changed to accommodate the incorrect DB entries...</p>\n<p>This looks like it's going to involve some pretty in-depth investigation into the time handling for period-style bookings :(</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I saw the same problems when I changed the system timezone, on a FreeBSD 6.1 server, from GMT to CDT. All bookings, on 5 different installs, disappeared from Day, Week, and Month views. The bookings still existed and could be found by searching in Reports. Once the booking was resaved they again appeared in Day, Week, and Month Views.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>rcbelln51:</p>\n<p>This is expected behaviour if you change the timezone of the web server, or more the installation to a server with a different timezone - not a bug.</p>\n<p>You can overcome the issue by issuing SQL statements to update the bookings, or on systems that support the TZ environment variable, use an appropriate:</p>\n<p>putenv(\"TZ=My/Timezone\");</p>\n<p>line in your config.inc.php.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>There have been a lot of changes in MRBS since this report, so it's possible it's fixed in the current version, closing...</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/154/", "title": "#154 IMAP Authentication Failures and Suggestion", "status": "closed", "labels": "MRBS (195)", "priority": "8", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello everyone -</p>\n<p>We are currently utilizing MRBS at our institution to manage an equipment and group study room reservation process. I have experienced relative ease in modifying code and making it fit to our needs; however, I've run into one bottlekneck and just wanted to see if anyone had input on this topic.</p>\n<p>We currently utilize authentication via the IMAP servers on campus. Throughout the day we will have random users (upwards of 10 to 15) who are unable to login to the system, informed that access is denied. </p>\n<p>I wasn't sure if anyone else had a suggestion/fix. I saw a comment in a previous ticket that stated:</p>\n<p>\"If MRBS's $unicode_encoding is 1, the password <em>will</em> be sent in UTF-8. If $unicode_encoding is 0, the password will be sent in the languages character encoding...\"</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>The comment was about LDAP authentication, but is equally true of IMAP authentication.</p>\n<p>I'm not sure what the IMAP specification says about the character encoding that passwords should be in, so I don't know if this is right or not.</p>\n<p>However, if the users are seemingly random, and not always the same ones, it seems unlikely to be because of passwords with \"funny\" (read non-ASCII) characters in their passwords.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Re: last comment</p>\n<p>Erm, \"<em>users</em> with funny passwords\", not \"passwords with funny passwords\". :)</p>\n<p>It's late(ish) here!</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=2041658<br/>\nOriginator: YES</p>\n<p>Has anyone else experienced this problem with IMAP authentication. We've noticed a steady amount of users 10-15 who still cannot access the system; however, it's intermittent. Does MRBS currently close \"each\" connection to IMAP servers after authenticating? My thought is that the server connection remains open and times out. I appreciate all of the group's help and it's been great customizing and writing code for this app.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=2041658<br/>\nOriginator: YES</p>\n<p>Has anyone else experienced this problem with IMAP authentication. We've noticed a steady amount of users 10-15 who still cannot access the system; however, it's intermittent. Does MRBS currently close \"each\" connection to IMAP servers after authenticating? My thought is that the server connection remains open and times out. I appreciate all of the group's help and it's been great customizing and writing code for this app.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>In any recent release IMAP connections are closed cleanly in all circumstances.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>In any recent release IMAP connections are closed cleanly in all circumstances.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>In any recent release IMAP connections are closed cleanly in all circumstances.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>We upgraded our server and used LDAP instead. This resolved our issue and no longer use IMAP as an authentication method.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/153/", "title": "#153 (suspected) php interacts w. password, preventing auth", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I've been running MRBS as our departmental meeting room system for over a year (in fact, a year-and-a-day), and it's been very well received.</p>\n<p>We're using LDAP as the authentication type. </p>\n<p>Recently, I found that I could no longer authenticate myself to MRBS as either a user or as an admin. Other users do not have a problem, and I did not have a problem before my most recent password change (as per our periodic password exipiration policy).</p>\n<p>When I try to login, I get the message \"You do not have access rights to modify this item.\" There is no corresponding error in the http logs.</p>\n<p>I'm certain that the password I am trying with MRBS is valid, as it's used for my e-mail and many other things. </p>\n<p>My strong suspicion (from having seen this issue before with other PHP-based systems) is that PHP is interperting the non-alphanumeric characters in my password before sending that data to the LDAP back-end for authentication, and is therefore sending a modified (and invalid) password to the LDAP server.</p>\n<p>The system details are:</p>\n<p>Meeting Room Booking System - MRBS 1.2.3<br>\nDatabase: MySQL 5.0.27<br>\nSystem: Linux 2.6.20-1.2320.fc5smp #1 SMP Tue Jun 12 19:40:16 EDT 2007 i686<br>\nPHP: 5.1.6</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=2003076<br/>\nOriginator: YES</p>\n<p>Feature request 1871201 seems to describe the same issue.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=2003076<br/>\nOriginator: YES</p>\n<p>Edit: Not \"feature request\", but \"support request\" 1871201 seems to describe the same issue.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Except that support request mentions an old version of PHP, and you're using a very new (unstable) version of PHP.</p>\n<p>The password typed by the user is passed directly to the LDAP authentication function, so there's nothing MRBS can do, as far as I'm concerned.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Did find a vaguely interesting user comment in the ldap_bind() documentation page:</p>\n<p>=================================================================<br/>\nIt seems that Active Directory stores information in UTF8 format.</p>\n<h1 id=\"i-needed-to-utf8_encode-the-username-and-password-otherwise-the-bind-failed-when-a-user-has-accented-characters-in-his-password\">I needed to utf8_encode() the username and password otherwise the bind failed when a user has accented characters in his password...</h1>\n<p>If MRBS's $unicode_encoding is 1, the password <em>will</em> be sent in UTF-8. If $unicode_encoding is 0, the password will be sent in the languages character encoding...</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Closing this old bug...</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/152/", "title": "#152 Access is Denied in editing the booked rooms", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi Folks,</p>\n<p>Few users in my organization are getting the access is denied message when they are trying to modify/ edit the meeting rooms booked by themselves. </p>\n<p>We are using IMAP for authentication with our exchanges servers. where as rest of the users are able to edit the entries. </p>\n<p>In case you need more information please let me know. </p>\n<p>I appreciate the efforts done by you in this regard.</p>\n<p>Thanks &amp; Regards<br>\nNikunj Aggarwal</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>I don't really understand. As long as you are logged in as the same username that booked the room you should be able to edit the booking.</p>\n<p>I've never heard of any problems in this regard, I believe...</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Closing this old bug...</p>\n<ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/151/", "title": "#151 typo in /web/edit_area_room.php", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I'm working on cleaning up the code for the MRBS4Moodle and noticed the following on line 29:</p>\n<p>$area = sql_query1(\"SELECT area_id from $tbl_room where id=$room\");</p>\n<p>I suspect that this should be:</p>\n<p>$area = sql_query(\"SELECT area_id from $tbl_room where id=$room\");</p>\n<p>Since this appears to be a syntax error, I'm classifying this as major. Let me know if you have any questions.</p>\n<p>Peace - Anthony Borrow, SJ</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1051176<br/>\nOriginator: YES</p>\n<p>Sorry - I am tired and had missed the definition of this function in mysql.php. I saw it somewhere else and that sent me searching. Peace - Anthony</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/150/", "title": "#150 E-mail charset mixup when sending mail", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Even thou all language substitiontions is piped thru iconv() in all situations, sendMail() is still called with $vocab<span>[\"charset\"]</span> as E-mail charset. In the case the language file is a iso8859-1 and $unicode_encoding is set this makes a almost perfectly encoded UTF-8 e-mail message to suddenly get the header \"Content-Type: text/plain charset=iso8859-1\".</p>\n<p>Also, it would be helpful to encode the \"Subject:\"-header correctly when enabling UTF-8, like this in functions_mail.inc:</p>\n<p>$headers<span>['Subject']</span> = '=?UTF-8?B?'.base64_encode($subject).'?=';</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>What version of MRBS are you using, MRBS 1.2.6.1 greatly improves the Internationalisation of emails sent from MRBS.</p>\n<p>It however doesn't do the correct subject encoding as you specify, because the algorithm is supposed to be a bit more clever than that. I seem to remember it was meant to be \"Only encode the characters that <em>aren't</em> ascii\".</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>You've not replied, but I'll add an update for the sake of archiving it...</p>\n<p>In the trunk development I will be adding correct encoding of the subject line, I will try to make the behaviour at least a little better by only doing base 64 encoding if there are non-ascii characters in the subject.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>You've not replied, but I'll add an update for the sake of archiving it...</p>\n<p>In the trunk development I will be adding correct encoding of the subject line, I will try to make the behaviour at least a little better by only doing base 64 encoding if there are non-ascii characters in the subject.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fix available in MRBS 1.4.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/149/", "title": "#149 [Warning: Server failed to set locale to \"_.utf-8\" (Unix)]", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p><span>[Warning: Server failed to set locale to \"_.utf-8\" (Unix)]</span>  </p>\n<p>Get this error at the top off all pages!</p>\n<p>Any know off a fix?</p>\n<p>Thanks</p>\n<p>Adam</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1949428<br/>\nOriginator: NO</p>\n<p>Try Use</p>\n<p>machine@localhost:/ locale -a </p>\n<p>and change $override_locale = for a valid locale from you server.</p>\n<p>Saludos</p>\n<p>fusOH.Chile</p>\n<p>Disculpen el ingles xD</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1949428<br/>\nOriginator: NO</p>\n<p>Sorry, $override_locale is in a config.inc.php</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fixed in MRBS 1.2.6.1</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/148/", "title": "#148 Timestamps like float on FreeBSD", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When a timestamp ends on five or more zeroes like 1196100000(2007-11-26 16:00:00), it is assigned to $starttime or $endtime like that (float) 1,1961E+9. It causes an error on mrbs_sql.php included by edit_entry_handler.php.</p>\n<p>I made an ugly workaround forcing casts and it worked.</p>\n<p>--- edit_entry_handler.php.orig Thu Sep 13 21:01:17 2007<br>\n+++ edit_entry_handler.php      Thu Sep 13 21:02:01 2007<br>\n@@ -117,6 +117,9 @@<br>\n     $starttime = mktime($hour, $minute, 0, $month, $day, $year, is_dst($month, $day, $year, $hour));<br>\n     $endtime   = mktime($hour, $minute, 0, $month, $day, $year, is_dst($month, $day, $year, $hour)) + ($units * $duration);</p>\n<p>+$starttime=(int)$starttime;<br>\n+$endtime=(int)$endtime;<br>\n+<br>\n     # Round up the duration to the next whole resolution unit.<br>\n     # If they asked for 0 minutes, push that up to 1 resolution unit.<br>\n     $diff = $endtime - $starttime;<br>\n@@ -319,4 +322,4 @@</p>\n<p>echo \"<a href=\"../%5C%5C%22%24returl%5C%5C%22\">\".get_vocab(\"returncal\").\"</a></p><p>\";</p>\n<p>The real and fancy solution is up to you :)</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>How bizarre, I don't know why that would happen anywhere!</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=41225<br/>\nOriginator: NO</p>\n<p>I'm experiencing exactly the same problem on Linux systems. PHP Version is 5.2.5</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>There is a change in Subversion rev 1020 that may fix this.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><ul>\n<li><strong>status</strong>: open --&gt; closed</li>\n<li><strong>milestone</strong>:  --&gt; Future_Requests</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/147/", "title": "#147 htmlspecialchars() needed for descriptions in day.php", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If a booking contains double quotes in its long description, this will prematurely close the TITLE=\"...\" tags of the day.php output (the A HREF links to view_entry.php).</p>\n<p>For example, the long description:</p>\n<p>\"Linnaeus\"<br>\nAnother row<br>\nYet another row</p>\n<p>...would cause problems in the HTML code of day.php.</p>\n<p>Similarly, less-than or greater-than (&lt;, &gt;) characters could probably cause problems with closing HTML tags.</p>\n<p>The description and long description variables always need to be passed through htmlspecialchars() in order to avoid all this.</p>\n<p>Attaching a context diff file for 1.2.5 that should fix this. Based on the same patch for 1.2.3, which worked for us.</p>\n<p>It seems that some htmlspecialchars() processing is already being done, with assignments to/from $row<span>[6]</span> and $long_descr for example, but they must be missing some case as this fix does change the output...</p>\n<p>Best regards,<br>\nBj\u00f6rn</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Context diff for day.php, MRBS 1.2.5</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Hmm, yes - that lack of escaping doesn't look good. Thanks for noticing and sending the patch.</p>\n<p>One question about your patch though, I can't see why htmlspecialchars() should ever need to take a charset parameter, and the PHP manual doesn't tell me why either.</p>\n<p>Do you know? :)</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=971939<br/>\nOriginator: YES</p>\n<p>Hi John!</p>\n<p>Thank you for your reply!</p>\n<p>I also wondered about the extra argument... perhaps some characters need to be escaped when using ISO-8859-1 as output, and some not when using (the more versatile) UTF-8?</p>\n<p>Best regards,<br/>\nBj\u00f6rn</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Hmm, on second thoughts I'm going to have to reject this patch.</p>\n<p>$desr and $long_descr are already HTML-escaped, and I've done a test in an installation of MRBS 1.2.5 that happily holds double quotes and other HTML without going wrong.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=971939<br/>\nOriginator: YES</p>\n<p>OK! Sounds good. :)</p>\n<p>Best regards,<br/>\nBj\u00f6rn</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/146/", "title": "#146 Formatting problem when editing area", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When MRBS is wrapped inside a TABLE based site template there is a problem with edit_area_room.php. The problem is on line 41 and line 153 where there are spurious &lt;TABLE&gt; and &lt;/TABLE&gt; tags with no corresponding &lt;TR&gt;&lt;TD&gt; tags. Without the wrapper this just shows as a small empty box on the page. These lines should be deleted.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Indeed, how odd. Thanks for spotting the problem.</p>\n<p>I'll remove the spurious table tags and check it into CVS some time soon.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fix now checked in to CVS, awaiting an MRBS release.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fixed in MRBS 1.2.6.1</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/145/", "title": "#145 Language detection for country varieties doesn't work", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Automatic detection of browser language on Windows system does not work if locale is en-gb. Problem is line 360 of language.inc which should be </p>\n<p>foreach ($langs as $lang =&gt; $qual) (c.f. line 342)</p>\n<p>and not:</p>\n<p>foreach ($langs as $lang)</p>\n<p>Problem is $lang takes the value instead of the key when enumerating through $langs.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Erk, indeed - you're right!</p>\n<p>Thanks for spotting this, I think I didn't discover it in my testing because I always set up my language preference as:</p>\n<p>en-gb<br/>\nen<br/>\nen-us   (sometimes)</p>\n<p>I'll check this fix into CVS some time, and it'll be in the next MRBS release.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Now checked in to CVS, awaiting an MRBS release.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fixed in MRBS 1.2.6.1.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/144/", "title": "#144 Incorrect update of list of rooms during edit entry", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>To reproduce bug:</p>\n<ul>\n<li>Add/edit entry:</li>\n<li>let's assume you have a area a1 with 4 rooms and a area a2 with only 1 room</li>\n<li>when a1 is selected 4 rooms are able to select</li>\n<li>change to a2 now</li>\n<li>expected: all rooms are removed and room of a2 is displayed</li>\n<li>current result: only first 2 rooms are removed from list and third room is replaced by the room of a2</li>\n</ul>\n<p>Problem:</p>\n<p>When set option to null in JS the aoption removed imediately and option<span>[1]</span> becomes option<span>[0]</span>. Counting 0..length-1 is incorrect here:</p>\n<p>Solution:<br>\nCount from last element to first element instead of first to last in lines approx. 390.<br>\nReplace corresponding lines in edit_entry.php by:</p>\n<p>roomOptionNum = roomsObj.length;<br>\nfor (i=(roomOptionNum-1); i &gt;= 0 ; i--)<br>\n{<br>\n  roomsObj.options<span>[i]</span> = null<br>\n}</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Thanks for this bug report, I'll look at it when I have some more time.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Thanks, that fix works and I've checked it into CVS.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fixed in MRBS 1.2.6.1</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/143/", "title": "#143 Endless loop (apache-thread-kill) in case of n-weekly repeat", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>In case of creating a series for n-weekly without specifing a day for the series ( this not catched on GUI), MRBS ends in an endless loop and is killed by apache after a specified time.</p>\n<p>This is not a normal case but can happen, due to missing catch of input values (It was definitely the first input by test-DAU did when I gave the system it him :-((((()</p>\n<p>REASON:</p>\n<p>Following happens in mrbs_sql.inc:340....following</p>\n<p>The while(1) loop never breaks, because no day is set and the decision if ... &amp;&amp; ($rep_opt<span>[$cur_day]</span>==1) never is true.</p>\n<p>SOLUTION:</p>\n<p>I replaced the lines with a while loop that checks for reaching the end of the series last possible day ($enddate) see attached file.</p>\n<p>possible DISADVANTAGE of solution:</p>\n<p>This definitely takes same time as if any day is specified, although no other entry can ever be placed, but is a very easy solution.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>corrected file (possible (my) solution)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Thanks for this bug report, I'll look at it when I have more time. (I did wonder when I programmed a while(1) if it'd ever come back to bite me...).</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1818995<br/>\nOriginator: NO</p>\n<p>The attached file did not work for me, I still receive errors.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fixed in MRBS 1.2.6.1</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/142/", "title": "#142 Incorrect HTML encoding of \"<\"... in monthly view", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When entering entries spanning over midnight, in monthly view the \"&lt;====~07:00\" .... entries are incorrect displayed.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1723148<br/>\nOriginator: YES</p>\n<p>This occurs due to the additional \"htmlspecialchars\" for the \"data\" firld of each entry, although the html characters are already replaced by the HTML conform way.<br/>\nThe &lt; e.g. is replaced again where the amp is replaced and lt; is written to screen.</p>\n<p>Possible solution as I fixed it: replace the htmlspecialchars calls for each <span>[\"data\"]</span> array entry when printing the entries in main loop.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Hmm, that does seem to be a problem, yes.</p>\n<p>Your solution isn't really right though, as it means that booking descriptions won't be HTML escaped. My solution is to go through and replaced &lt; for &lt; and &gt; for &gt;.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1723148<br/>\nOriginator: YES</p>\n<p>Hi,</p>\n<p>you way works...definitely.<br/>\nBut you have two lines that call htmlspecialchars, one for \"data\" and one for \"shortdescrip\".<br/>\nI replaced only first line, that seems to contain only the \"&lt;===\" .... stuff<br/>\nSecond line is still escaped, therefore description is still excaped correctly.</p>\n<p>echo \"<a href='../\\\\\"view_entry.php?id=\"'>[$cday]<span>[\"id\"]</span><span>[$i]</span>\n                        . \"&amp;day=$cday&amp;month=$month&amp;year=$year\\\\\" title=\\\\\"\"\n                        . $d<span>[$cday]</span><span>[\"data\"]</span><span>[$i]</span> . \"\\\\\"&gt;\"<br/>\n                        . htmlspecialchars(substr($d<span>[$cday]</span><span>[\"shortdescrip\"]</span><span>[$i]</span>, 0, 17))</a></p><a href='../\\\\\"view_entry.php?id=\"'>\n</a><p><a href='../\\\\\"view_entry.php?id=\"'>Thomas</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Hmm, maybe I'll to look a bit closer at the escaping logic :)</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fixed in MRBS 1.2.5.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/141/", "title": "#141 Failed to view month view im MRBS", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Following error occurs in php script when requesting mothly view of of a room:</p>\n<p>PHP Parse error:  parse error, unexpected ',' in /srv/www/htdocs/line/it/eval/ERS/month.php on line 23, referer: ERS/week.php?year=2007&amp;month=02&amp;day=04&amp;area=4&amp;room=3</p>\n<p>possible solution:</p>\n<p>replace in month.php in line 23:<br>\n!checkdate((intval($month), 1, intval($year)))<br>\nby<br>\n!checkdate(intval($month), 1, intval($year)))</p>\n<p>This fixes the problem and monthly view works.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1333197<br/>\nOriginator: NO</p>\n<p>Which version of MRBS do you use?</p>\n<p>The versions in CVS(head and 1.2branch) aren't broken and mine are woring(1.2.3, 1.2.4, my Facharbeit too)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1333197<br/>\nOriginator: NO</p>\n<p>Duplicate of #1644042</p>\n<p>-- already fixed --</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1723148<br/>\nOriginator: YES</p>\n<p>Hi,<br/>\nmy fault I didn't saw this bug entry, BUT this bug is not set to \"fixed\", neither \"somehow integrated\" to CVS version. It's definitely not fixed in 1.2.4 - this is broken.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/140/", "title": "#140 Parse error: parse error, unexpected ',' in", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>I am getting this error when I click on View Month</p>\n<p>Parse error: parse error, unexpected ',' in c:\\Inetpub\\wwwroot\\mrbs\\month.php on line 23</p>\n<p>Thanks.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1141620<br/>\nOriginator: NO</p>\n<p>I have just installed the latest version of MRBS and I am also getting the same error.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1016641<br/>\nOriginator: NO</p>\n<p>See <a href=\"http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1653157&amp;group_id=5113&amp;atid=105113\">http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1653157&amp;group_id=5113&amp;atid=105113</a> for solution, or get latest file from CVS.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Yes, this is a bug that was introduced in MRBS 1.2.4, the fix is to change line 23 to read:</p>\n<p>if (empty($month) || empty($year) || !checkdate(intval($month), 1, intval($year<br/>\n)))</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/139/", "title": "#139 Page loads incorrectly on refresh", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Maybe this is not an MRBS problem - I'm not a developer so maybe its just down to a configuration error. However i've noticed under the new version 1.2.4 if I refresh a page that has bookings it will only load half the page i.e. down to the 2nd/3rd/4th line of the calender (e.g. 10'oclock).</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1714865<br/>\nOriginator: YES</p>\n<p>Appears to only happen in ie7.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Well, there's your answer, an IE7 bug.</p>\n<p>Works perfectly for me.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1333197<br/>\nOriginator: NO</p>\n<p>No bug of MRBS, so please</p>\n<p>-- close it --</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/138/", "title": "#138 Login using table from another MySQL schema", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>Is it possible to link my user table in another MySQL schema for authentication purpose.</p>\n<p>I am using the following fields in my table, I have a single login for all my other apps running on IIS, PHP and MySQL. The fields in my user table are</p>\n<p><code>PersonID</code><br>\n<code>Name</code><br>\n<code>Surname</code><br>\n<code>JobTitle</code><br>\n<code>Department_Name</code><br>\n<code>Phone</code><br>\n<code>Mobile</code><br>\n<code>Password</code> - Password<br>\n<code>UserID</code><br>\n<code>LName</code> - Login<br>\n<code>Email</code><br>\n<code>Dept_ID</code></p>\n<p>I would link to link my abouve table to mrbs as authentication means, so I have a single login.</p>\n<p>Yhanks</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Read the documentation then, particularly the file AUTHENTICATION. The authentication scheme you want is 'db_ext'.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/137/", "title": "#137 Allready reported -- Invalid checkdate call in month.php", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>There is an invalid call construct in month.php arround row 23. There is an if-statement ending with:</p>\n<p>...!checkdate((intval($month), 1, intval($year)))</p>\n<p>The parenthesis are messed up and I assume that the line should read:</p>\n<p>...!checkdate(intval($month), 1, intval($year)))</p>\n<p>Running windows 2003 server(std), MySQL 5.0, Apache 2.2 and php 5 and MRBS 1.2.4. Everyting at the same physical machine.</p>\n<p>Cheers<br>\n/Nils</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1711059<br/>\nOriginator: YES</p>\n<p>Thank you for your bug report. This issue has already been fixed<br/>\nin CVS and will be available when the next version of the package <br/>\nwill be released, which you can download at</p>\n<p><a href=\"https://sourceforge.net/projects/mrbs/\">https://sourceforge.net/projects/mrbs/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/136/", "title": "#136 Invalid php-start tag in edit_entry_handler.php", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>At row 42 edit_entry_handler.php the last php-section is wrongly started with a &lt;? - tag instead of &lt;?php</p>\n<p>Running windows 2003 server(std), MySQL 5.0, Apache 2.2 and php 5. Everyting at the same physical machine.</p>\n<p>This generates the following error in Apache's error.log file:</p>\n<p><span>[Mon Feb 05 14:21:09 2007]</span> <span>[error]</span> <span>[client &lt;IP-ADDR&gt;]</span> PHP Parse error:  parse error, unexpected $end in &lt;PATH&gt;\\edit_entry_handler.php on line 319, referer: http://&lt;IP-ADDR&gt;/edit_entry.php?area=1&amp;room=1&amp;hour=20&amp;minute=15&amp;year=2007&amp;month=02&amp;day=05</p>\n<p>Cheers<br>\n/Nils</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Erk, you're right, and someone's recently reported this problem in the mailing list.</p>\n<p>Many thanks for spotting this and diagnosing the problem.</p>\n<p>Cheers,</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fixed in MRBS 1.2.5.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/135/", "title": "#135 Lacking LDAP support", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>php_ldap defaults to protocol version 2,<br>\nwhich has historic status according to RFC3494.</p>\n<p>Protocol version 2 also doesn't support StartTLS.</p>\n<p>Suggestion:<br>\n* Use ldapv3 by default.<br>\nAll that needs to be done is to add this line to<br>\nauth_ldap.inc after \"if($ldap)\":<br>\nldap_set_option( $ldap, LDAP_OPT_PROTOCOL_VERSION, 3);</p>\n<ul>\n<li>Support TLS.<br>\nAgain, should only require adding one line:<br>\nldap_start_tls($ldap);</li>\n</ul></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1509143<br/>\nOriginator: YES</p>\n<p>Forgot to write, of course TLS should be optional.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Well, it may have historic status, but does everyone's LDAP server support v3 (and TLS)?</p>\n<p>If some people use LDAP servers that don't support those features, then they need to be made optional via configuration...(ah, just seen your additional comment about optional TLS)</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>I've just coded both of these as optional configuration parameters.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1333197<br/>\nOriginator: NO</p>\n<p>If the code is in CVS</p>\n<p>-- please close this bug --</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fixed in MRBS 1.2.5.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/134/", "title": "#134 invalid comment out in mrbs.css", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>In CSS2 spec., comment is defined as the following:<br>\nComments  begin with the characters \"/<em>\" and end with the characters \"</em>/\".<br>\n<a href=\"http://www.w3.org/TR/REC-CSS2/syndata.html#comments\" rel=\"nofollow\">http://www.w3.org/TR/REC-CSS2/syndata.html#comments</a></p>\n<p>--- mrbs-1.2.4_orig/web/mrbs.css  2004-08-25 01:58:55.000000000 +0900<br>\n+++ mrbs-1.2.4/web/mrbs.css    2007-01-25 13:13:29.000000000 +0900<br>\n@@ -19,7 +19,7 @@<br>\n TD.TR { vertical-align: top; text-align: right}<br>\n TD.TL { vertical-align: top; text-align: left}</p>\n<p>-td form { margin:0; } // Prevent IE from displaying margins around forms in tables.<br>\n+td form { margin:0; } /<em> Prevent IE from displaying margins around forms in tables. </em>/</p>\n<p>TD.unallocated {color:gray}<br>\n TD.allocated {color:black}</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>OK, thanks for providing this fix, it'll go into CVS soon.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fixed in MRBS 1.2.5.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/133/", "title": "#133 invalid pair of parensis in month.php", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>--- mrbs-1.2.4_orig/web/month.php 2006-10-10 00:53:59.000000000 +0900<br>\n+++ mmrbs-1.2.4/web/onth.php   2007-01-25 13:12:54.000000000 +0900<br>\n@@ -20,7 +20,7 @@</p>\n<p># Default parameters:<br>\n if (empty($debug_flag)) $debug_flag = 0;<br>\n-if (empty($month) || empty($year) || !checkdate((intval($month), 1, intval($year)))<br>\n+if (empty($month) || empty($year) || !checkdate(intval($month), 1, intval($year)))<br>\n {<br>\n     $month = date(\"m\");<br>\n     $year  = date(\"Y\");</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Erk, indeed - I wonder how that slipped through.</p>\n<p>Thanks for spotting this.</p>\n<p>Cheers,</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fixed in MRBS 1.2.5.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/132/", "title": "#132 New reservation default description", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When creating a new reservation, the $default_description value entered in config.inc.php is not used.</p>\n<p>This problem is present in MRBS 1.2.3 and wasn't present in the RC versions.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>I've just looked back through CVS and can find no mention of a \"default_description\" setting.</p>\n<p>Maybe you added it yourself?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=97930<br/>\nOriginator: YES</p>\n<p>Yep, maybe.  We've used MRBS 1.2-RCsomething for a couple of years and it's possible I added this behaviour after installing it.</p>\n<p>Consider this one as a feature request then!  ;-)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/131/", "title": "#131 stripslashes bug", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Passwords containing ' character for example are not<br>\nhandled properly as there is a bug in the section that<br>\nstrips the slashes from the submitted password string</p>\n<p>Specifically in version 1.2.3 in the file<br>\nsession_php.inc, line 46 reads:</p>\n<p>$NewPassword = unslashes($NewPassword);</p>\n<p>when it should read:</p>\n<p>$NewUserPassword = unslashes($NewUserPassword);</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Indeed, many thanks for the accurate bug report and fix,<br/>\nit'll go into CVS RSN.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Released in MRBS 1.2.4.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/130/", "title": "#130 Serious Googlebot problem", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>My log files for MRBS systems sites have exploded to<br>\ngigabytes in size in one day. They are filled with<br>\nerrors like this:<br>\n<span>[Mon Sep 11 09:12:26 2006]</span> <span>[error]</span> <span>[client<br>\n66.249.65.163]</span> FastCGI: </p>\n<blockquote>\n<p>server \"/www/fcgi-bin/neuromedia/php-fcgi\" stderr:<br>\nPHP Warning: &gt; checkdate() expects parameter 1 to be<br>\nlong, string given in &gt;<br>\n/www/neuromedia/mnibooking/week.php on line 25<br>\n and <br>\n<span>[Mon Sep 11 09:27:04 2006]</span> <span>[error]</span> <span>[client<br>\n66.249.65.163]</span> FastCGI: &gt; server<br>\n\"/www/fcgi-bin/mni-bic/php-fcgi\" stderr: PHP Warning: <br>\ncheckdate() expects parameter 1 to be long, string<br>\ngiven in &gt; /www/mni-bic/bicscheduler/day.php on line 21</p>\n<p>There are similar errors in different files, but you<br>\nget the idea. A &gt; little further investigation shows<br>\nthat that ip address belongs to &gt; Googlebot, so google<br>\ncrawling your site is really the thing putting <br>\nthe strain.</p>\n</blockquote>\n<p>My university web systems administrator suggests I<br>\nnotify you with these problem.  He suggested the<br>\nfollowing fixes:<br>\n A quick solution would be to disallow crawlers using<br>\nrobots.txt.<br>\n  The better solution would be to fix those calls to<br>\ncheckdate. Some strategically placed calls to intval()<br>\nshould do the trick.</p>\n<p>Is this something that has been addressed? Is there a<br>\nfix for this?</p>\n<p>Marcus<br>\nMcGill University</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1028383</p>\n<p>We had exactly the same problem last week (error.log filled <br/>\nwith Gigabytes of errors like yours)</p>\n<p>Can you explain your solution with robots.txt?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>We should really have a robots.txt, I can't see a reason why<br/>\na bot should be allowed to trawl through an MRBS installation.</p>\n<p>Of course, robots.txt will only work if MRBS is installed at<br/>\nthe root of the web server, so I'll add &lt;META name=\"Robots\"&gt;<br/>\ninto the page headers too.</p>\n<p>As for the actual warning causing the logs to grow, I have<br/>\nwrapped the variables with intval(), even though I don't see<br/>\nhow those form variables would ever be non-integer.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fix released in MRBS 1.2.4.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1333197<br/>\nOriginator: NO</p>\n<p>Do you really think this bug is fixed???</p>\n<p>I still get this warnings and I think to stop bots crawling a MRBS installation should be the decision of each user and should not be forced.<br/>\nI'll try to find a solution in my \"Facharbeit\".</p>\n<p>Please reopen this bug.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>MRBS is not designed to be crawled by bots, and I can imagine a bot could follow links in MRBS for a very long time, many of those pages being inappropriate things to trawl.</p>\n<p>It is therefore my opinion that the only safe way to proceed <em>is</em> to make the robots instructions mandatory.</p>\n<p>As for warnings, MRBS runs warning free for me in standard use, and I'm happy enough with that.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/129/", "title": "#129 LDAP documentation incomplete", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The documentation for LDAP authentication states that<br>\nit is done through \"PHP's built-in support for LDAP.\"<br>\nThis can lead to confusion when LDAP authentication<br>\ndoes not work. Really, LDAP support has to be<br>\nstatically linked into the PHP binary on installation,<br>\nor ldap.so must be explicitly loaded via the<br>\ninstallation's php.ini in order for LDAP authentication<br>\nto function. This should be mentioned in the<br>\nAUTHENTICATION document.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>OK, I'll accept that the documentation isn't entirely clear<br/>\nas it stands. I'll look into it and check in a new version<br/>\nwith a bit more explanation.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fix released in MRBS 1.2.4.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/128/", "title": "#128 config.inc.php includes wrong variable name for ldap_filter", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When using auth_ldap.inc, the default config.inc.php<br>\nincludes the following section:</p>\n<h1 id=\"auth_ldap-extra-configuration-for-ldap\">'auth_ldap' extra configuration for ldap</h1>\n<p>configuration of who can use</p>\n<h1 id=\"the-system\">the system</h1>\n<h1 id=\"if-its-set-the-ldap_filter-will-be-combined-with\">If it's set, the $ldap_filter will be combined with</h1>\n<p>the value of</p>\n<h1 id=\"ldap_user_attrib-like-this\">$ldap_user_attrib like this:</h1>\n<h1 id=\"ldap_user_attribusernameldap_filter\">(&amp;($ldap_user_attrib=username)($ldap_filter))</h1>\n<h1 id=\"after-binding-to-check-the-password-this-check-is\">After binding to check the password, this check is</h1>\n<p>used to see that</p>\n<h1 id=\"they-are-a-valid-user-of-mrbs\">they are a valid user of mrbs.</h1>\n<h1 id=\"ldap_user_filter-mrbsusery\">$ldap_user_filter = \"mrbsuser=y\";</h1>\n<p>The last line should be</p>\n<h1 id=\"ldap_filter-mrbsusery\">$ldap_filter = \"mrbsuser=y\";</h1></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Many thanks for your bug report and fix, it'll get checked<br/>\ninto CVS RSN.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fix released in MRBS 1.2.4.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/127/", "title": "#127 cookie path problem behind proxy", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Successfully set up mrbs and could log in and use it <br>\ndirectly on server where it was installed. But when i<br>\nput application behind an (apache) proxy server it<br>\ndid not work any more. Application was there, but <br>\ncould not log in. Reason was that path within server<br>\nwas different on both servers and that the cookie<br>\npath was wrong. So brwoser did not sent back<br>\ncookie and i was not recognized after logging in.</p>\n<p>Responsible are lines 23,24 within session_php.inc:</p>\n<p>$cookie_path = $PHP_SELF;<br>\n$cookie_path = ereg_replace('<span>[^/]</span>*$', '', $cookie_path);</p>\n<p>I had to set this variable to path which was<br>\nused on proxy server and it worked again. Maybe<br>\nbest would be to examine value of variable<br>\n$url_base. Example: If that is set to</p>\n<p>$url_base = \"http://some.server.com/an/important/thing\";</p>\n<p>the cookie path should be</p>\n<p>$cookie_path =\"/an/important/thing/\";</p>\n<p>Maybe you have better ideas, another config variable<br>\nor a hint within install file would also be ok.<br>\nJust wanted to bring it to your attention.</p>\n<p>Thanks</p>\n<p>Dirk</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>I'm not sure I understand this bug report - the code to set<br/>\nthe cookie path should work wherever the MRBS installation<br/>\nis located - I don't understand how it can be wrong...you<br/>\nchange the path in the proxy setup?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=476954</p>\n<p>Here some more explanations (iirc):</p>\n<p>The PHP System just knows about the path on the system where <br/>\nthe application runs, let's say:</p>\n<p><a href=\"http://server1/~username/some-ugly-path/mrbs\" rel=\"nofollow\">http://server1/~username/some-ugly-path/mrbs</a></p>\n<p>So the cookie will somehow contain path </p>\n<p>'~username/some-ugly-path/mrbs'</p>\n<p>That is ok as long as the server is contacted directly. It<br/>\nwill work for all locations. </p>\n<p>Let's say we have a proxy host server2 with apache line</p>\n<p>proxypass \\\n   /super-important-mrbs<br/>\n<a href=\"http://server1/~username/some-ugly-path/mrbs\" rel=\"nofollow\">http://server1/~username/some-ugly-path/mrbs</a></p>\n<p>Now users can successfully access application via</p>\n<p><a href=\"http://server2/super-important-mrbs\" rel=\"nofollow\">http://server2/super-important-mrbs</a></p>\n<p>But cookie will contain path</p>\n<p>/~username/some-ugly-path/mrbs</p>\n<p>And that is the problem:</p>\n<p>/super-important-mrbs does not match <br/>\n/~username/some-ugly-path/mrbs and so the cookie is<br/>\nnot send for security reasons when user accesses next<br/>\npages via the proxy. Users cannot log in.</p>\n<p>If you set $cookie_path to /super-important-mrbs<br/>\nit will work. </p>\n<p>The problem is that the path of application on proxy<br/>\nserver is different from path on application server.<br/>\nBut the php does not know about path on proxy server.<br/>\nUser's browsers just know path on proxy server. And<br/>\nif paths are different the session cookie is not sent.<br/>\nI suggest to make this path configurable. </p>\n<p>Please ask again if i am still not understood.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>OK, thanks for the detailed response. It sounds like a<br/>\nfairly uncommon setup, but I could be wrong.</p>\n<p>However, perhaps a config.inc.php variable should be added<br/>\nfor overriding the default cookie path in the 'php' and<br/>\n'cookie' session schemes...</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>OK, I've just coded a $cookie_path_override variable for the 'php' and 'cookie' session schemes, and added a 30 day expiry to the cookie for the 'cookie' scheme (though the security of the 'cookie' scheme remains...(ahem)...dubious).</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Fixed in MRBS 1.2.5 release.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/126/", "title": "#126 Create $tbl_users fails on MySQL 5.0.21-community-nt", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Configure MRBS to use db authorisation then login as <br>\nthe default administrator user.</p>\n<p>Go to the home page and select he link to \"User List\".</p>\n<p>The result is the following:</p>\n<p>\"Error creating the mrbs_users table.<br>\nInvalid default value for 'id'\"</p>\n<p>System:<br>\nWinXP<br>\nWAMP5 1.6.3 (PHP 5.1.4, <br>\n             MySQL 5.0.21-community-nt, <br>\n             Apache 2.0.55)</p>\n<p>In line 40 of edit_users.php the $tbl_users table is <br>\ncreated with the following SQL statement:</p>\n<p>CREATE TABLE $tbl_users<br>\n(<br>\n  /<em> The first four fields are required. Don't remove <br>\nor reorder. </em>/<br>\n  id        int DEFAULT '0' NOT NULL auto_increment,<br>\n  name      varchar(30),<br>\n  password  varchar(40),<br>\n  email     varchar(75),</p>\n<p>/<em> The following fields are application-specific. <br>\nHowever only int and varchar are editable. </em>/</p>\n<p>PRIMARY KEY (id)<br>\n);\";</p>\n<p>The line where 'id' is created seems to be the <br>\nproblem. Removing the \"DEFAULT '0'\" solves the <br>\nproblem. Once the table is created, trying to assign <br>\na default value of '0' with phpMyAdmin also doesn't <br>\nwork - the default remains blank. Perhaps assigning a <br>\ndefault value to an auto_increment field is not valid <br>\nin MySQL 5.0.21?</p>\n<p>Hope this helps<br>\nJohn</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Yes, we know about this problem, and the problem is fixed in<br/>\nCVS, but there hasn't been a formal release of MRBS 1.2<br/>\nsince the fix was checked in.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Actually, the fix has been in since MRBS 1.2.1!</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=995409</p>\n<p>Hi John,</p>\n<p>The comment about MRBS 1.2.1 is interesting. This problem <br/>\nis apparent in the version I am running which is MRBS <br/>\n1.2.3.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=995409</p>\n<p>Hi John</p>\n<p>Err - hold that thought a moment. I forgot I was running <br/>\nMRBS at home and at work. It may be that the home version <br/>\nis older and that is where I noticed the problem. I will <br/>\nget back to you later.</p>\n<p>John</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Ah, the mrbs_users table, not the other tables! (I really<br/>\nshould read more carefully)</p>\n<p>OK, my first response was correct, and my 2nd response wrong. :)</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=995409</p>\n<p>John</p>\n<p>Thank you for that message. I have checked my home version <br/>\nand it's also MRBS 1.2.3. The file id is:</p>\n<p>// $Id: edit_users.php,v 1.9.2.2 2005/05/17 15:00:41 <br/>\njberanek Exp $</p>\n<p>I'm sure I searched through the bugs for this one before I <br/>\nsubmitted it, but I note that the report is from the MRBS-<br/>\nDEV category so may have missed it due to that. For the <br/>\nrecord, here it is:</p>\n<p><a href=\"https://sourceforge.net/tracker/index.php?\">https://sourceforge.net/tracker/index.php?</a><br/>\nfunc=detail&amp;aid=1474376&amp;group_id=5113&amp;atid=105113</p>\n<p>All the best.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/125/", "title": "#125 N-weekly bug", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>There seems to be a problem with the n-weekly repeat <br>\nbooking option.</p>\n<p>When you select an n-weekly option set which days it <br>\nis to run on and the number of weeks ( Very odd but <br>\nyou also have to select the end date???) When you hit <br>\nsave it only saves it for thoese days on that first <br>\nweek. It does not repeat the process for the <br>\nfollowing three weeks? Is there a fix for this.</p>\n<p>Running ver 1.2.3</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>You're missing understanding the meaning of 'n-weekly'.</p>\n<p>If you do an n-weekly booking with \"Number of weeks\" set to 3, you will book a meeting every <em>3rd</em> week. This is the whole point of n-weekly vs. weekly, and why you still specify an end date for the repeat booking.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/124/", "title": "#124 mozilla can't display correct charset", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>just trying the demo, using mozilla 1.7.3<br>\n<a href=\"http://mrbs.sourceforge.net/periodsmrbs/day.php?day=22&amp;month=04&amp;year=2006\" rel=\"nofollow\">http://mrbs.sourceforge.net/periodsmrbs/day.php?day=22&amp;month=04&amp;year=2006</a><br>\nfound that the charset (set to UTF-8) seem can't<br>\ndisplay correctly (pls see att. file). IE 6.0 had not<br>\nsuch problem.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>I'm confused, just looked at this page in Firefox 1.5.0.2<br/>\nand it looks fine.</p>\n<p>There's no attached file that you referred to...</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>I'm confused, just looked at this page in Firefox 1.5.0.2<br/>\nand it looks fine.</p>\n<p>There's no attached file that you referred to...</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=316250</p>\n<p>updated att. file and found that when using Mozilla 1.7.13<br/>\nEnglish version seem ok, but using 1.7.3 Traditional Chinese<br/>\nversion, the charset cannot display correctly</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Sorry, forgive my ignorance of Chinese, but what is wrong in<br/>\nthe attached screenshot?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Sorry, I was being dim, I see what you mean now, and have<br/>\nfixed it. The Traditional Chinese translation had been<br/>\nconverted into UTF-8, but lang.zh-tw still tagged the<br/>\ntranslation as Big5, so it didn't work correctly...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Fix is now checked into 1.2 branch (and will make it into<br/>\n1.2.4), and into the trunk.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=316250</p>\n<p>thx jberanek for helping and sorry that forgot non-chinese<br/>\nuser can't see the coding problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/123/", "title": "#123 mail not sent to area/room admins", "status": "closed", "labels": "MRBS-DEV (7)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I've found that after setting the following TRUE in<br>\nconfig.inc.php:</p>\n<p>MAIL_AREA_ADMIN_ON_BOOKINGS<br>\nMAIL_ROOM_ADMIN_ON_BOOKINGS</p>\n<p>mail is still not sent to the area and room admins<br>\nUNLESS an entry was repeating. This is the result of a<br>\nquery for the email addresses in function<br>\nnotifyAdminOnBooking (in functions_mail.inc) always<br>\nincluding the repeat table in the FROM clause so when<br>\nthere's no match in the repeat table, the result is<br>\nnull. One way to fix this would be to replace the <br>\nfollowing line (after the test for<br>\nMAIL_AREA_ADMIN_ON_BOOKINGS):</p>\n<p>$sql .= \"FROM $tbl_room r, $tbl_area a, $tbl_entry e,<br>\n$tbl_repeat rep \";</p>\n<p>with these two lines:</p>\n<p>$sql .= \"FROM $tbl_room r, $tbl_area a, $tbl_entry e \";<br>\nif ($id_table == 'rep')   // is this a repeating entry?<br>\n    $sql .= \",$tbl_repeat rep \"; // yes, use rep tbl</p>\n<p>and replace the following line (after the test for<br>\nMAIL_ROOM_ADMIN_ON_BOOKINGS):</p>\n<p>$sql .= \"FROM $tbl_room r, $tbl_entry e, $tbl_repeat rep \";</p>\n<p>with these two lines:</p>\n<p>$sql .= \"FROM $tbl_room r, $tbl_entry e \";<br>\nif ($id_table == 'rep')   // is this a repeating entry?<br>\n    $sql .= \",$tbl_repeat rep \"; // yes, use rep tbl</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Thanks for this report, I'll look more closely at it and<br/>\nlook to getting it checked into CVS and into a future MRBS<br/>\nrelease.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Now checked into CVS on 1.2 branch (and will get into 1.2.4<br/>\nrelease) and the trunk.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/122/", "title": "#122 Invalid default value for 'id' from edit_users.php", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When using the 'db' authentication method and clicking<br>\non the \"User list\" link below the Login button,<br>\nedit_users.php displays the following error:</p>\n<p>Error creating the mrbs_users table<br>\nInvalid default value for 'id'</p>\n<p>This will occur with mysql 4.1 or later and is due to<br>\nthe following line in edit_users.php:</p>\n<p>id        int DEFAULT '0' NOT NULL auto_increment</p>\n<p>With Mysql 4.1 an auto_increment field cannot have a<br>\ndefault value other than NULL. For details see:</p>\n<p><a href=\"http://bugs.mysql.com/bug.php?id=392\" rel=\"nofollow\">http://bugs.mysql.com/bug.php?id=392</a></p>\n<p>Changing this line to:</p>\n<p>id        int default NULL auto_increment</p>\n<p>will solve the problem. The first value of the field<br>\nwill be 1.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Thanks for the bug report. However, this problem has already<br/>\nbeen fixed in CVS, it just hasn't made its way into a 1.2.*<br/>\nrelease yet.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/121/", "title": "#121 Updated Swedish language file", "status": "closed", "labels": "MRBS (195)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi!</p>\n<p>Attaching an updated Swedish language file which is<br>\nmore consistent (and has all entries translated,<br>\nnoticed that a couple of them were in English).</p>\n<p>Best regards,<br>\nBj\u00f6rn Wiberg<br>\nUppsala University<br>\nIT Support Department<br>\nUppsala, Sweden</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Updated Swedish language file for MRBS 1.2.3</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Thanks for this, I'll check the updated translation in.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>This has now been checked in, and will make MRBS 1.2.4,<br/>\nwhenever that is released.</p>\n<p>(It will also be in MRBS 1.3)</p>\n<p>Thanks,</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/120/", "title": "#120 AIX libiconv and character encoding names", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Under AIX, the native IBM iconv library uses a slightly<br>\ndifferent naming convention for (primarily) the ISO-*<br>\ncharacter encodings.</p>\n<p>This causes the iconv() conversions of the language<br>\nstrings to fail if Unicode encoding has been turned on<br>\nwith $unicode_encoding = 1; in config.inc.php,<br>\nresulting in empty strings (Login button without any<br>\ntext etc.).</p>\n<p>Proposed patch for language.inc, a new function and a<br>\nmodified version of get_vocab():</p>\n<p>// CUSTOM: Translates a GNU libiconv character encoding<br>\nnames to its corresponding AIX native libiconv character<br>\n// encoding name. Returns FALSE if character encoding<br>\nname is unknown.<br>\n//<br>\n// See<br>\n<a href=\"http://publibn.boulder.ibm.com/doc_link/en_US/a_doc_lib/aixprggd/genprogc/convert_prg.htm#HDRDNNRI49HOWA\" rel=\"nofollow\">http://publibn.boulder.ibm.com/doc_link/en_US/a_doc_lib/aixprggd/genprogc/convert_prg.htm#HDRDNNRI49HOWA</a><br>\nfunction get_aix_character_encoding($character_encoding)<br>\n{<br>\n  // Check arguments<br>\n  if ($character_encoding == NULL ||<br>\n!is_string($character_encoding) ||<br>\nempty($character_encoding)) {<br>\n    return FALSE;<br>\n  }</p>\n<p>// Check if character encoding is \"iso-<em>\" (case<br>\ninsensitive); if so, translate to \"ISO</em>\"<br>\n  $character_encoding_match_result_array = array();<br>\n  $character_encoding_match_result = eregi('^iso-',<br>\n$character_encoding,<br>\n$character_encoding_match_result_array);<br>\n  unset($charset_match_result_array);<br>\n  if ((is_int($character_encoding_match_result)) &amp;&amp;<br>\n($character_encoding_match_result &gt; 1)) {<br>\n    $aix_character_encoding = eregi_replace('^iso-',<br>\n'ISO', $character_encoding);<br>\n  } else {</p>\n<div class=\"codehilite\"><pre><span></span>// Check if character encoding is \"big-5\" (case\n</pre></div>\n\n\n<p>insensitive); if so, translate to \"IBM-eucTW\"<br>\n    // See<br>\n<a href=\"http://kadesh.cepba.upc.es/mancpp/classref/ref/ITranscoder_DSC.htm\" rel=\"nofollow\">http://kadesh.cepba.upc.es/mancpp/classref/ref/ITranscoder_DSC.htm</a><br>\n    $character_encoding_match_result_array = array();<br>\n    $character_encoding_match_result = eregi('^big-5$',<br>\n$character_encoding,<br>\n$character_encoding_match_result_array);<br>\n    unset($charset_match_result_array);<br>\n    if ((is_int($character_encoding_match_result)) &amp;&amp;<br>\n($character_encoding_match_result &gt; 1)) {<br>\n      $aix_character_encoding = 'IBM-eucTW';<br>\n    } else {<br>\n      // Unknown character encoding, return FALSE as we<br>\ndo not know what to translate to<br>\n      return FALSE;<br>\n    }<br>\n  }</p>\n<p>return $aix_character_encoding;<br>\n}</p>\n<h1 id=\"get-a-vocab-item-in-utf-8-or-a-local-encoding\">Get a vocab item, in UTF-8 or a local encoding,</h1>\n<p>depending on</p>\n<h1 id=\"the-setting-of-unicode_encoding\">the setting of $unicode_encoding</h1>\n<p>function get_vocab($tag)<br>\n{<br>\n  global $vocab, $unicode_encoding;</p>\n<p>if ($unicode_encoding)<br>\n  {</p>\n<div class=\"codehilite\"><pre><span></span> // CUSTOM: On AIX, adjust for character encoding\n</pre></div>\n\n\n<p>names of IBM AIX's native libiconv if used<br>\n     if ((stristr(PHP_OS, 'AIX')) &amp;&amp;<br>\n(strcasecmp(ICONV_IMPL, 'unknown') == 0) &amp;&amp;<br>\n(strcasecmp(ICONV_VERSION, 'unknown') == 0)) {</p>\n<div class=\"codehilite\"><pre><span></span>   // Attempt to translate character encoding name\n   $aix_character_set =\n</pre></div>\n\n\n<p>get_aix_character_encoding($vocab<span>['charset']</span>);</p>\n<div class=\"codehilite\"><pre><span></span>   // Check if character encoding name translation\n</pre></div>\n\n\n<p>was successful; if not, just use the original name<br>\n       if ($aix_character_set === FALSE) {<br>\n         $aix_character_set = $vocab<span>['charset']</span>;<br>\n       }</p>\n<div class=\"codehilite\"><pre><span></span>   return iconv($aix_character_set, 'UTF-8',\n</pre></div>\n\n\n<p>$vocab<span>[$tag]</span>);</p>\n<div class=\"codehilite\"><pre><span></span> } else {\n   return iconv($vocab['charset'], 'UTF-8',\n</pre></div>\n\n\n<p>$vocab<span>[$tag]</span>);<br>\n     }</p>\n<p>}<br>\n  else<br>\n  {<br>\n    return $vocab<span>[$tag]</span>;<br>\n  }<br>\n}</p>\n<p>References to documentation is enclosed in the comments<br>\nabove. The patch should not affect the case where GNU<br>\nlibiconv is used on AIX, as it checks the<br>\nimplementation and version of the iconv library, which<br>\nboth return \"unknown\" in the case of IBM's libiconv.</p>\n<p>Perhaps this could be useful for future integration in<br>\nMRBS?</p>\n<p>Thanks in advance!</p>\n<p>Best regards,<br>\nBj\u00f6rn Wiberg<br>\nUppsala university<br>\nIT Support Department<br>\nUppsala, Sweden</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=971939</p>\n<p>Hi again!</p>\n<p>Disregard the previous code snippets; attaching a version of<br/>\nlanguage.inc which properly considers the available IBM AIX<br/>\nlocales, the available IBM AIX UTF-8 converters, handles<br/>\nknown-OK translations of GNU libiconv character encoding<br/>\nnames to IBM AIX libiconv character encoding names, and<br/>\ndistinguishes between input that is formatted according to<br/>\nthe current locale setting, and input that is not, during<br/>\nUTF-8 conversion.</p>\n<p>Best regards,<br/>\nBj\u00f6rn Wiberg<br/>\nUppsala university<br/>\nIT Support Department<br/>\nUppsala, Sweden</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=971939</p>\n<p>Attachment (language.inc) replaced with a newer version;<br/>\nconsiders the available UTF-8 converters also in<br/>\nget_vocab(), plus adds interpretation of \"big-5\" to the<br/>\n$gnu_iconv_to_aix_iconv_codepage_map array.</p>\n<p>Best regards,<br/>\nBj\u00f6rn Wiberg<br/>\nUppsala university<br/>\nIT Support Department<br/>\nUppsala, Sweden</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Modified language.inc of MRBS 1.2.3</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Thanks for this, I'll take a closer look at it.</p>\n<p>Any chance of a diff instead of a complete file?</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Unified diff for AIX \"support\" in language.inc (MRBS 1.2.3)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=971939</p>\n<p>Hi!</p>\n<p>Sure, attaching a unified diff (language.inc.diff) for<br/>\nlanguage.inc.</p>\n<p>Best regards,<br/>\nBj\u00f6rn</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>I've finally got around to doing something about this. I've taken your code, somewhat massaged it and merged it into my MRBS 1.2.4 sandbox.</p>\n<p>Is there any chance you can take a tarball and test it on an AIX machine?</p>\n<p>Cheers,</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=971939<br/>\nOriginator: YES</p>\n<p>Hi John!</p>\n<p>Thank you for your reply!</p>\n<p>I'd be glad to do that -- please attach the .tar.gz file to this case or e-mail it to me at Bjorn.Wiberg@its.uu.se and I'll try it out for you!</p>\n<p>Thanks for considering these changes!</p>\n<p>Best regards,<br/>\nBj\u00f6rn</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843<br/>\nOriginator: NO</p>\n<p>Added in MRBS 1.2.5 release.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/119/", "title": "#119 report.php mktime() and SQL error using http session", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When clicking on the \"You are USERNAME\" link up to the<br>\nright when using session_http session handling, which<br>\nleads to<br>\nreport.php?From_day=&amp;From_month=&amp;From_year=&amp;To_day=1&amp;To_month=12&amp;To_year=2030&amp;areamatch=&amp;roommatch=&amp;namematch=&amp;descrmatch=&amp;summarize=1&amp;sortby=r&amp;display=d&amp;sumby=d&amp;creatormatch=USERNAME,<br>\none gets a PHP warning:</p>\n<p>Warning: mktime() expects parameter 4 to be long,<br>\nstring given in report.php on line...</p>\n<p>...and an SQL error:</p>\n<p>You have an error in your SQL syntax; check the manual<br>\nthat corresponds to your MySQL server version for the<br>\nright syntax to use near 'AND e.create_by LIKE<br>\n'%USERNAME%' ORDER BY 9,10,2' at line 1</p>\n<p>The MySQL general query log shows the submitted query as:</p>\n<p>SELECT e.id, e.start_time, e.end_time, e.name,<br>\ne.description, e.type, e.create_by, <br>\nUNIX_TIMESTAMP(e.timestamp) , a.area_name, r.room_name<br>\nFROM mrbs_entry e, mrbs_area a, mrbs_room r WHERE<br>\ne.room_id = r.id AND r.area_id = a.id AND e.start_time<br>\n&lt; 1922400000 AND e.end_time &gt;  AND e.create_by LIKE<br>\n'%USERNAME%'  ORDER BY 9,10,2</p>\n<p>Notice the missing value for the e.end_time comparison.</p>\n<p>Around line 455 in MRBS 1.2.3, mktime() is called with<br>\nstrings as parameters. In the case of empty strings, no<br>\nimplicit type conversion takes place (mktime expects an<br>\ninteger but gets an empty string).</p>\n<p>Proposed fix in report.php, around line 455:</p>\n<p>Replace:</p>\n<p>$report_start = mktime(0, 0, 0, $From_month, $From_day,<br>\n$From_year);<br>\n$report_end = mktime(0, 0, 0, $To_month, $To_day+1,<br>\n$To_year);</p>\n<p>...with:</p>\n<p>$report_start = mktime(0, 0, 0, $From_month+0,<br>\n$From_day+0, $From_year+0);<br>\n$report_end = mktime(0, 0, 0, $To_month+0, $To_day+1,<br>\n$To_year+0);</p>\n<p>Best regards,<br>\nBj\u00f6rn Wiberg<br>\nUppsala university<br>\nIT Support Department<br>\nUppsala, Sweden</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>OK, thanks for this fix, it will go into CVS.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>This has now been checked in, and will make MRBS 1.2.4,<br/>\nwhenever it is released.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/118/", "title": "#118 Repeating Sundays make error?", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>Se attached gif file, illustrating the error I\u0092ve found. This <br>\nis a screen dump from the demo located at: <br>\n<a href=\"http://mrbs.sourceforge.net/periodsmrbs/month.php?\">http://mrbs.sourceforge.net/periodsmrbs/month.php?</a><br>\nyear=2005&amp;month=10&amp;area=128&amp;room=318</p>\n<p>It seams that the error only occurs when Sundays is <br>\nrepeated together with other days?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Gif file (screen dump)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Hmm, you're right...a bug that's been hanging around in the<br/>\nn-weekly repeat type for quite some time. Offhand I can't<br/>\nsee how it's going wrong, I'll try to have a deeper look...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Right, I've fashioned a fix for this problem and briefly<br/>\ntested it. It requires changes to mrbs_sql.inc.</p>\n<p>I can give you a copy of the file, give you a diff compared<br/>\nto MBRS 1.2.3, or describe the changes so that you can make<br/>\nthem...</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1250904</p>\n<p>Hi</p>\n<p>can you please describe the changes you've done in the <br/>\nmrbs_sql.inc</p>\n<p>Thanks!</p>\n<p>Gunnar</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Sure, near the start of mrbsGetRepeatEntryList(), just after:</p>\n<div class=\"codehilite\"><pre><span></span>    $_initial_weeknumber = (int)(($day - 1) / 7) + 1;\n</pre></div>\n<p>(around line 293)<br/>\nyou need to add:</p>\n<div class=\"codehilite\"><pre><span></span>    $week_num = 0;\n    $start_day = date('w', mktime($hour, $min, $sec,\n</pre></div>\n<p>$month, $day, $year));<br/>\n        $cur_day = $start_day;</p>\n<p>Then around line 339 (after the above change), you need to<br/>\nchange the code that starts:</p>\n<div class=\"codehilite\"><pre><span></span>                    // n Weekly repeat\n                    case 6:\n</pre></div>\n<p>to be:</p>\n<div class=\"codehilite\"><pre><span></span>                    // n Weekly repeat\n                    case 6:\n\n                            while (1)\n                            {\n                                    $day++;\n                                    $cur_day = ($cur_day\n</pre></div>\n<ul>\n<li>\n<p>1) % 7;</p>\n<div class=\"codehilite\"><pre><span></span>                                if (($cur_day % 7)\n</pre></div>\n<p>== $start_day)<br/>\n                                    {<br/>\n                                            $week_num++;<br/>\n                                    }</p>\n<div class=\"codehilite\"><pre><span></span>                                if (($week_num %\n</pre></div>\n<p>$rep_num_weeks == 0) &amp;</p>\n</li>\n</ul>\n<p>($rep_opt<span>[$cur_day]</span> == 1))<br/>\n                                        {<br/>\n                                                break;<br/>\n                                        }<br/>\n                                }</p>\n<div class=\"codehilite\"><pre><span></span>                            break;\n</pre></div>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Now I'll curse the tracker's habit of wrapping lines, and<br/>\nthe parts of MRBS that use TABS for indentation... :)</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>My fix is now checked into CVS, and will make it into MRBS<br/>\n1.2.4 (and MRBS 1.3).</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>My fix is now checked into CVS, and will make it into MRBS<br/>\n1.2.4 (and MRBS 1.3).</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/117/", "title": "#117 Editing a booking conflicts with other booking", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The great porblem when trying to edit an event is that it <br>\napparently tries to add it as a new booking or something <br>\nlike that. Please fix so that we can modify bookings.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Can you please provide the following information:<br/>\n- version of MRBS<br/>\n- version of php<br/>\n- web server you are using and version<br/>\n- database you are using  and version<br/>\n- how to replicate the bug.</p>\n<p>Thank you</p>\n<p>Gavin</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=728617</p>\n<p>MRBS 1.2.2<br/>\nPHP 4.3.11<br/>\nApache 1.3.28 (Linux RH)<br/>\nMySQL 3.23.49</p>\n<p>Trying to reproduce the bug now... guess what!? It works fine <br/>\nto edit a booking! Tried all possible and impossible ways of <br/>\nediting a booking. I'll get back to you if I encounter this <br/>\nproblem again!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Resolving as \"works for me\", reopen or create a new ticket<br/>\nif you see it again.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/116/", "title": "#116 repeating entries for all day events does not work right", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>create a daily repeating entry for a room (for example from <br>\nmarch 1-3) for the hours of 1pm-3pm. this works fine.</p>\n<p>/now/ try creating a a daily repeating entry for a room for <br>\nthe same date range but <em>this time</em> select \"all day event\". <br>\nthe repeating entry isn't created right--there is only an <br>\nevent for march 1, and march 2 but nothing for march 3. <br>\nthe calculation is off (probably because the end time for the <br>\nmarch 2 event is at midnight of march 3 ??? i dunno...)</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1249223</p>\n<p>here's a quick fix in edit_entry_handler.php:<br/>\nafter line 85, add the following two lines:<br/>\n$hour = $morningstarts;<br/>\n$minute = 0;</p>\n<p>OR you can fix line 117 and have it check if this is an all day <br/>\nevent (and if so, to properly set the hour and minute)</p>\n<p>the reason this bug happens is because hour and minute are set <br/>\nto zero which is BEFORE $morningstarts. thus the time for the <br/>\nlast appointment is BEFORE the time when it should happen (so <br/>\nit is never scheduled)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>As far as I can tell this was fixed in CVS and has been in<br/>\nsince MRBS 1.2</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Closing this as fixed, unless you still have the problem<br/>\nwith MRBS &gt;= 1.2</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/115/", "title": "#115 User name case sensitivity inconsistent", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The user name field on the login form is<br>\ncase-insensitive but the check to see if a user can<br>\nmodify an entry is case-sensitive.</p>\n<p>E.g. If there's a user defined called \"user1\", you can<br>\nlog in to MRBS and add a booking. If the same user then<br>\nlogs in later as \"USER1\" they are refused access to<br>\nedit the same booking.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=718847</p>\n<p>I think the user name should be case-insensitive so this<br/>\ncould be fixed by changing mrbs_auth.inc:</p>\n<p>function getWritable($creator, $user)<br/>\n{<br/>\n        global $auth;</p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"o\">//</span> <span class=\"nv\">Always</span> <span class=\"nv\">allowed</span> <span class=\"nv\">to</span> <span class=\"nv\">modify</span> <span class=\"nv\">your</span> <span class=\"nv\">own</span> <span class=\"nv\">stuff</span>\n    <span class=\"k\">if</span><span class=\"ss\">(</span><span class=\"nv\">strcasecmp</span><span class=\"ss\">(</span><span class=\"mh\">$c</span><span class=\"nv\">reator</span>, $<span class=\"nv\">user</span><span class=\"ss\">)</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"ss\">)</span>\n            <span class=\"k\">return</span> <span class=\"mi\">1</span><span class=\"c1\">;</span>\n    :\n    :\n</pre></div>\n<p>}</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Hmm, that is odd, and I agree with your assessment.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Fixed in CVS for both MRBS 1.2 branch and development trunk.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Reopening this bug, as I implemented the change incorrectly, by making all comparisons case sensitive instead of making them all case _in_sensitive.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Now fixed properly in CVS for both MRBS 1.2 branch and<br/>\ndevelopment trunk.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/114/", "title": "#114 Creator field too short bug?", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I'm using pop3 authentication.  A user with a long e-mail <br>\naddress,  e.g. xxx.yyyy@zzzzzzzzzzzzzzzzz.com is able <br>\nto create an entry but subsequently unable to edit or <br>\ndelete the entry.</p>\n<p>I've attached an example.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>snapshot</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=766335</p>\n<p>Fix in attached file, change varchar(25) to varchar(80) --</p>\n<p>create_by   varchar(80) DEFAULT '' NOT NULL,</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fix</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Hmm, 25 does seem a bit short, indeed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Fixed in CVS in both the 1.2 branch and the development trunk.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/113/", "title": "#113 Database password", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The password for you database account can't have a $ <br>\nin it or the whole program wont sign into the database <br>\nbecause the php picks it up as a command.  This may <br>\nnot be easly fixed in the code but rather putting a not in <br>\nthe install guide or readme would really help.  Thanks a <br>\nlot.  Love the program!!!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Yes it can.  In config.inc.php change<br/>\n$db_password = \"pa$$word\" <br/>\nto <br/>\n$db_password = 'pa$$word';<br/>\nand it will work.</p>\n<p>I will change the default config.inc.php to use a single quote.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Fixed in CVS - head and 1.2 branches</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/112/", "title": "#112 warning error in edit_entry.php", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Warning: mktime(): Windows does not support negative <br>\nvalues for this function in <br>\nC:\\inetpub\\wwwroot\\mrbs\\edit_entry.php on line 299</p>\n<p>Warning: date(): Windows does not support dates prior <br>\nto midnight (00:00:00), January 1, 1970 in <br>\nC:\\inetpub\\wwwroot\\mrbs\\language.inc on line 303</p>\n<p>I get this warning message on my MRBS running on <br>\nWindows 2000 Server + IIS 5.0</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>You trying to book a room in 1965? :)</p>\n<p>More sensibly, posting the full URL line when the error<br/>\noccurs might be helpful...</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1107401</p>\n<p>No I didn't try to book a room set in 1965.</p>\n<p>Just wondering previously I runned MRBS on Windows XP Pro <br/>\n+ IIS + PHP everything works fine, unfortunately It was only <br/>\non Windows 2000 = IIS that I encountered this problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Could you post the full URL line when the error occurs,<br/>\notherwise I can't do anything to help.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1107401</p>\n<p>OK, this warning messages appear whenever I set the time <br/>\nformat to AM/PM but when I set to 24 hr format I get that <br/>\nwarning message.</p>\n<p>Also I'm attaching a screenshot of it.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Can you please try the following: <br/>\non line 299 change <br/>\nutf8_date(\"a\",mktime(1,0,0,1,1,1970)) <br/>\nto <br/>\nutf8_date(\"a\",mktime(1,0,0,1,1,1971)) </p>\n<p>on line 301 change <br/>\nutf8_date(\"a\",mktime(13,0,0,1,1,1970)) <br/>\nto <br/>\nutf8_date(\"a\",mktime(13,0,0,1,1,1971)) </p>\n<p>Let me know if this works. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1107401</p>\n<p>Hi Gavin,</p>\n<div class=\"codehilite\"><pre><span></span>I did managed to edit as per instruction. As a result there\n</pre></div>\n<p>was no warning message being displayed.</p>\n<div class=\"codehilite\"><pre><span></span>thanks for the help.\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Hi</p>\n<p>Before I close this can you please let me know what the<br/>\ntimezone setting for your server is?</p>\n<p>Thanks</p>\n<p>Gavin</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Gavin wrote:</p>\n<blockquote>\n<p>Before I close this can you please let me know what the<br/>\ntimezone setting for your server is?</p>\n</blockquote>\n<p>Ah yes, I'd forgotton that mktime() is defined to take<br/>\nvalues of <em>local time</em> and convert it to a UTC calendar time<br/>\nrepresentation (often misnamed Unix time).</p>\n<p>So,  Jan 1 1970 01:00 in a +8 timezone is actually Dec 31<br/>\n1969 17:00.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1107401</p>\n<p>Hi Gavin,</p>\n<p>The time zone setting I used is GMT +8:00 Kuala<br/>\nLumpur,Singapore.</p>\n<p>I'm in the Philippines.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Ok, I will change this code in cvs.  I have also changed<br/>\nthis to a bug, rather than a support request.</p>\n<p>Gavin.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>fixed in cvs on head and 1.2 branch</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/111/", "title": "#111 unable to make repeating meetings with pgsql", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The error is in the sql query performed by<br>\nmrbsCreateRepeatEntry in mrbs_sql.inc, and the message<br>\nis: ERROR:  pg_atoi: zero-length string.<br>\nWorking on pgsql 7.3.7</p>\n<p>I've patched the file, but I noticed some strange<br>\nthings in the database (mainly collumns that are<br>\ndeclared as \"NOT NULL\", when it should be able that<br>\nthey are \"NULL\")<br>\nThe best example is the repeat_id column in mrbs_entry.<br>\nIt is a foreign key, if it doesn't reference to a key<br>\nin mrbs_repeat, the row should hold an empty value.<br>\nAnother one is rep_opt in mrbs_repeat, it is declared<br>\n\"NOT NULL\", but given a default of \"\"...</p>\n<p>Anyway, here this version of mrbs_sql.inc works good<br>\nwith pgsql.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed mrbs_sql.inc</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Upgrade script, to get from old to new situation (tested)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Installation script for pgsql</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Installation script for mysql (not tested!)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Upgrade script for mysql (not tested!)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Thanks for these fixes, I (or someone else) will try to get<br/>\naround to verifying the changes and checking them in.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>I am running v7.3.2 and can see that I can't create a<br/>\nrepeating entry.  I will have a look at your suggested fixes.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>I have reviewed the fixes and I will implement them but I am<br/>\ngoing to do so with with just fixing mrbsCreateRepeatEntry<br/>\nin mrsb_sql.inc.  I realise that this is not a complete fix<br/>\nfor the foreign key issue and it doesn't attempt to fix the<br/>\ndefaults for the tables but with the time I have available<br/>\nthis is the direction I will take and it should allow MRBS<br/>\nto work correctly with pgsql.</p>\n<p>I will open an RFE once this is fixed to cover getting the<br/>\nSQL correct.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Fixed in cvs in HEAD and 1.2 branch.<br/>\nRaised a Task rather than RFE:<br/>\n<a href=\"http://sourceforge.net/pm/task.php?func=detailtask&amp;project_task_id=107951&amp;group_id=5113&amp;group_project_id=4068\">http://sourceforge.net/pm/task.php?func=detailtask&amp;project_task_id=107951&amp;group_id=5113&amp;group_project_id=4068</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/110/", "title": "#110 Completed Dutch translation", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Completed Dutch translation.</p>\n<p>Ready for web\\lang.nl</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Completed Dutch translation has been checked into CVS.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/109/", "title": "#109 Handling email through mail()", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The script has a little problem with mail() and having<br>\nassigned all $params in functions_mail.inc: PEARS mail<br>\nfactory command sends through these parameters and<br>\nattaches them to the headers<br>\n(http://pear.php.net/manual/en/package.mail.mail.factory.php)<br>\n. That gives odd messages in my systemlog<br>\n(gentoo/postfix). The diff shows the fix that I suggest:</p>\n<h1 id=\"diff-diff-functions_mailinc-functions_mailincold\">diff diff functions_mail.inc functions_mail.inc.old</h1>\n<p>674,683c674,680<br>\n&lt;     // only do the params when we're not using mail()<br>\nto prevent problems with $params being passed on to<br>\nmail() if <em>not</em> in safe mode<br>\n&lt;     if (!\"mail\"==strtolower($backend)){<br>\n&lt;         $params<span>['sendmail_path']</span> = $sendmail_path;<br>\n&lt;         $params<span>['sendmail_args']</span> = $sendmail_args;<br>\n&lt;         $params<span>['host']</span>          = $host;<br>\n&lt;         $params<span>['port']</span>          = $port;<br>\n&lt;         $params<span>['auth']</span>          = $auth;<br>\n&lt;         $params<span>['username']</span>      = $username;<br>\n&lt;         $params<span>['password']</span>      = $password;<br>\n&lt;     }</p>\n<hr>\n<blockquote>\n<div class=\"codehilite\"><pre><span></span>$params['sendmail_path'] = $sendmail_path;\n$params['sendmail_args'] = $sendmail_args;\n$params['host']          = $host;\n$params['port']          = $port;\n$params['auth']          = $auth;\n$params['username']      = $username;\n$params['password']      = $password;\n</pre></div>\n\n\n</blockquote>\n<p>Another thing I've changed is that I've commented (from<br>\nthe same diff):</p>\n<p>667c667<br>\n&lt;     // $headers<span>['To']</span>           = $recipients;</p>\n<hr>\n<blockquote>\n<div class=\"codehilite\"><pre><span></span>$headers['To']           = $recipients;\n</pre></div>\n\n\n</blockquote>\n<p>To prevent a double 'To' header, but I don't know if<br>\nthat's specific to mail() or not. It might also be<br>\nincluded in the if route (but then it needs to be<br>\nshoved up a little).</p>\n<p>Oh yeah, I am running/testing version 1.2</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>I (or someone else) will try to get around to looking at the<br/>\nproposed fixes and checking them in if OK. Thanks,</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Fixed in cvs HEAD and 1.2 branch.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/108/", "title": "#108 Non-Latin 1 area/room names don't display correctly", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Even with a Unicode setup, non-Latin 1 area/room names don't display correctly, and instead display mangled HTML character entities.</p>\n<p>If I type a Japanese room name, it comes out as something like the following in the HTML:</p>\n<p>&amp;#12505;&amp;#12521;&amp;#12493;&amp;</p>\n<p>This appears to come from the use of the PHP function htmlspecialchars().</p>\n<p>If it output \u30d9&amp;12521;&amp;12493; I believe it would work, albeit it would be unnecessary in a Unicode setup, in this case the UTF-8 from the database should be output unchanged.</p>\n<p>I don't know what is escaping the &amp; for an &amp;</p>\n<p>John.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Um, regarding my initial post, the fixed output would actually be:</p>\n<p>\u30d9\u30e9\u30cd</p>\n<p>However, it seems my initial assessment was wrong. The data is actually wrong in the database.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Argh, false alarm. I'd just upgraded my Linux box to Apache 2 and had left on a very dodgy default config option, the option to make it send charset=iso-8859-1 in the HTTP headers by default.</p>\n<p>If this is done, the charset specified in the HTML in MRBS is ignored by browsers, as it should be.</p>\n<p>The only thing is suggests is that we should probably be making PHP send a charset in the HTTP headers...</p>\n<p>I'll leave the issue open due to my suggestion above.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Fix checked into CVS so that Content-Type HTTP headers with charset specified are sent.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/107/", "title": "#107 2 hour time shift", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,</p>\n<p>I've noticed a more or less serious problem with our<br>\nMRBS setup: users who book an entry for a whole day or<br>\nfor several days find their bookings shifted by -2<br>\nhours. We don't know execatly why this happens, but<br>\nhave noticed a few things:</p>\n<ul>\n<li>Bookings which last only a few hours do not seem to<br>\nbe affected</li>\n<li>Bookings which go for \"1+days\" or \"3+days\" (see<br>\nadd_entry.php) seem to be affected. e.g. a booking from<br>\nmonday 07:30 onwards for \"3+days\" suddenly appears as<br>\nof 05:30 onwards for 24 hours. However, it seems that<br>\nthis change happens after a few hours! </li>\n<li>We're located in Zurich, Switzerland which is<br>\ncurrently GMT+2 - this could be suspect, -2 (shift)=<br>\n(GMT)+2 ?</li>\n</ul>\n<p>Questions: <br>\n1) is this a MRBS problem?<br>\n2) Could this be a MySQL database consolidation problem?<br>\n3) Is the local system time involved?<br>\n4) Is the DB system time involved ?<br>\n5) Could it depend on what OS and what local system<br>\ntime settings are used?</p>\n<p>Please help,</p>\n<p>Otte Homan<br>\n  www.first.ethz.ch<br>\n  www.phys.ethz.ch/~homan/</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>1) is this a MRBS problem?<br/>\n    Possibly - I have heard of this happening before after an <br/>\nupgrade<br/>\n2) Could this be a MySQL database consolidation problem?<br/>\n    No<br/>\n3) Is the local system time involved?<br/>\n    Yes - times are based on the localtime of the webserver<br/>\n4) Is the DB system time involved ?<br/>\n    No<br/>\n5) Could it depend on what OS and what local system<br/>\ntime settings are used?<br/>\n    OS - probably not<br/>\n    Local time settings - yes and no - as long as they are <br/>\nconsistent then there should not be a problem</p>\n<ul>\n<li>Which version of MRBS are you using?</li>\n<li>Have you recently upgraded?<br/>\nI don't understand how the change can be happening a <br/>\ncouple of hours after the data is entered.</li>\n<li>Are you booking events across a daylight saving change?</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1091421</p>\n<p>Hello,</p>\n<ul>\n<li>\n<p>Which version of MRBS are you using?<br/>\nMRBS 1.0-pre2<br/>\nMySQL 3.23.51-log<br/>\nLinux 2.4.26 #5 SMP<br/>\nPHP: 4.1.2</p>\n</li>\n<li>\n<p>Have you recently upgraded?<br/>\nNo, not that I know of.</p>\n</li>\n</ul>\n<p>I don't understand how the change can be happening a <br/>\ncouple of hours after the data is entered.<br/>\nI don't either. It's just that we enter new reservations,<br/>\nand when we look at them the same day or the next, they're<br/>\nOK. Then after a while (hard to say how long) we look again,<br/>\nand the times have changed by -2 hours.<br/>\nAt the moment I have aboubt 425 reservations since May 1st,<br/>\n2004 and until August 20th, 2004, and there are 167 with a<br/>\ndefinite time shift, and another 37 with a probably time<br/>\nshift of -2 hrs. I've looked at the DB directly (mySQLadmin)<br/>\nand see that the times are indeed shifted there.</p>\n<ul>\n<li>Are you booking events across a daylight saving change?<br/>\nNo - all bookings are between April 30th 2004 and August<br/>\n20th, 2004.</li>\n</ul>\n<p>Best,  Otte Homan</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>MRBS DB Excel dump sort overview</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1091421</p>\n<p>Perhaps the reason ist most likely to be found in the<br/>\nwebserver - I've dumped the DB contents into an excel file.<br/>\nI've tried to find out which reservations have very likely<br/>\nbeen shifted by -2 hours (orange), which ones have likely<br/>\nbeen shifted (yellow), and which ones have very likely not<br/>\nbeen shifted (green). Then I have sorted the contents by the<br/>\n'timestamp', and found (Bingo?) that the colors change<br/>\nblockwise: bad data between 30.APR.04 and 15.JUN.04, good<br/>\ndata between 16.JUN.04 and 01.JUL.04, bad data between<br/>\n02.JUL.04 and 23.JUL.04, and good data after 26.JUL.04<br/>\nagain. See attached png image. According to our sysadmin,<br/>\nthe webservers are usually running under UTC, but may<br/>\nsometimes, after a manual restart, run in local time, which<br/>\nis currently UTC+2. +2, -2, ... you can do the math.</p>\n<p>Do we have a clue here ?</p>\n<p>Best,</p>\n<p>Otte Homan</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>MRBS log vs. Webserver log</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1091421</p>\n<p>I think we've found the culprit. UNIX processes (such as an<br/>\nApache webserver) can run in any timezone at any time,<br/>\ndepending on the system configuration. We've compared our<br/>\nwebserver logs to my DB log, and found a close-to-100%<br/>\nmatch. See the color picture attached. It seems that it<br/>\n(used to be?) very important that the webserver (where the<br/>\nPHP code is executed) is running at a well defined time, and<br/>\nMRBS should know which time this is. I noticed in the NEWS<br/>\nversion log that the newer versions after 1.2-pre1 have this<br/>\nbug fixed (see <span>[ 413175 ]</span> daylight savings time bug).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Yes, the webserver host has to have accurate time, as a Unix timestamp is calculated by PHP at the time the booking is made and written to the db.</p>\n<p>From then on, the timestamp is converted back to a local time by PHP. If there's a timeshift on the webserver, bookings will shift too.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>It sounds like that the cause of this problem has been found so I am <br/>\nclosing this bug. </p>\n<p>The daylight saving issue will help you if you are booking or looking at <br/>\nevents across the daylight saving boundary.  If the webserver always <br/>\nruns on UTC then this is not an issue. </p>\n<p>Gavin. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/106/", "title": "#106 PHP Warnings as per 948246", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have not been able to investigate this fully yet but I <br>\nhave been getting warnings when booking a series as in <br>\nbug report 948246 submitted by rudd_j</p>\n<p>e.g. <br>\nWarning: mysql_free_result(): 8 is not a valid MySQL <br>\nresult resource in d:\\inetpub\\bookings\\mysql.inc <br>\non line 18</p>\n<p>Warning: Cannot add header information - headers <br>\nalready sent by (output started at <br>\nd:\\inetpub\\bookings\\mysql.inc:18) in <br>\nd:\\inetpub\\bookings\\edit_entry_handler.php on <br>\nline 279</p>\n<p>The bookings seem to be made correctly though, and <br>\nemail sent OK.</p>\n<p>This occurs when either mail or smtp are selected for <br>\nemail alerts (I haven't tested without emails yet). I have <br>\nnot been able to pin this down further, but it appears to <br>\nhappen most when I try to book two rooms at once for <br>\na series (e.g. every day for a week). It doesn't always <br>\noccur, but very often does. I will try to track this down <br>\nfurther but thought I should make you aware.</p>\n<p>I wonder whether some people will not see this if they <br>\ndon't have PHP warning reporting turned on?</p>\n<p>I am running Windows Server 2003 Standard (IIS 6) + <br>\nlatest PHP, mySQL &amp; latest MRBS from CVS</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Any more info on this would be great, especially if it is related to<br/>\nhaving email enabled. </p>\n<p>Thanks </p>\n<p>Gavin </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1086985</p>\n<p>OK - I will try and see if I can get any more info on this when <br/>\nI get into the office on Monday. If I get time I may also try <br/>\non my home PC, and see whether the same errors occur.</p>\n<p>Thanks for fixing the other bug. My users have been using <br/>\nMRBS successfully for 3 weeks now, to book anything from <br/>\nmeeting rooms to laptops to cars - and I have had a lot of <br/>\npositive feedback, so congratulations on the good work!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1086985</p>\n<p>I have been trying to narrow this down this afternoon. The <br/>\nproblem is definitely related to having email enabled. It only <br/>\noccurs when either MAIL_AREA_ADMIN_ON_BOOKINGS and/or <br/>\nMAIL_ROOM_ADMIN_ON_BOOKINGS are enabled. As soon as <br/>\nthese are disabled, the problem goes away This occurs using <br/>\nboth 'mail' and 'smtp' as mail backend. Enabling/disabling <br/>\nMAIL_ADMIN_ON_BOOKINGS or MAIL_BOOKER has no effect <br/>\nand doesn't cause or prevent the error.</p>\n<p>Furthermore, enabling both MAIL_AREA_ADMIN_ON_BOOKINGS <br/>\nand MAIL_ROOM_ADMIN_ON_BOOKINGS causes 2 \"not a valid <br/>\nMySQL result resource\" warnings, e.g.</p>\n<hr/>\n<p>Warning: mysql_free_result(): 25 is not a valid MySQL result <br/>\nresource in d:\\inetpub\\bookingsdev\\mysql.inc on line 18</p>\n<p>Warning: mysql_free_result(): 26 is not a valid MySQL result <br/>\nresource in d:\\inetpub\\bookingsdev\\mysql.inc on line 18</p>\n<p>Warning: Cannot modify header information - headers already <br/>\nsent by (output started at <br/>\nd:\\inetpub\\bookingsdev\\mysql.inc:18) in <br/>\nd:\\inetpub\\bookingsdev\\edit_entry_handler.php on line 287</p>\n<hr/>\n<p>Whereas enabling just one of them (either) causes just <br/>\none \"not a valid MySQL result resource\" warning - which <br/>\nseems to me to confirm that this email :</p>\n<hr/>\n<p>Warning: mysql_free_result(): 25 is not a valid MySQL result <br/>\nresource in d:\\inetpub\\bookingsdev\\mysql.inc on line 18</p>\n<p>Warning: Cannot modify header information - headers already <br/>\nsent by (output started at <br/>\nd:\\inetpub\\bookingsdev\\mysql.inc:18) in <br/>\nd:\\inetpub\\bookingsdev\\edit_entry_handler.php on line 287</p>\n<hr/>\n<p>This doesn't occur when booking a single entry but occurs <br/>\nwhen booking a repeating series for single or multiple rooms <br/>\n(for example start 2 Aug 2004, 16:00,  duration 1 hrs, repeat <br/>\ntype daily, end date 8 Aug 2004).</p>\n<p>I hope this helps! I have attached a copy of my <br/>\nconfig.inc.php just in case there is something else in there <br/>\nwhich might cause problems.</p>\n<p>Thanks<br/>\nStuart</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>MRBS Config file</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Thank you Stuart for your efforts and such a detailed<br/>\nreport.  I suspect that this is something to do with<br/>\ndatabase queries to get the area/room admin's email address<br/>\nand possibly a stray global variable.</p>\n<p>One last question so that I can rule it something out;<br/>\n  Can you look at your database tables, mrbs_room and<br/>\nmrbs_area, and confirm that there is a field called<br/>\nroom_admin_email and area_admin_email, respectively?</p>\n<p>Thanks</p>\n<p>Gavin</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Sorry forgot one other thing:<br/>\nCan you provide me with the MySQL and PHP version numbers,<br/>\njust in case it is related to that.?</p>\n<p>Thanks</p>\n<p>Gavin.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1086985</p>\n<p>Hi Gavin - thanks for your quick reply. I'm happy to help, <br/>\nespecially as MRBS has saved me a lot of work.<br/>\nVersions are: PHP 4.3.7, MySQL 4.0.18-nt.<br/>\nThe fields you mention are definitely present in the tables (as <br/>\ntext fields), and they are being populated properly by MRBS <br/>\n(in the cases where admin emails have been set).</p>\n<p>Regards<br/>\nStuart </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Hi Stuart</p>\n<p>Another question: does the message occur when you update <br/>\na series or is it only when the series is created?</p>\n<p>Thanks</p>\n<p>Gavin.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1086985</p>\n<p>Hi<br/>\nIt only occurs when booking. However, when I stated <br/>\npreviously that the emails are sent OK when booking a series <br/>\ndespite the error, I was mistaken. It manages to send the <br/>\nmain admin the email, and the booker - but not the room or <br/>\narea admin. For example, if I book a single entry with all the <br/>\nmail options enabled in config.inc.php I receive 4 emails <br/>\n(admin, area admin, room admin, booker) as expected. <br/>\nHowever, when I book a series I receive only two (main <br/>\nadmin, booker).</p>\n<p>When editing entries (either single or series) it gets more <br/>\ncomplicated - the same errors don't occur, yet it does not <br/>\nalways send mails to who I think it should. I think the logic <br/>\nthat determines who gets emails from the settings in <br/>\nconfig.inc.php is wrong. As an example (I'm hoping you can <br/>\nreproduce this!), if I have all of the possible mail options <br/>\nturned on, and I edit either a single entry or a series, it sends <br/>\nout 4 emails (so far so good). If I turn off MAIL_BOOKER, it <br/>\nsends out 3 (again, OK so far). But then if I turn off <br/>\nMAIL_DETAILS as well, it only sends out one mail (to the main <br/>\nadmin). If I then leave MAIL_DETAILS off, but turn <br/>\nMAIL_BOOKER back on, it sends out 4 mails, as expected. In <br/>\nother words the combination of MAIL_BOOKER and <br/>\nMAIL_DETAILS seems to strangely affect who gets the mails <br/>\n(possibly another separate bug?)</p>\n<p>I have tested all of this using 'mail' as backend, rather <br/>\nthan 'smtp'.</p>\n<p>I hope this is helpful. I'm happy to help further if I can. I've <br/>\nprobably confused you enough for one day though!</p>\n<p>Regards<br/>\nStuart</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1010072</p>\n<p>This bug is due to an extra \"sql_free($res);\" call on line<br/>\n106 and 155 of functions_mail.inc, inside<br/>\nfunction notifyAdminOnBooking($new_entry , $new_id).</p>\n<p>They are right after the<br/>\n$res = sql_query($sql);<br/>\n...<br/>\n$row = sql_row($res, 0); calls.</p>\n<p>According to the documentation of sql_free() in mysql.inc,<br/>\n// Free a results handle. You need not call this if you call<br/>\nsql_row or<br/>\n// sql_row_keyed until the row returns 0, since sql_row<br/>\nfrees the results<br/>\n// handle when you finish reading the rows.</p>\n<p>The calls in functions_mail.inc are unnecessary, and will<br/>\nproduce<br/>\nthe said errors.</p>\n<p>Commenting out the two sql_free() calls in functions_mail.inc<br/>\nwill fix the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Hi Stuart </p>\n<p>Can you please do as suggested by 'hfhung'? </p>\n<p>I suspected that this was the problem that gave these messages: <br/>\n Warning: mysql_free_result(): 25 is not a valid MySQL result<br/>\n resource in d:\\inetpub\\bookingsdev\\mysql.inc on line 18 <br/>\nbut I just couldn't prove it.  Should have read the comments. </p>\n<p>I will look into the other issue next. </p>\n<p>Regards </p>\n<p>Gavin. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1086985</p>\n<p>Thanks,<br/>\nI have commented out the two sql_free() calls.<br/>\nThis has fixed the error message, but unfortunately it still <br/>\ndoes not send mails to room or area admin when booking a <br/>\nseries (single booking is still OK).</p>\n<p>Regards<br/>\nStuart</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Stuart</p>\n<p>I will remove the sql_free()'s from the code.</p>\n<p>I have worked through part of the description of the<br/>\n'missing' emails and I can replicate what I have done so far.</p>\n<p>Thanks</p>\n<p>Gavin</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Apologies for the delay on this.</p>\n<p>I have now discovered two bugs which cause the emailing not<br/>\nto work as expected, i.e. mail system, area and room admins:<br/>\n1) The change entry/series options do not work correctly<br/>\nwhen MAIL_DETAILS=FALSE because the room and area admin<br/>\nemail addresses are got from the returned value from<br/>\ngetPreviousEntryData which is not run.<br/>\n    - Need to ensure that this run on all change conditions.</p>\n<p>2) For a new series with any value for MAIL_DETAILS the<br/>\nemails only go to the system admin ($mrbs_admin) because the<br/>\nid returned by mrbsCreateRepeatingEntrys is for the series<br/>\nand not a entry value.<br/>\n    - Need to modify the sql that is used to get the email<br/>\naddresses based on $new_id in notifyAdminOnBooking().  Need<br/>\nto make is sensitive to where it is a new entry or new series.</p>\n<p>General comment:  This needs to be revamped as the email<br/>\nwill go to the old room/area email address and will not the<br/>\nnew area/room email if the entry is moved to a new room.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>fix applied to cvs to HEAD and 1.2 branch.</p>\n<p>I believe that this issue is now fixed.  If I am wrong then<br/>\nplease re-open this issue.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/105/", "title": "#105 Missing ampersand in URL in email", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,</p>\n<p>I have just started using MRBS, and downloaded the <br>\nlatest CVS version.</p>\n<p>The URL given in the emails when a series is booked is <br>\nmissing an ampersand, i.e. view_entry.php?id=3series=1 <br>\nshould be view_entry.php?id=3&amp;series=1.</p>\n<p>Also, should the end time for a series should be given as <br>\nthe end of the last booking, rather than the start as <br>\ncurrently?:</p>\n<p>Room: test1 - testroom2 <br>\nStart Time: 10:00:00 - Monday 19 July 2004 <br>\nDuration: 4 hours <br>\nEnd Time: 10:00:00 - Saturday 31 July 2004 </p>\n<p>Regards,<br>\nStuart</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>I will fix the missing ampersand. </p>\n<p>Thierry wrote it this way and I think that it makes sense for a series. <br/>\nIt is done this way as the easily available information is the start of the <br/>\nlast entry in the series. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>This is fixed in CVS and I have opened an RFE to get the email <br/>\ncontents to resemble the output on a view entry page. <br/>\nRef.: <a href=\"http://sourceforge.net/tracker/\">http://sourceforge.net/tracker/</a><br/>\nindex.php?func=detail&amp;aid=1000957&amp;group_id=5113&amp;atid=355113 </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/104/", "title": "#104 Adding support for English (Ireland) locale", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Very simple change required for supporting the English <br>\n(Ireland) locale.  In language.inc, add the following line <br>\nunder the \"$lang_map_windows = array\" section</p>\n<p>'en-ie' =&gt; 'eng',</p>\n<p>Regards,</p>\n<p>Huw</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Checked fix into CVS.</p>\n<p>Thanks.</p>\n<p>John.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/103/", "title": "#103 changing booked rooms", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>When I've booked 2 or more rooms from 9:00 - 12:00<br>\nand I want to shift that to 10:00 - 13:00 then I need to <br>\nchange it per room otherwise I get the message that it's <br>\noverlapping existing booking. Not so handy or am I doing <br>\nsomething wrong?</p>\n<p>=snip<br>\nMRBS 1.2-pre1 <br>\nDatabase: MySQL 3.23.58 <br>\nSysteem: Linux sme60build 2.4.20-18.7 #1 Thu May 29 <br>\n08:32:50 EDT 2003 i686 unknown <br>\nPHP: 4.1.2 </p>\n<p>=snip</p>\n<p>Pepijn</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>This is not exactly a bug, but an 'unimplemented feature'. <br/>\nMRBS support mutiple select for new entries, not for edited <br/>\nones. You are supposed to edit one entry at a time. If you <br/>\nselect aditional rooms to the edited one, mrbs assume it is a <br/>\nnew one, thus resulting in a conflict.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/102/", "title": "#102 format of email when periods enabled is incorrect", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>1.2pre3 <br>\nThere seems to be extra information in the email output and the <br>\ninfo for end period is not calculated correctly. </p>\n<p>For the latter: <br>\nif the booking is 1 period then start is say period two then end <br>\nshould be shown as period 2.  But in the email it is shown as <br>\nperiod 3. </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Fixed in CVS </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/101/", "title": "#101 id in email about series is id from mrbds_repeat", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The URL that is generated when a series is created/modified <br>\nincludes the id.  The id is that of the entry in the mrbs_repeat <br>\ntable and is not handled correctly when passed to <br>\nview_entry.php. </p>\n<p>It may be necessary to create a view_repeat.php. </p>\n<p>I would suggest that this should be declared as a known issue <br>\nand left for resolution after the release of 1.2. </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Okay I will do this before 1.2 is released. </p>\n<p>I just need to add an option to view_entry.php to say that it is going <br/>\nto process a series entry rather than a normal entry. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>fix comitted to cvs </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/100/", "title": "#100 Incomplete URL in email notifications of new entries", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When an entry is created the url that goes at the top of the <br>\nmessage is not complete: <br>\neg. <br>\n  view_entry.php?id=1029 </p>\n<p>However, modified entries have a full url. </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>The issue was that I was using the back button to navigate while doing <br/>\ntesting. </p>\n<p>Although this issue is not likely to be seen by a normal user I think that <br/>\nan update to the documentation would be appropriate.  The suggestion <br/>\nwould be that $url_base should be set when using email notifications. </p>\n<p>Gavin. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>INSTALL and config.inc.php update in CVS </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/99/", "title": "#99 multiple selection & detailed emails", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,</p>\n<p>I use MRBS vers. 1.2-pre3<br>\nwhen I set MAIL_DETAILS to TRUE, I cannot make <br>\nmultiple reservation. I select more rooms with ctrl+click <br>\nbut system makes reservation only for the first room in <br>\nselection. <br>\nWhen I set MAIL_DETAILS to FALSE it's working well.</p>\n<p>Pavel Urban</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Reproduced - but I am not sure what the exact cause is. </p>\n<p>Can you please append details of the OS that you are using. </p>\n<p>Regards </p>\n<p>Gavin </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Problem identified and fixed in CVS version of code. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/98/", "title": "#98 Day of week/month", "status": "closed", "labels": "MRBS-DEV (7)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When using local language (swedish) all is OK but, the <br>\nname of the day and the month. They are all in english <br>\n(!). Due to internals of PHP?</p>\n<p>Would be nice if it could also be local.</p>\n<p>I'm not that good at OO so I'll check on my own site <br>\nfirst - meanwhile if somebody could come with a fix to <br>\nthat prob I would be more than happy.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>is mrbs set to use unicode ?<br/>\nwhat is the first language set in your browser ?<br/>\nDoes your server support swedish ?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1038851</p>\n<p>setlocale(LC_ALL,'sv_SE');<br/>\nin config.inc</p>\n<p>Thanks TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1038851</p>\n<p>Thank you for your bug report. This issue has already been fixed<br/>\nin the latest released version of the package, which you can <br/>\ndownload at</p>\n<p><a href=\"https://sourceforge.net/projects/mrbs/\">https://sourceforge.net/projects/mrbs/</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/97/", "title": "#97 Repeat with multiple rooms, 2nd room gets all day", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>It appears that selecting multiple rooms then creating a <br>\nseries incorrectly stores the duration for 2nd room. <br>\nThis is using periods.</p>\n<p>Procedure:<br>\nIf you click to create a new booking then select 2 rooms <br>\nin an area (using ctrl), then set repeat type daily, and <br>\nenter the next day for repeat end date, and save. In <br>\ndaily view the 2nd rooms entry appears to take up the <br>\nentire column.</p>\n<p>The details below are from the same entry.  With 2 <br>\nrooms selected.</p>\n<p>The first room shows:<br>\nTest 1<br>\nDescription: Test <br>\nRoom: Senior Study - Senior Computers <br>\nStart Time: Period 3, Saturday 08 May 2004 <br>\nDuration: 1 periods <br>\nEnd Time: Period 3, Saturday 08 May 2004 <br>\nDepartment: PE <br>\nCreated By: 90002 <br>\nLast Updated: 09:53:35 - Monday 10 May 2004 <br>\nRepeat Type: Daily <br>\nRepeat End Date: Sunday 09 May 2004 </p>\n<p>while second room shows:<br>\nTest 1<br>\nDescription: Test <br>\nRoom: Senior Study - Senior Study <br>\nStart Time: Period 3, Saturday 08 May 2004 <br>\nDuration: 1 days <br>\nEnd Time: Recess, Sunday 09 May 2004 <br>\nDepartment: PE <br>\nCreated By: 90002 <br>\nLast Updated: 09:53:36 - Monday 10 May 2004 <br>\nRepeat Type: Daily <br>\nRepeat End Date: Sunday 09 May 2004 </p>\n<p>Thanks<br>\n James</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>I tried to create the same entry type as you and I have not <br/>\nthis problem. To be sure what I did is good, I attached some <br/>\npictures to sedcribe what I did.</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>I have to agree with Thierry's results. With the latest code from CVS I can certainly book two rooms at once as described in this report successfully.</p>\n<p>I didn't use the periods mode, as I've not currently got an MRBS installation configured for periods.</p>\n<p>Oh yes I have I have, I've just fixed the auth config for the periods demo on the SF site, and have booked a set of rooms as you've described. See:</p>\n<p><a href=\"http://mrbs.sourceforge.net/periodsmrbs/day.php?year=2004&amp;month=6&amp;day=23&amp;area=2\">http://mrbs.sourceforge.net/periodsmrbs/day.php?year=2004&amp;month=6&amp;day=23&amp;area=2</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=949678</p>\n<p>I've tried it with latest code and is working now. Thanks</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/96/", "title": "#96 typo in lang.de", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>wrong:</p>\n<p>$vocab<span>[\"you_are\"]</span>  = \"Sie sint\";<br>\n                                  ^^^</p>\n<p>correct:</p>\n<p>$vocab<span>[\"you_are\"]</span>            = \"Sie sind\";<br>\n                                                ^</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Fixed in CVS.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/95/", "title": "#95 I've just updated to the latest Diff Getting MySQL Errors:", "status": "closed", "labels": "MRBS (195)", "priority": "9", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I've just updated to the latest CVS Diff and am getting <br>\nerrors when adding series bookings and deleting bookings</p>\n<p>Warning: mysql_free_result(): 8 is not a valid MySQL <br>\nresult resource in SYS:/apache2/htdocs/mrbs/mysql.inc <br>\non line 18</p>\n<p>Warning: Cannot add header information - headers <br>\nalready sent by (output started at <br>\nSYS:/apache2/htdocs/mrbs/mysql.inc:18) in <br>\nSYS:/apache2/htdocs/mrbs/edit_entry_handler.php on <br>\nline 279</p>\n<p>When deleting following appears in page:</p>\n<p>You have an error in your SQL syntax. Check the manual <br>\nthat corresponds to your MySQL server version for the <br>\nright syntax to use near 'AND r.id=e.room_id AND <br>\na.id=r.area_id' at line 1</p>\n<p>If I disable all email options in config it stops occuring.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Thanks,</p>\n<p>I look at this.</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Fixed in CVS.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=949678</p>\n<p>Thanks for the fix. It's fixed the delete bug that was <br/>\noccuring, but the main bug is still occuring. It works fine for <br/>\nnormal add booking, but displays error when attempting to <br/>\nadd a series booking. I'm adding a daily series booking, to <br/>\nrepeat for 1 extra day.</p>\n<p>Warning: mysql_free_result(): 8 is not a valid MySQL result <br/>\nresource in SYS:/apache2/htdocs/mrbs/mysql.inc on line 18</p>\n<p>Warning: mysql_free_result(): 9 is not a valid MySQL result <br/>\nresource in SYS:/apache2/htdocs/mrbs/mysql.inc on line 18</p>\n<p>Warning: Cannot add header information - headers already <br/>\nsent by (output started at <br/>\nSYS:/apache2/htdocs/mrbs/mysql.inc:18) in <br/>\nSYS:/apache2/htdocs/mrbs/edit_entry_handler.php on line 279</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=949678</p>\n<p>The problem is likely caused from the difference in the SQL <br/>\nqueries the Series uses to a normal booking. When the mail <br/>\nfunctions try to query the booking as it's a series it returns <br/>\ndifferent values, which the sql_free() statement doesn't like. <br/>\nI'm having no problems deleting series, and don't seem to be <br/>\nhaving problems else where. Only occurs when adding or <br/>\nediting a series.</p>\n<p>James</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>this time I can't reproduce your problem. I created a simple <br/>\nentry with daily repeat as you said and I received the mail, no <br/>\nerrors. Are you sure to have all your files up to date ? How do <br/>\nyou get the latest files, from cvs or downloading them from <br/>\nwebcvs?</p>\n<p>However, editing this serie raised an error not related to yours <br/>\n(Field 'a.area_admin_email' unknown in field list).</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Well,</p>\n<p>my error in my last comment was fault, because I have two <br/>\ndev systems, and one had a wrong table name in mysql.</p>\n<p>The last files version are functions_mail 1.4, <br/>\nedit_entry_handler 1.19, config 1.34 and del_entry 1.5</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=949678</p>\n<p>I don't know what the problem was, but was likely with my <br/>\nsystem as I changed the mail subsystem to smtp and the <br/>\nerror went away. Sorry. <br/>\nThanks for fixing the other problem.<br/>\n James</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/94/", "title": "#94 Entry type codes (A-J) distinguish only first 7 letters", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Good day, Creators! :)</p>\n<p>In my config.inc.php I added entries to the list <br>\n  $typel<span>[\"E\"]</span> = get_vocab(\"External\");<br>\n  $typel<span>[\"I\"]</span> = get_vocab(\"Internal\");</p>\n<p>like this<br>\n  $typel<span>[\"A\"]</span> = get_vocab(\"team_devel\");<br>\n  $typel<span>[\"B\"]</span> = get_vocab(\"team_manag\");<br>\n  $typel<span>[\"C\"]</span> = get_vocab(\"team_design\");<br>\nand so on...</p>\n<p>And MRBS can't make difference betveen team_devel and<br>\nteam_design. It does not display this teams in the list<br>\nat all. Looks like it uses only first 6-7 letters to<br>\ndistinguish the vocabulary term. </p>\n<p>Workaround is obvious (to change team name), but it's<br>\ninteresting whether it is a PHP limitation or MRBS?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>can't reproduce you bug. What do you mean exactly <br/>\nwith  \"MRBS can't make difference betveen team_devel and <br/>\nteam_design\". What are the visible effets in day view and <br/>\nedit_entry page ?</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=949678</p>\n<p>The get_vocab pulls the info from the language file. You need <br/>\nto either create a corressponding line in your language <br/>\nlang.en, or type the value as a string, eg <br/>\n$typel<span>[\"B\"]</span> = \"Team Management\";</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=991010</p>\n<p>Hi, </p>\n<p>Sorry, I can't reproduce error myself too. Probably it was<br/>\nsome syntax error in my config files, now everything is ok. </p>\n<p>Please close this bug report, there is no bug here. </p>\n<p>Thank you again for your great work, AD/LDAP integration is<br/>\nwonderful!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/93/", "title": "#93 xbLib.js does not use $vocab[\"click_to_reserve\"]", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>On line 411 of xbLib.js the mouse over phrase <br>\n   window.status = \"Click on the cell to make ....<br>\nis hard coded and doesn't use the value entered in <br>\n$vocab<span>[\"click_to_reserve\"]</span> = ...<br>\nin the lang.** file.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>Seems it was corrected on 25 April..?</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/92/", "title": "#92 Error:  report.php", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>On the report.php page, there seems to be a error when <br>\nI change the dates.  It looks like the prefix wasn't added <br>\nin the code.</p>\n<p>thanks</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>is this the same error message I experience when I change <br/>\nyear or month (...selectedIndex is null or is not an Object...) ?<br/>\nI experience this bug too, but for the moment I don't kow <br/>\nhow to fix it, anf id we have to fix it, because it occurs only <br/>\nin IE6 on Windows XP. It works fine with Konqueror,Netcape6, <br/>\nMozilla 1.6 and IE6 on Windows 2000.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Hmm, it gives JavaScript errors in Mozilla 1.7 also. Looking at the JavaScript, it does look a little odd to me...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>I've got a fix for this now, I'll check it in.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>Now checked into CVS, it will make it into the anticipated MRBS 1.2 release.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/91/", "title": "#91 New report.php code has error", "status": "closed", "labels": "MRBS (195)", "priority": "3", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi.<br>\n When I run a report without selecting any types <br>\nin \"Match Type\" every line in type box on the returned <br>\nform ends with: <br>\n<b>Warning</b>:  Wrong datatype for second argument <br>\nin call to in_array in <br>\n<b>SYS:/apache2/htdocs/mrbs/report.php</b> on line <br>\n<b>295</b><br></p>\n<p>If a type is selected their is no problem.</p>\n<p>Thanks</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Problem replicated. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>I have committed a fix to cvs.  Please let me know if there <br/>\nare any issues. </p>\n<p>Gavin. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/90/", "title": "#90 Hardcoded http:// in several files breaks https requests", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS 1.2-pre1</p>\n<p>In file functions.inc, line 343:</p>\n<p>destination = \\\"http://\\\" + location.host + <br>\nlocation.pathname + \";</p>\n<p>In file functions.inc, line 379:</p>\n<p>destination = \\\"http://\\\" + location.host + <br>\nlocation.pathname + \";</p>\n<p>In file session_cookie.inc, line 45:</p>\n<p>header (\"Location: http://$HTTP_HOST$TargetURL\"); /<em> <br>\nRedirect browser to initial page </em>/</p>\n<p>In file  session_php.inc, line 49:</p>\n<p>header (\"Location: http://$HTTP_HOST$TargetURL\"); /<em> <br>\nRedirect browser to initial page </em>/</p>\n<p>Breaks things when you hosts MRBS on an SSL enable <br>\nsite.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=949678</p>\n<p>First check you are useing the latest version of your <br/>\nsession_<em>.inc file by checking the CVS. If you don't wish to <br/>\nuse the latest try my solution below.<br/>\nI found a similar problem when hosting on a secure server and <br/>\nfixed it by modifying the session_</em>.inc file to have:</p>\n<div class=\"codehilite\"><pre><span></span>if (isset($_SERVER['HTTPS'])){\n   header (\"Location: https://\n</pre></div>\n<p>$HTTP_HOST$TargetURL\"); /<em> Redirect browser to initial page <br/>\n</em>/<br/>\n    }else{<br/>\n       header (\"Location: http://$HTTP_HOST$TargetURL\"); /<em> <br/>\nRedirect browser to initial page </em>/<br/>\n    }</p>\n<p>In place of the \"header (\"Location: $TargetURL\"); /<em> Redirect <br/>\nbrowser to initial page </em>/ \" Line</p>\n<p>As I use session_cookie.inc I put this on line 46. For <br/>\nsession_php.inc put on line 49.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=949678</p>\n<p>Also anywhere else where http: is hardcoded replace with this <br/>\ncode.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>This has been fixed in january and february.</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/89/", "title": "#89 Month View, Extra carriage return", "status": "closed", "labels": "MRBS (195)", "priority": "1", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>On line 293 of month.php there is <br>\nif ($i &gt; 0 &amp;&amp; $i % 2 == 0) echo \"<br>\"; else echo \" \";</p>\n<p>If the config file is set to show brief descriptions in <br>\nmonth view, after every 2nd description there is an <br>\nextra line break from above line.</p>\n<p>If this carriage return line is moved into the top of the <br>\nelse clause on L302 it should fix this.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=949678</p>\n<p>Sorry actual line is 286, not L293 and L296 not L302</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Thanks,</p>\n<p>even better, this extra CR should not have exist at all !</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/88/", "title": "#88 small bug", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>when changing a non n-weekly entry, field \"Number of <br>\nweeks (for n-weekly)\" appear...</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>I have just taken an initial look at this and it is not a simple matter of <br/>\nmoving the field \"Number of weeks (for n-weekly)\" into the correct part <br/>\nof the if statement.  There is a connection with the javascript that <br/>\nvalidates the page before it is submitted this will dependency will need <br/>\nto be resolved to fix this problem. </p>\n<p>Regards </p>\n<p>Gavin. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Well,</p>\n<p>I already had a look at this. I think I fixed it. Thanks</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/87/", "title": "#87 Authentication using Ext and badpw.pl", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello people. </p>\n<p>MRBS version: mrbs-1.2-pre1</p>\n<p>Im having a problem with authentication using the <br>\nexternal program badpw.pl. When I set up the config.inc <br>\nand the badpw.pl file and try to modify a booking it asks <br>\nme to login. So thats still fine</p>\n<p>However when I login as admin with the password stated <br>\nin the badpw.pl file it just returns me to the login screen <br>\nand does not accept my data.</p>\n<p>config.inc.php <br>\n$auth<span>[\"realm\"]</span>  = \"MRBS\";<br>\n$auth<span>[\"type\"]</span>   = \"ext\";<br>\n$auth<span>[\"prog\"]</span>   = \"./badpw.pl\";<br>\n$auth<span>[\"params\"]</span> = \"#USERNAME# #PASSWORD#\";</p>\n<p>badpw.pl</p>\n<h1 id=\"the-list-of-valid-username-and-password-pairs\">The list of valid username and password pairs</h1>\n<p>$users{admin} = \"****\";</p>\n<p>It keeps returning me and does not allow me to login. <br>\nBefore this I was having the problem that I didnt even <br>\nget the login screen. However when I changed some <br>\nstuff around in the aut_ext.inc file and then put <br>\neverything back to as it was this went fine again.</p>\n<p>Strange... can anyone help me ou here..</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=918623</p>\n<p>I have exactly the same problem... although i cant get any <br/>\nkind of authorization to work, exept ip. Does anybody now if <br/>\nthis is a recent bug or of my settings are just messed up? <br/>\nI've tried just about anything and are starting to run out of <br/>\nbright ideas here...</p>\n<p>/patrick</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=914564</p>\n<p>It gets more fun:</p>\n<p>Even when I install a fresh installation of the program I keep <br/>\nhaving the same problems. No single authentication works <br/>\nexcept for the ip which wont do any good since I need to <br/>\nknow who is making the bookings.</p>\n<p>Even when installing on a complete different system and only <br/>\nuploading the tables of the db I get the problems stated <br/>\nabove. </p>\n<p>Any help would be appriciated.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=914564</p>\n<p>We have found a way to circumvent the problem by creating <br/>\nour own validation process. We put ip verification on and <br/>\nalways returned '2' in the ip_auth segment. </p>\n<p>this way everyone was seen as an administrator but through <br/>\nour authorization we still had the ability to keep them at bay. <br/>\nBasically we created a simple login feature where the program <br/>\nchecks if a user is actually in the SQL database if so he can <br/>\nlogin. </p>\n<p>After that we have made alterations for the edit_entry and <br/>\nthe admin.php</p>\n<p>So the problem has been dealt with. Patrick, if you still have <br/>\nthe same problem then I might be able to help you out. Just <br/>\npost something to let me know if you still have the problem. <br/>\nThen Ill be a bit more specific as to how we did it.</p>\n<p>Cheers,</p>\n<p>MvdKolk</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Can you check that badpw.pl has execute permissions on the file, i.e. <br/>\nUNIX&gt; ls -lgG badpw.pl <br/>\n-r-xr-xr-x    1      416 2003-12-03 21:20 badpw.pl <br/>\nI can replicate the problem if the file is not executable but the moment <br/>\nI 'chmod +x badpw.pl' it works fine. </p>\n<p>Regards </p>\n<p>Gavin. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/86/", "title": "#86 We can create rooms with no area", "status": "closed", "labels": "MRBS (195)", "priority": "3", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If no area and no room already exist, we can create new <br>\nrooms. This should not be possible.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Hi Thierry</p>\n<p>Just in case you haven't worked this out - the problem is that<br/>\nisset($area) is being used where empty($area) should be used.</p>\n<p>get_default_area() will return 0 or the area ID so after line 21<br/>\n$area is set but it might be 0, which would indicate that there<br/>\nwas no area defined so the room option should not appear.</p>\n<p>Regards</p>\n<p>Gavin.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Ok,</p>\n<p>fixed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/85/", "title": "#85 Repeating Meetings Fail", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When entering a repeating meeting no data ever <br>\nmakes it into the database unless there is a value in <br>\nthe \"Number of weeks (for n-weekly)\" field.  This <br>\noccurs even when n-weekly was not selected.  For <br>\nexample, if I create a daily repeating meeting every <br>\nday for a week, I must enter a 1 in the \"Number of <br>\nweeks (for n-weekly)\" field, or the meeting is never <br>\nentered into the database.  No error message ever <br>\nappears.</p>\n<p>Another enhancement that would be very beneficial <br>\nfor this program would be the addition of logging.  It <br>\nis very difficult to know why something didn't work if <br>\nyou can't look back at a log file.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>Just to be sure we are speaking of the same thing:<br/>\n- you want to book a meeting from (ie.) Sun Nov 02 to Sat <br/>\nNov 08<br/>\n- every day</p>\n<p>To do that you have just to :<br/>\n- select a slot in the first day of the week (ie. 07am, Sun Nov <br/>\n02)<br/>\n- Repeat type : dayly<br/>\n- Repeat end date : 08 Nov 2003</p>\n<p>and this works for me. I s this what you are trying to do?</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>Just to be sure we are speaking of the same thing:<br/>\n- you want to book a meeting from (ie.) Sun Nov 02 to Sat <br/>\nNov 08<br/>\n- every day</p>\n<p>To do that you have just to :<br/>\n- select a slot in the first day of the week (ie. 07am, Sun Nov <br/>\n02)<br/>\n- Repeat type : dayly<br/>\n- Repeat end date : 08 Nov 2003</p>\n<p>and this works for me. I s this what you are trying to do?</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=739350</p>\n<p>The version that I am running was in the mrbs-1.1-tar.gz <br/>\nfile that appeared to be the latest stable build.  Doing the <br/>\nsame thing that you described failed to work.  I had to <br/>\nenter some (any) value in the number of weeks for n-<br/>\nweekly field.  However, I was able to make it work by <br/>\nmodifying the mrbs_sql.inc file .  I added the following <br/>\nstatement before the SQL insert statement inside the <br/>\nmrbsCreateRepeatEntry() method.</p>\n<div class=\"codehilite\"><pre><span></span>    if($rep_num_weeks == &amp;quot;&amp;quot;)\n    {\n            $rep_num_weeks=1;\n    }\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=739350</p>\n<p>The version that I am running was in the mrbs-1.1-tar.gz <br/>\nfile that appeared to be the latest stable build.  Doing the <br/>\nsame thing that you described failed to work.  I had to <br/>\nenter some (any) value in the number of weeks for n-<br/>\nweekly field.  However, I was able to make it work by <br/>\nmodifying the mrbs_sql.inc file .  I added the following <br/>\nstatement before the SQL insert statement inside the <br/>\nmrbsCreateRepeatEntry() method.</p>\n<div class=\"codehilite\"><pre><span></span>    if($rep_num_weeks == &amp;quot;&amp;quot;)\n    {\n            $rep_num_weeks=1;\n    }\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/84/", "title": "#84 locale selection could be better", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>In version 1.2-pre1 there is some locale selection code<br>\nthat transposes browser language selections into what<br>\nis thought as being existing locales.</p>\n<p>I come from Denmark and here we either use \"da\" or<br>\n\"da_DK\".  But as I also come from an international<br>\nenvironment I do not have the freedom of fixing the<br>\nlocale to either of these selections.</p>\n<p>Furthermore as a Mozilla user I can choose the language<br>\n\"da\" for Danish as preferred over \"en\" for English, but<br>\nI do not have the possibility of <em>choosing</em> \"da-dk\",<br>\nwhich I know will make MRBS work;  but I have the<br>\npossibility of <em>writing</em> \"da-dk\", which mozilla<br>\naccepts, but then I have to know what to write, which<br>\ncannot be required from all users.</p>\n<p>I suggest that MRBS first tries to set the locale<br>\n(after some sanitizing) to the user's preference before<br>\ntrying to generate other guessed locales.  setlocale()<br>\nreturns FALSE in case something goes wrong.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>Since 1.2-pre1, all language related code has been changed, <br/>\nas well as language detection, to fully support unicode. As I <br/>\nam not the author of these changes, I can't say much more <br/>\non this, but yo can see the actua content of config.inc here :</p>\n<p><a href=\"http://cvs.sourceforge.net/viewcvs.py/mrbs/mrbs/web/config.i\">http://cvs.sourceforge.net/viewcvs.py/mrbs/mrbs/web/config.i</a><br/>\nnc.php?view=markup</p>\n<p>as well as the new language.inc:</p>\n<p><a href=\"http://cvs.sourceforge.net/viewcvs.py/mrbs/mrbs/web/langua\">http://cvs.sourceforge.net/viewcvs.py/mrbs/mrbs/web/langua</a><br/>\nge.inc?view=markup</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>I'm the writer of the new locale support in MRBS, and can<br/>\ntell you it will now work for Danish users. If the browser<br/>\nsends \"da\" or \"da-da\" then you <em>will</em> get Danish in MRBS,<br/>\nwhether the server is hosted on Linux or Windows.</p>\n<p>You will also be able to use a Unicode encoding, dependent<br/>\non PHP and OS support, and mix and match languages in MRBS.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>So, I'll take this, until the new code is in a proper<br/>\nrelease and proved to \"do the right thing\".</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>I'm going to call this fixed now. Either use MRBS 1.2-pre3, or the soon to be releases MRBS 1.2</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/83/", "title": "#83 Weekly Display", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The weekly display does not calculate the slot<br>\npositions correctly when a week has Daylights Savings<br>\nTime changes in it. For example see the issue Frank<br>\nNemeth posted:<br>\n<a href=\"https://sourceforge.net/mailarchive/forum.php?thread_id=3322739&amp;amp;forum_id=5049\">https://sourceforge.net/mailarchive/forum.php?thread_id=3322739&amp;forum_id=5049</a></p>\n<p>I have found a quick fix for this bug, but figured I<br>\nshould post it to the bugs list, too:</p>\n<p>I wrote a function to check a timestamp and return true<br>\nif it is in Daylights Savings, and placed it in my<br>\nfunctions.inc and modified a few lines into my week.php<br>\nfile:</p>\n<p>functions.inc at line 253:<br>\nfunction isDateInDaylightsSavingsTime($timestamp)<br>\n{<br>\n    return date(\"I\", $timestamp);<br>\n}</p>\n<p>week.php at line 193:<br>\n   if(!isDateInDaylightsSavingsTime($t) &amp;&amp;<br>\nisDateInDaylightsSavingsTime($week_midnight))<br>\n      $t -= 3600;<br>\n   $end_t = min((int)round_t_up((int)$row<span>[1]</span>,<br>\n                 (int)$resolution, $am7),<br>\n                           (int)$week_end+1);<br>\n   if(!isDateInDaylightsSavingsTime($end_t) &amp;&amp;<br>\nisDateInDaylightsSavingsTime($week_midnight))<br>\n      $end_t -= 3600;</p>\n<p>These modifications seem to take care of that bug.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Thanks,</p>\n<p>I added your code to mrbs.</p>\n<p>Thierry B.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/82/", "title": "#82 Zend error, mincals.inc, parse errors  1.2-pre1", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>in setting up 1.2-pre1, first error received was \"class<br>\nerror\" in mincals.inc  <br>\nthere seemed to be an extra '}' at the end of that<br>\nfile.  commenting out that '}' allowed me to continue,<br>\nbut then i got</p>\n<p>Parse error: parse error in<br>\n/var/www/facilities/mincals.inc on line 204</p>\n<p>Warning: Cannot add header information - headers<br>\nalready sent by (output started at<br>\n/var/www/facilities/mincals.inc:204) in<br>\n/var/www/facilities/functions.inc on line 27</p>\n<p>Warning: Cannot add header information - headers<br>\nalready sent by (output started at<br>\n/var/www/facilities/mincals.inc:204) in<br>\n/var/www/facilities/functions.inc on line 28</p>\n<p>further along.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Seems strange, since this file can be considered stable, there <br/>\nwas very few changes.<br/>\nWhat system do you use?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=798204</p>\n<p>it appears to be one test bed machine.   PEAR and other<br/>\nthings work fine, but not mrbs.  another dev server does not<br/>\ngive these errors.</p>\n<p>but i'm left wondering why there is html/code in<br/>\nmincals.inc, which really should contain a class and nothing<br/>\nelse. ?? </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>what is your first error exactly? Just \"class<br/>\nerror\"? As your second error come from your commented line, <br/>\nand since there is no extra brace, try to give more <br/>\nexplanations about the first one. <br/>\nWhat system do you use (OS, web server, php version..).</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=905199</p>\n<p>hi.</p>\n<p>i have to report equal problems:</p>\n<p>when browsing the MRBS, the following php error is being logged:<br/>\nPHP Fatal error:  Internal Zend error - Missing class<br/>\ninformation for  in /var/www/mrbs/mincals.inc on line 22</p>\n<p>no calendar is displayed at all:<br/>\n<a href=\"http://davis.kommwiss.fu-berlin.de/~steffen/mrbs.png\" rel=\"nofollow\">http://davis.kommwiss.fu-berlin.de/~steffen/mrbs.png</a></p>\n<p>strange behavior: after restarting apache, the first request<br/>\nworks without any problems, the rest doesn't work!<br/>\nclearing the cache of my browser doesn't help. </p>\n<p>using:<br/>\nMRBS 1.2-pre1 (and same with v1.1 !)<br/>\non Debian Woody<br/>\nApache/PHP 4.1.2</p>\n<p>any suggestion?</p>\n<p>-- <br/>\ncheers,<br/>\nsteffen</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Do you use PHP Accelerator?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=905199</p>\n<p>thanks for the quick hint. i'm using APC and that's it!<br/>\nremoving the APC extension from php.ini and restarting<br/>\napache have solved the problem.<br/>\nso, i need to find a way to switch the accelerator off for<br/>\nthe MRBS or is there a workaround to run MRBS with APC?</p>\n<p>-- <br/>\ncheers,<br/>\nsteffen</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Sorry, I have no clue about how to run mrbs with APC or <br/>\nanother cache system because I don't use them. I only <br/>\nheared some problems like yours with them. Perhaps you can <br/>\ntry to upgrade APC or see if you can exclude some directories.</p>\n<p>If you have no new comments, I will close this tracker, since <br/>\nit is not related to mrbs and i am not able to help you <br/>\nanymore.</p>\n<p>Thanks for using mrbs.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=905199</p>\n<p>a hint about php accelerators in the readme / install file<br/>\ncould be helpful.<br/>\nthanks for providing mrbs.</p>\n<p>-- <br/>\ncheers,<br/>\nsteffen</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/81/", "title": "#81 Problem with noon events", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Events added at 12:00 PM get changed to 12:00 AM the <br>\nnext day.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>What mrbs version do you use?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=682865</p>\n<p>I am using MRBS 1.1 Final</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>This has been fixed in 1.2-pre1. Try to upgrade, since there <br/>\nare many other bug fix, or apply this differences :</p>\n<p>2c2<br/>\n&lt; // $Id: edit_entry_handler.php,v 1.11 2003/04/09 20:10:15 <br/>\nthierry_bo Exp $</p>\n<hr/>\n<p>&gt; // $Id: edit_entry_handler.php,v 1.9 2003/03/05 05:12:16 <br/>\nthierry_bo Exp $<br/>\n64c64<br/>\n&lt;       if (isset($ampm) &amp;&amp; ($ampm == \"pm\") &amp;&amp; ($hour&lt;12))</p>\n<hr/>\n<p>&gt;      if (isset($ampm) &amp;&amp; ($ampm == \"pm\"))<br/>\n68,71d67<br/>\n&lt;       if (isset($ampm) &amp;&amp; ($ampm == \"am\") &amp;&amp; ($hour&gt;11))<br/>\n&lt;       {<br/>\n&lt;         $hour -= 12;<br/>\n&lt;       }</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/80/", "title": "#80 Cannot go to next date", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When I click on next next arrow, it won't go to next <br>\ndate.  it stays on today's date.  However, the link in the <br>\naddress bar shows that it is july 20th but the page stays <br>\non July 18th (today's date).<br>\nand also I get an error when I click on the booking</p>\n<p>You have an error in your SQL syntax near '' at line 19</p>\n<p>Please help.</p>\n<p>Thanks<br>\nPankaj</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>it seems you have a recent php distribution where the default <br/>\nregister_global directive changed from on to off.</p>\n<p>Edit you php.ini and change back this directive to on.</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/79/", "title": "#79 German - Help not working", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello</p>\n<p>When I run MRBS in German, I don't get the help displayed.</p>\n<p>It just shows up this Error message:</p>\n<p>Warning: main(site_faqsite_faq.html.html): failed to<br>\nopen stream: No such file or directory in<br>\n/home/volidata/public_html/espoir/help.php on line 34</p>\n<p>Warning: main(): Failed opening<br>\n'site_faqsite_faq.html.html' for inclusion<br>\n(include_path='.:/usr/local/lib/php') in<br>\n/home/volidata/public_html/espoir/help.php on line 34</p>\n<p>My workaround was to rename the English Helpfile to the<br>\nname what help.php generates -<br>\nsite_faqsite_faq.html.html This way I get it displayed.</p>\n<p>One day I will maybe make a Translation to german of<br>\nthis Manual. But I'm actually busy with translating for<br>\nsome other Project...</p>\n<p>Regards</p>\n<p>Casper</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>you got this message because you entered the name of the <br/>\nfaq file in config.inc like this :</p>\n<p>$faqfilelang = \"site_faq.html\";</p>\n<p>You DON'T need to enter any string to use the default english <br/>\nhelp file, just leave the default line ....= \"\"; This is only for <br/>\nadditional help files. If you write a 'site_faq_de.html' help file, <br/>\nI will be happy to add it to MRBS.</p>\n<p>Thierry Bothorel</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/78/", "title": "#78 When booking at 12:00PM, it is actually booked at 12:00AM", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When doing booking at 12:00PM, the system actually <br>\nbooked at 12:00AM.</p>\n<p>danll@hotmail.com</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>This happens for all bookings with the start hour of 12. </p>\n<p>This situation only happen when the display time forma tis 12-<br/>\nhour format.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Normally fixed in CVS (see here <br/>\n<a href=\"http://sourceforge.net/tracker/index.php?\">http://sourceforge.net/tracker/index.php?</a><br/>\nfunc=detail&amp;aid=710227&amp;group_id=5113&amp;atid=105113)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Normally fixed in CVS (see here <br/>\n<a href=\"http://sourceforge.net/tracker/index.php?\">http://sourceforge.net/tracker/index.php?</a><br/>\nfunc=detail&amp;aid=710227&amp;group_id=5113&amp;atid=105113)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Normally fixed in CVS (see here <br/>\n<a href=\"http://sourceforge.net/tracker/index.php?\">http://sourceforge.net/tracker/index.php?</a><br/>\nfunc=detail&amp;aid=710227&amp;group_id=5113&amp;atid=105113)</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/77/", "title": "#77 Security", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>It could be usefull to have the file config.inc renamed to <br>\nconfig.inc.php. In fact, imagine <br>\n<a href=\"http://x.x.x.x/mrbs/config.inc\" rel=\"nofollow\">http://x.x.x.x/mrbs/config.inc</a> and I can see the whole <br>\nfile.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Yes, this is true, I think I will change this some day, but you <br/>\nhave to consider this as a basic security for bad configured <br/>\nweb server. A well configured Apache server display a blank <br/>\npage for .inc files. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/76/", "title": "#76 Allowing blank (space) booking descriptions", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Users are able to input a space in the booking<br>\ndescription.  This makes MRBS display the booking on<br>\nthe calendar as ''.  An admin or the creator of the<br>\nbooking cannot click the slot to edit the booking as<br>\nthere is no hyperlink.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Fixed. As I don't know your mrbs version, find the line <br/>\nbegining with a - (~lind 173) and change it to the + lines :</p>\n<h1 id=\"index-webedit_entryphp\">Index: web/edit_entry.php</h1>\n<p>=====================<br/>\nRCS file: /cvsroot/mrbs/mrbs/web/edit_entry.php,v<br/>\nretrieving revision 1.17<br/>\ndiff -u -r1.17 edit_entry.php<br/>\n--- web/edit_entry.php  29 May 2003 07:25:57 -0000<br/>\n    1.17<br/>\n+++ web/edit_entry.php  12 Aug 2003 15:46:34 -0000<br/>\n@@ -173,7 +173,8 @@<br/>\n // do a little form verifying<br/>\n function validate_and_submit ()<br/>\n {<br/>\n-  if(document.forms<span>[\"main\"]</span>.name.value == \"\")<br/>\n+  // null strings and spaces only strings not allowed<br/>\n+  if(/(^$)|(^\\s+$)/.test(document.forms<br/>\n<span>[\"main\"]</span>.name.value))<br/>\n   {<br/>\n     alert ( \"&lt;?php echo $vocab<br/>\n<span>['you_have_not_entered']</span> . '\\n' . $vocab<span>['brief_description']</span> ?<br/>\n&gt;\");<br/>\n     return false; </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/75/", "title": "#75 All day booking misbehaves if a day extends beyond midnight", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If you set up MRBS so that a day extends beyond<br>\nmidnight, by using the eveningends_minutes setting,<br>\nall-day booking follows the date instead of one<br>\ncontinuous day.</p>\n<p>For example, I set the following:<br>\n$resolution = 3600;<br>\n$morningstarts = 11;<br>\n$eveningends   = 23;<br>\n$eveningends_minutes = 120;</p>\n<p>So a continuous day is 11AM-2AM.  When I book all-day,<br>\nMRBS books midnight to 2AM, 11AM-midnight on that day,<br>\ninstead of the continuous block of 11AM-2AM.  The way<br>\nMRBS does it does not seem logical.</p>\n<p>Is there a way to fix this?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>All day booking will book all 24 hours of that day, so for your <br/>\nexample you will see now 11am to 11:59pm.</p>\n<p>But I admit mrbs does not handle 'working' days that go <br/>\nbeyond midnight. In your example, if Friday 31 october is <br/>\ndidplayed, 2am should be Saturday 1st Nov, but for mrbs it is <br/>\n2am Friday 31 october.</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Hi Thierry</p>\n<p>One possible option would be to add a setting<br/>\n($all_day_uses_booking_day) that would allow an adminstrator<br/>\nthe option of saying that an \"All Day\" event runs from the<br/>\nstart of the day ($am7) to the end of the last slot ($pm7)<br/>\nwith a warning that if the start and end times are changed<br/>\nthen all previously booked all day events may not appear as<br/>\nsuch.</p>\n<p>This would a couple of simple changes to config.ini.php and<br/>\nedit_entry_handler.php</p>\n<p>Your thoughts?</p>\n<p>Regards</p>\n<p>Gavin</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>sorry, I missed your comment.</p>\n<p>Yes, there is two issues here:<br/>\n- considering all day as all \"working day\". This can be set as <br/>\nyou said<br/>\n- but if working day extends beyond midnight, mrbs does not <br/>\nproperly handle this.</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=77869</p>\n<p>Thierry</p>\n<p>On your second point, MRBS will not handle it nicely but it<br/>\ncan be made to handle it in the same way as this person has<br/>\nmanaged to extend his working day till 2am the following<br/>\nday.  This is because 'mktime' will do the necessary maths<br/>\nto calculate the correct time stamp.  So changing<br/>\nedit_entry_handler.php, around line 57, to include lines<br/>\nsuch as the following should fix the problem.</p>\n<p>$starttime = mktime($morningstarts, 0, 0, $month, $day  ,<br/>\n$year, is_dst($month, $day  , $year));<br/>\n$endtime   = mktime($eveningends, $eveningends_minutes, 0,<br/>\n$month, $day+1, $year, is_dst($month, $day+1, $year));</p>\n<p>However, this will need to be fitted in with Jean-Francois's<br/>\nsuggested  change to how selecting all day is handled on the<br/>\nentry page.  His changes may negate the need to handle all<br/>\nday bookings as a special case.</p>\n<p>Just my thoughts</p>\n<p>Gavin.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>OK, so we have wait and think about this after JFL new code.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Well,</p>\n<p>I think we have not to wait any more, so I added Gavin fix.</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/74/", "title": "#74 Repeat bookings don't work", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Repeat bookings don't seem to work at all. No errors<br>\nlogged,<br>\nno entries added. All required fields on the \"Add Entry\"<br>\npage are entered.</p>\n<p>Currently using mrbs from cvs, but I believe the problem<br>\nappeared either with 1.1 or 1.0. php is 4.3.x, I can supply<br>\nmore details if required.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>Yes, as there are many options of this page, I need to know <br/>\nexactly what was your screen before submitting (jpeg file is <br/>\ngood) and what you wanted to do exactly.<br/>\nAlso : operating system, web server, database engine, php <br/>\nversion, mrbs version (recent from cvs?).</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=28904</p>\n<p>Server runs Solaris 8/SPARC, recommended patches from<br/>\n06/01/03. Apache is 1.3.27, php 4.3.2; mrbs from yesterday's<br/>\ncvs, about 1pm IST; db is mysql. Client browsers are mozilla<br/>\non SPARC (as shown in attached files), and IE on W2k.</p>\n<p>Attached a .tar.gz file with two png images. The first one shows<br/>\nthe entry form with all desired values entered:  a booking for<br/>\nWed 9th July, 12:00, Main Conference Room, to repeat<br/>\nweekly until Wed, 10th Dec 2003. The second image<br/>\nshows the resulting page after \"save\".</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Two pngs showing entry form and result</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>It works for me with the same cvs version. I tried with : </p>\n<p>Linux 2.4.21-0.13mdk - MySQL 4.0.11a-gamma - PHP: 4.3.2RC4 - <br/>\nApache 2.0.46 - Konqueror 3.1.0 </p>\n<p>Windows98SE -  MySQL 3.23.53 - PHP: 4.2.2 - Apache 1.3.27 - <br/>\nMozilla 1.2.2 and IE 5.5. </p>\n<p>Seems a bit strange since non repeating entries works for you. <br/>\nDo you have changed anything in mrbs except config.inc? <br/>\nCould you send me you php.ini and config.inc?  </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>I tried with your php.ini (recommended version) and your <br/>\nconfig.inc on my linux box (the closest to your's) and it works <br/>\nwell again.</p>\n<p>Are you sure all your files are to the same cvs level? I say <br/>\nthat because your config.inc file is 4 months old and the last <br/>\nversion is 7 weeks old, perhaps this is the same for other files.</p>\n<p>The downside of php.ini recommended (production) version is <br/>\nthat it hides all errors messages (blank screen), exept if you <br/>\nenter a log file. I recommend you to try php.ini-dist version <br/>\nand to change the line :<br/>\nerror_reporting  =  E_ALL &amp; ~E_NOTICE<br/>\nto<br/>\nerror_reporting  =  E_ALL<br/>\nso that all errors messages will be displayed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=28904</p>\n<p>Yes, they are all at the same cvs level, I did a fresh checkout.<br/>\n(I did a fresh checkout because cvs update didn't, and still<br/>\n doesn't work:<br/>\ncvs up -Pd<br/>\ncvs <span>[update aborted]</span>: end of file from server (consult above<br/>\nmessages if any)<br/>\n)</p>\n<p>The config file should make no difference - the only difference<br/>\nto the cvs version is the cvs tag line, plus local<br/>\ncustomisations.</p>\n<p>I copied over php.ini-dist and made that change, now<br/>\nnetscape tells me there's a javascript error, to be viewed via<br/>\nthe \"javascript:\" url. Result</p>\n<p>JavaScript Error:<br/>\n<a href=\"http://library.nmrc.ucc.ie/mrbs/edit_entry.php?area=1&amp;amp;room=1&amp;amp;hour=12&amp;amp;minute=00&amp;amp;year=2003&amp;amp;month=07&amp;amp;day=9\" rel=\"nofollow\">http://library.nmrc.ucc.ie/mrbs/edit_entry.php?area=1&amp;room=1&amp;hour=12&amp;minute=00&amp;year=2003&amp;month=07&amp;day=9</a>,<br/>\nline 129:</p>\n<p>document.forms.main.id has no properties. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hmm, that strange, this is another problem. The php.ini <br/>\nchange should have nothing related to a javascript error. The <br/>\nblank page was after submitting the repeating entry. Does the <br/>\njavascript error prevent you to come to the point where the <br/>\nblank page was displayed, so that we can't see the php errors <br/>\nwe want to see?</p>\n<p>At which point is your javascript error? <br/>\n-&gt; when you enter the edit_entry page?<br/>\n-&gt; when you submit your form on this page?</p>\n<p>Is this javascript error displayed both in Netscape and Mozilla?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=28904</p>\n<p>Hhm, forget the Javascript error - should have stuck to the same<br/>\nbrowser I've been using all along ...<br/>\nWith mozilla, there is no Javascript error, in fact, there<br/>\nare no<br/>\nerrors at all (neither in the browser or the apache logs).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>So you always have the blank screen with no errors with the <br/>\nnew php.ini?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=28904</p>\n<p>That's right.</p>\n<p>I don't know what else to try :-/</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Sorry, but me too. As I have never seen this error with other <br/>\nmore \"common\" systems (linux - win32), I think this may be a <br/>\nphp bug on Sparc.<br/>\nIf errors (if any) can't be displayed, perhaps they can be <br/>\nlogged. Try in your php.ini, ; Error handling and logging ; <br/>\nsection :</p>\n<p>error_reporting  =  E_ALL<br/>\ndisplay_errors = On<br/>\ndisplay_startup_errors = On<br/>\nlog_errors = On<br/>\nerror_log = your_unix_path_to_your_phperror_logfile</p>\n<p>and open this errorlog file after displaying the blank page.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=28904</p>\n<p>I just revisited the issue and had an idea: maybe the<br/>\nbooking doesn't<br/>\nwork because some of the scheduled times/dates/rooms clash with<br/>\nexisting bookings? Would it be possible to get some form of<br/>\nwarning<br/>\nif such a situation arises (if the software doesn't already)?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=28904</p>\n<p>Hhm, that doesn't seem to be relevant - just tried a test<br/>\ncase that<br/>\ndefinitely had no clashes.</p>\n<p>There are absolutely no error messages, neither apache's nor<br/>\nphp's.<br/>\nI need some way to debug what's actually happening.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/73/", "title": "#73 edit vs add entry for new booking", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,  </p>\n<p>Running MRBS on OS X (10.2.6), Apache 1.3.27 (Darwin), and <br>\nphp 4.3.0 </p>\n<p>Always get \"edit entry\" even when adding an entry.  Fixed by <br>\nchanging line 143 of edit_entry.php from $id=0; to unset($id);</p>\n<p>regards,</p>\n<p>Ian Duncan<br>\ni.duncan@uq.edu.au</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/72/", "title": "#72 URGENT:  Software broke when booking at 12 noon", "status": "closed", "labels": "MRBS (195)", "priority": "7", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>This is upgraded MRBS to latest version.</p>\n<p>This problem is pretty serious, one of the things people <br>\nbook around here are lunches -- if we book a room at <br>\n12pm, it goes to 12 am.  Please someone find a fix for <br>\nthis.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>what is 'latest' version for you, mrbs1.1 or the cvs ?</p>\n<p>Try to set 'register_global' from 'off' to 'on' in php.ini.</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=645746</p>\n<p>Version 1.1<br/>\nregister_global is already 'on' -- we'd had MRBS up but not in <br/>\nuse prior to upgrade to 1.1.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Try to replace edit_entry_handler.php file by this attached one.</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=645746</p>\n<p>Used your entry_handler file, still have the same problem.<br/>\nAny other suggestions would be appreciated.  Meanwhile, I've <br/>\nleft a note for users to select am for Noon entries.  (makes <br/>\nme /us sound like sloppy programmers, eh?)  I'm actually not <br/>\na coder, otherwise I might see where the problem is.</p>\n<p>Phil</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>This attached file should fix your problem (booking works), <br/>\neven if the displayed time need to be corrected  in other <br/>\nscreens.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Well,</p>\n<p>I finally got it in a proper way !</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Use this file instead, previous one was modified against the <br/>\nlatest version, which will introduce other bugs if you use it <br/>\nwith you release.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Use this file instead, previous one was modified against the <br/>\nlatest version, which will introduce other bugs if you use it <br/>\nwith you release.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=645746</p>\n<p>Closed before I could test ...now there are only two files... <br/>\nwhat do you want me to download, I thought you had <br/>\nuploaded edit_entry, but I don't see it now.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Only one now !<br/>\nFirst one 'edit_entry) is no necessary.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=645746</p>\n<p>Interesting.  I used the file you provided; Now whether a.m. or <br/>\np.m., the booking registers at 12noon (pm).  Tried both am &amp; <br/>\npm several times.</p>\n<p>any other thoughts?  This is great improvement, as we will <br/>\nseldom if ever book a midnight event, but i would like to get it <br/>\nworking correctly.</p>\n<p>phil</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Do you want so zip or tgzip your mrbs directory and send it <br/>\nto thierry_bo@users.sourceforge.net to be sure I have the <br/>\nsame code, because I definitely don't have the same behavior <br/>\non my system.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>I feel sorry because I can't reproduce the bug even with your <br/>\nfiles. I copied your files to my web directory (for me, archives <br/>\njoined in your two mails are identical), without changing <br/>\nanything except db host and db passwords, and it works like <br/>\na charm.<br/>\nThis let me believe that it is not a bug related to Mrbs, but <br/>\neither to webserver configuration, php version, php <br/>\nconfiguration. I'm using php 4.2.2. The last thing I can try is to <br/>\nuse the same php version as yours, with the same php.ini <br/>\nfile. The only thing I can't reproduce is you webserver/OS, I <br/>\nsuppose you are using linux/apache ?</p>\n<p>&gt;&gt;<br/>\n&gt;Now:  am or pm create noon booking.</p>\n<p>Do you mean that whatever hour your select, the entry begin <br/>\nat 12:00 ?<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;Aside Question:  are there utilities / programs that code <br/>\nthese php pages,<br/>\n&gt;or are they written from scratch?<br/>\n&gt;<br/>\nFrom scratch</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Phil,</p>\n<p>I feel sorry again because it works again. The only differences <br/>\nbetween us is the system ( mine is win32 + omnihttpd web <br/>\nserver). <br/>\nI use php 4.2.2 too and I replaced my php.ini with yours, <br/>\nchanging only things that prevents php to run on my system <br/>\nlike paths and 'cgi.force_redirect' set to 0. I have already your <br/>\nmrbs files including the new edit_entry_handler.php file.<br/>\nI this is an issue related to an Apache setting, i'm afraid I <br/>\ncan't help you about this any more.<br/>\nAre your mrbs pages on the internet, I'm curious to <br/>\nexperiment myself your problem ?</p>\n<p>&gt; This is redhat 8 with all latest updates, etc. from redhat, <br/>\nvery recent<br/>\n&gt; version of apache, etc.  Thanks for your help and <br/>\nconsideration!<br/>\n&gt; <br/>\n&gt; Here's my php.ini (attached).<br/>\n&gt; <br/>\n&gt; /usr/bin/php -v yields 4.2.2<br/>\n&gt; <br/>\n&gt; it is a LAMP system...linux apache mysql php<br/>\n&gt; how can I find out my php version?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=783306</p>\n<p>I also have the problem and discovered the solution. I was<br/>\nable to discover via the Search that an entry created with a<br/>\nnoon start time was mangled to start at midnight on the next<br/>\nday. The key here is that I am running with<br/>\n$twentyfourhour_format = 0. I took at look at<br/>\nedit_entry_handler.php and found the bug on line 65. 12pm is<br/>\nnoon and 12am is midnight. So if the hour is 12pm (noon)<br/>\nthen it tries to add 12 which results in 24, thus midnight<br/>\nthe next day. So the \"if\" line  should really include an<br/>\nadditional check that $hour is not 12. It works fine as is<br/>\nif hour is 1pm to 11pm, but not 12pm.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Thanks marcelk4, that's what I did to fix this (see <br/>\n<a href=\"http://cvs.sourceforge.net/cgi-\">http://cvs.sourceforge.net/cgi-</a><br/>\nbin/viewcvs.cgi/mrbs/mrbs/web/edit_entry_handler.php.diff?<br/>\nr1=1.9&amp;r2=1.11), but this did not worked fot Phil Lewis, so I <br/>\nlet this bug opened.</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=645746</p>\n<p>Thierry_bo solved this for me a long time ago by sending me <br/>\na replacement for...what did you send me, TB?  It's been so <br/>\nlong ago, I'm going to guess edit_entry and another file or <br/>\ntwo.  Thanks TB!  Other bug answers, esp. marcelk4 were <br/>\ninteresting, haven't had time to follow up / edit.  </p>\n<p>peace out.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/71/", "title": "#71 Software broke when booking at 12 noon", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When you book a room from 12 noon to 1 pm the <br>\nbooking does not show up on screen. If you try to <br>\nrebook the room you get the error that it is already <br>\nbooked. If you edit the booking you see the start time is <br>\n12:00:00 AM the duration is 1 hr but the end time is <br>\nwrong, it says 01:00:00 AM<br>\nAs the booking does not show, the users are booking <br>\nand overlapping this sour spot and is causing lots of <br>\npain. You can delete the booking as a work around but <br>\nyou are still left with the problem.<br>\nYou can also book across this time and it works but if <br>\nyou edit the booking to that one hour it vanishes. <br>\nI am using the latest version with the 12 hour clock and <br>\nhave it configed for half hour increments.<br>\nI would think it has something to do with the end time <br>\nbeing 01:00:00 AM and not PM</p>\n<p>Ver. mrbs-1.1<br>\nDatabase: MySQL 3.23.49-nt <br>\nSystem: Linux raq4-build.cobalt.com 2.2.14C11 #2 Wed <br>\nJun 28 00:55:51 PDT 2000 i586 unknown <br>\nPHP: 4.0.6 </p>\n<p>Thanks for the wonderful Software<br>\nGil</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>see this bug tracker : <br/>\n<a href=\"http://sourceforge.net/tracker/index.php?\">http://sourceforge.net/tracker/index.php?</a><br/>\nfunc=detail&amp;aid=710227&amp;group_id=5113&amp;atid=105113</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/70/", "title": "#70 You cannot delete recursive bookings...", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>unless you are an admin.</p>\n<p>We are using the board to book meetings with some of <br>\nthem being recursive.  To remove a single meeting from <br>\nthe recursive group, you have to be an admin.  The user <br>\nwho set up the recursive meeting can delete the first <br>\ninstance, but not the 2nd, or 3rd, etc.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>I am not able to reproduce what happening. And you don't <br/>\nhave to be an admin to edit/remove an entry that own to you.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=719379</p>\n<p>Scrap this ticket pls, it has been created in error.  I know <br/>\nwhat the problem was now.</p>\n<p>We are using IP as authentication, which works really well for <br/>\ndesktop PC's using DHCP because they hardly ever change, <br/>\nbut the laptop users IP address does change.  A laptop user <br/>\nwas the problem.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/69/", "title": "#69 ldap_search for user dn", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I wrote a few lines in auth_ldap.inc to find the dn for<br>\na user. At the moment this is hard coded:<br>\n$dn = \"cn=\" . $user . \",\" . $ldap_base_dn<span>[$i]</span>;</p>\n<p>I use uid=... for user accounts at my site. The patch<br>\nincluded does an anonymous bind first, tries to find<br>\nthe dn for the user and the binds to it with $pass.</p>\n<p>Everything else works like a charm. I can use a remote<br>\nldap server and mysql database server.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>patch to use ldap_search to find dn</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=696187</p>\n<p>forgot to attach the patch...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Thanks,</p>\n<p>this is in CVS</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/68/", "title": "#68 MRBS v1.1: help.php says MRBS 1.0-pre2", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>just downloaded mrbs-1.1</p>\n<p>version variable in help.php is set to \"MRBS 1.0-pre2\".</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/67/", "title": "#67 location of badpw.pl file", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I am trying to set up authentication using the badpw.pl <br>\nfile.  I have set up MRBS on a webserver (not local) and <br>\nam unable to do IP authentication as most users have <br>\nthe same IP address (through the firewall/router) to the <br>\nwebserver.  I can't seem to get the authentication <br>\nworking properly using \"./badpw.pl\"  - I think the issue is <br>\nthat config.inc cannot find the file.  I don't know the <br>\ncorrect syntax to put the correct path in, and I don't have <br>\nthe actual path for the whole web server (it is a <br>\ncommercial server holding many websites).  </p>\n<p>My config.inc file is located at <br>\n<a href=\"http://www.mywebsite.com/mrbs.\" rel=\"nofollow\">http://www.mywebsite.com/mrbs.</a>  I can place the <br>\nbadpw.pl file in this same folder or one level up or down <br>\nfrom it.  What is the correct syntax for the line?</p>\n<p>$auth<span>[\"prog\"]</span> = \"./badpw.pl\";</p>\n<p>Thank you in advance.</p>\n<p>Desiree</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=14772</p>\n<p>I have the same problem.   Server logs are showing:</p>\n<hr/>\n<h2 id=\"sh-line-1-1badpwpl-no-such-file-or-directory\">sh: line 1: 1/badpw.pl: No such file or directory</h2>\n<p>This was working prior to upgrading to PHP 4.3.0</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>I upgraded to MRBS Release 1.1 and am still experiencing <br/>\nthe same problem.<br/>\nDatabase: MySQL 3.23.49-nt <br/>\nSystem: Linux raq4-build.cobalt.com 2.2.14C11 #2 Wed Jun <br/>\n28 00:55:51 PDT 2000 i586 unknown <br/>\nPHP: 4.0.6 </p>\n<p>Any help would be appreciated.<br/>\nThank you in advance.<br/>\nDesiree</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>The file is not installed by default. Copy it from the arhive to you <br/>\nweb folder. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/66/", "title": "#66 12 hour format failures", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>when you submit the meeting between hours of 12 to 1 <br>\npm it is ok</p>\n<p>if you edit the meeting BUT not the time of it then save it<br>\nthe time is somehow changed to the wrong time</p>\n<p>this is mainly dealy with times between 12 and 1 pm<br>\nother times seem ok</p>\n<p>time is being changed to am on save and the pm time <br>\nthat was originally set is lost</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Use the patch here (https://sourceforge.net/tracker/index.php?<br/>\nfunc=detail&amp;aid=710227&amp;group_id=5113&amp;atid=105113), it <br/>\nworks, at least for me...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/65/", "title": "#65 version id need change", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>It is a minor but easy to fix issue.  </p>\n<p>&lt;?php</p>\n<h1 id=\"id-helpphpv-16-20030112-190356-thierry_bo-exp\">$Id: help.php,v 1.6 2003/01/12 19:03:56 thierry_bo Exp $</h1>\n<p>include \"config.inc\";<br>\ninclude \"$dbsys.inc\";<br>\ninclude \"functions.inc\";</p>\n<p>$mrbs_version = \"MRBS 1.0-pre2\";</p>\n<p>The version id is still 1.0 list for the 1.1 release.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Thanks<br/>\nFixed in cvs</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/64/", "title": "#64 not windows friendly", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hi,<br>\nI am new to php and develop in a windows environment <br>\nbefore uploading to linux server.  I know nothing about <br>\nlinux.</p>\n<p>Just thought I would share my story.</p>\n<p>When I saw mrbs i was very happy as it seemed to <br>\nprovide all the functionality I was after.  The first problem <br>\nhowever was downloading the .tar.gz file.  I had to <br>\nspend 30 minutes searching around for a program that <br>\ncan expand this and had to use 2 different programs.<br>\nOne for gaz, and then one for tar.  Not an encouraging <br>\nstart.</p>\n<p>So I unzipped the files into my web directory and I knew <br>\nI had to open \"install\" but there was no filename so it <br>\nwas hard to open easily.</p>\n<p>I read the instructions and it was very easy to setup the <br>\ndatabase using phpMyAdmin (which by the way is very <br>\ngood for windows and has very clear instructions and <br>\nnever any errors).</p>\n<p>I then went to the mrbs directory with my web browser <br>\nbut i got errors at the bottom of the page regarding <br>\nphp_self and querystring.  After searching around a little <br>\nI realised i had to enable register_globals in php.ini <br>\nwhich confused me because php.ini said this should be <br>\noff.  So anyway, I then imported the sample data and <br>\nwent and had another look.</p>\n<p>The calendar worked fine.  It looked very good!  When I <br>\nwent to book a room I got this error message within the <br>\ntext field for Number of weeks (for n-weekly) <br>\n\"&lt;br /&gt;&lt;b&gt;Notice&lt;/b&gt;:  Undefined variable:<br>\nrep_num_weeks in <br>\n&lt;b&gt;c:\\inetpub\\wwwroot\\mrbs\\web\\edit_entry.php&lt;/b&gt; on <br>\nline &lt;b&gt;355&lt;/b&gt;&lt;br /&gt;\"</p>\n<p>I tried to enter some info, hit submit and i got this error <br>\ninfo <br>\n\"Notice: Undefined variable: twentyfourhourformat in <br>\nc:\\inetpub\\wwwroot\\mrbs\\web\\edit_entry_handler.php on <br>\nline 61</p>\n<p>Warning: Cannot add header information - headers <br>\nalready sent by (output started at <br>\nc:\\inetpub\\wwwroot\\mrbs\\web\\edit_entry_handler.php:61)<br>\n in c:\\inetpub\\wwwroot\\mrbs\\web\\edit_entry_handler.php <br>\non line 176\"</p>\n<p>BUT, the room is still booked successfully.  I can see it <br>\nin the schedule and click on it.  Similar errors happen <br>\nwith I edit a booking. \"Notice: Undefined variable: <br>\ntwentyfourhourformat in <br>\nc:\\inetpub\\wwwroot\\mrbs\\web\\edit_entry_handler.php on <br>\nline 61</p>\n<p>Warning: Cannot add header information - headers <br>\nalready sent by (output started at <br>\nc:\\inetpub\\wwwroot\\mrbs\\web\\edit_entry_handler.php:61)<br>\n in c:\\inetpub\\wwwroot\\mrbs\\web\\edit_entry_handler.php <br>\non line 176\"</p>\n<p>If I click on ADMIN if I am not on localhost i get these <br>\nerror messages \"Notice: Undefined variable: area in <br>\nc:\\inetpub\\wwwroot\\mrbs\\web\\admin.php on line 20</p>\n<p>Warning: Cannot add header information - headers <br>\nalready sent by (output started at <br>\nc:\\inetpub\\wwwroot\\mrbs\\web\\admin.php:20) in <br>\nc:\\inetpub\\wwwroot\\mrbs\\web\\functions.inc on line 27</p>\n<p>Warning: Cannot add header information - headers <br>\nalready sent by (output started at <br>\nc:\\inetpub\\wwwroot\\mrbs\\web\\admin.php:20) in <br>\nc:\\inetpub\\wwwroot\\mrbs\\web\\functions.inc on line 28\"</p>\n<p>But, the admin seems to work fine from localhost.</p>\n<p>I work in japan so I need to be able to input japanese <br>\ntext.  This doesnt work (see bug report I did before).</p>\n<p>Also, I would like to be able to change the colours, stick <br>\nin logos etc but I couldnt find where I can change this <br>\ninformation.  I looked in a few files but it wasnt clear <br>\nwhere I can change it.</p>\n<p>THis is my first time to post here, so I hope I am not <br>\nbreaking any conventions or whatever.  Also, I am really <br>\nsupportive of all of this, and I hope to migrate from cold <br>\nfusion/windows to php/macosX.</p>\n<p>So just generally there seems to be problems with <br>\nwindows.  Has anyone tested on mac os X?  </p>\n<p>Anyway, everything looks great.  I hope my experience <br>\nhas been interesting for someone.  I hope soon I can <br>\novercome these problems and really get into this <br>\napplication.  Would be great to see testing on windows, <br>\nzip downloads of the files, and options to customise <br>\nlooks.</p>\n<p>Server:<br>\nwin2000 Server<br>\nIIS 5<br>\nPHP Version 4.2.1 <br>\nSystem Windows NT 5.0 build 2195 <br>\nBuild Date May 12 2002 23:51:56 <br>\nServer API CGI <br>\nVirtual Directory Support enabled <br>\nConfiguration File (php.ini) Path C:\\WINNT\\php.ini <br>\nDebug Build no <br>\nThread Safety enabled </p>\n<p>Browser:<br>\nwinxp<br>\nie 6</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Hi,</p>\n<p>About tar.gz files. I am surprized. I unzip tar.gz files with <br/>\nWinzip without any problem.</p>\n<p>About php_self and querystring errors, a patch to make <br/>\nMRBS compliant to register_global=off directive is currently <br/>\nunder tests. This is only the recommended default settings <br/>\nsince PHP 4.2.</p>\n<p>About all your notice errors \"undefined variable\" : these are <br/>\nthe least degree of gravity in PHP and don't stop the code, <br/>\nand these errors are NOT displayed with a default PHP <br/>\ninstallation. To see these notices, you had to change this <br/>\ndirective to show all errors, that is not recommended for a <br/>\nproduction site, only for development.<br/>\nWorst, displaying these errors CAN break the code, whereas <br/>\nall works fine if you d'on't display them.</p>\n<p>twentyfourhourformat error is a typo error and has been fixed <br/>\nand will be included in the next release.</p>\n<p>Regards</p>\n<p>thierry_bo</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/63/", "title": "#63 Japanese text encoding problem", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When entering japanese text it gets displayed as <br>\n&amp;#26085;&amp;#26412;&amp;#35486;</p>\n<p>Could everything be converted to unicode to make this <br>\napp truly multi-lingual and il8n funky?</p>\n<p>I also got a bunch of other errors on inserts/updates etc <br>\netc.  I will post later</p>\n<p>Server:<br>\nPHP Version 4.2.1<br>\nSystem Windows NT 5.0 build 2195 <br>\nServer API CGI <br>\nVirtual Directory Support enabled </p>\n<p>Browser:<br>\nwinxp<br>\nie6</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Did you tried to set the lang file to the japanese one in <br/>\nconfig.inc ? It include the character set to use.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>MRBS now has full Unicode support in CVS, with all text<br/>\nbeing served and stored in the database in Unicode (UTF-8).</p>\n<p>I'll take this until the new code is in a proper release and<br/>\nconsidered to be working.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=71843</p>\n<p>I'm going to call this fixed now. Either use MRBS 1.2-pre3 or the soon to be released MRBS 1.2</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/62/", "title": "#62 request_uni under win.2000 (IIS)", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I can'n debug the request_uni under trailer.inc  I am <br>\nusing windows 2000 , with IIS.  I have treid the lines from <br>\nEllis Mendez, but  variable $lang couln't be recongnized.<br>\nanything else?<br>\nDoes anybody now, what I can do?</p>\n<p>greetings Jarek</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Fixed in CVS (Thu Jan 9 18:05:23 2003 UTC) . Don't know if <br/>\nalready changed in mrbs-1.1-pre2.tar.gz, otherwise in the <br/>\nnext release.<br/>\nReplace with &lt;a href=\"' . $PHP_SELF . '?' . <br/>\n$QUERY_STRING . '&amp;pview=1\"&gt;</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/61/", "title": "#61 Print Preview wrong link (1.1pre1)", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If you go to the Report functionality the link on the<br>\nPrint Preview is \".../report.php&amp;pview=1\". This is not<br>\na valid link.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>I think this is because the preview code in trailer.inc has been <br/>\ndesigned for url with parameters appended (..php?xxx=....). In <br/>\nso doing, the same page can be displayed.<br/>\nReport.php don't need to transfer any data to another page, <br/>\nso when you click for the report, no parameters are appended <br/>\nto the url.So if you click preview, you simply display a new <br/>\nreport.php with blank fields, loosing any previous inputs. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Fixed : see changes to the code here : <br/>\n<a href=\"http://cvs.sourceforge.net/cgi-\">http://cvs.sourceforge.net/cgi-</a><br/>\nbin/viewcvs.cgi/mrbs/mrbs/web/report.php.diff?r1=1.9&amp;r2=1.10</p>\n<p>TB</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/60/", "title": "#60 functions.inc v1.13 bug", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>These new lines in functions.inc v1.13 :</p>\n<p>header(\"Pragma: no-cache\");                          // HTTP <br>\n1.0<br>\n    header(\"Expires: Mon, 26 Jul 1997 05:00:00 <br>\nGMT\");    // Date in the past</p>\n<p>display the following errors in search.php (and perhaps <br>\nin other files) :</p>\n<p>Warning: Cannot add header information - headers <br>\nalready sent by (output started at <br>\nC:\\HTTPD\\HTDOCS\\mrbs\\search.php:22) in <br>\nC:\\HTTPD\\HTDOCS\\mrbs\\functions.inc on line 28</p>\n<p>Warning: Cannot add header information - headers <br>\nalready sent by (output started at <br>\nC:\\HTTPD\\HTDOCS\\mrbs\\search.php:22) in <br>\nC:\\HTTPD\\HTDOCS\\mrbs\\functions.inc on line 29</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>I've fixed this by changing search.php in CVS </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/59/", "title": "#59 Staff wants 12 hour clock", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I need to implement 12 hour clock.  I worked for hours<br>\ngetting this thing to work, and I love it.   Staff<br>\nsays, huh, pretty nice, but can't you make it a 12 hour<br>\nclock?\"  </p>\n<p>I hate saying \"no I can't,\"  so.... any ideas anyone?</p>\n<p>Phil Lewis<br>\nunsung hero</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=649717</p>\n<p>We have resorted to pasting a \"cheat sheet\" next to the <br/>\nmonitor. </p>\n<p>12-hour clock would be really nice!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=645746</p>\n<p>Solved with date(\"h:i a\",$t)  in day.php, week.php, <br/>\nmonth.php -- actually, in month, I eliminated the space <br/>\nbetween i and a, so in month, it's like date(\"h:ia, $t), i <br/>\nthink. I also added spaces around the tilde, like so \" ~ \" <br/>\nto make it more readable.</p>\n<p>In the edit_entry.php page, I put a disclaimer that <br/>\nthe \"database uses a 24 hour clock, so this page does<br/>\nalso, but the time indicated by the \"+\" you chose is <br/>\nreflected here.\"</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>done </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/58/", "title": "#58 Parse error, functions.inc ++", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Parse error: parse error, unexpected $ <br>\nin /var/www/html/mrbs/functions.inc on line 344</p>\n<p>Fatal error: Call to undefined function: <br>\nget_default_area() <br>\nin /var/www/html/mrbs/day.php on line 21</p>\n<p>I am so close to getting this set up, after lots of <br>\nwork, now this, any suggestions?  </p>\n<p>System:<br>\nApache 2.0.4 on RedH 8.0 (psyche)<br>\nphp 4.# that ships with psyche, latest<br>\nmysql 8.23</p>\n<p>Please help!  Thanks a bunch!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=645746</p>\n<p>RESOLVED:  REMEMBER TO:<br/>\nTHE USER IN CONFIG IN CONFIG.INC HAD INADEQUATE RIGHTS AND<br/>\n/OR WRONG PASS.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/57/", "title": "#57 events saved in wrong areas", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Using :</p>\n<p>Meeting Room Booking System - MRBS 1.1-pre1<br>\nDatabase: MySQL 3.23.49-log<br>\nSystem: Linux minbar 2.4.16-xfs #1 Fri Feb 8 23:46:11<br>\nCST 2002 i686 unknown<br>\nPHP: 4.1.2 </p>\n<p>When I go to edit a event that I've edited in one area.<br>\n It acts like it's in another area.  When I save the<br>\narea, it makes the change and the event gets moved from<br>\nthe area/room it was in to the other area/room.</p>\n<p>I can make events in any rooms, but when I go to change<br>\nthem they always get moved into the same area.  Can't<br>\nfix it.</p>\n<p>I also get an error when I try to save these edits:</p>\n<p>Warning: Invalid argument supplied for foreach() in<br>\n/home/web/scheduler/edit_entry_handler.php on line 112</p>\n<p>Warning: Invalid argument supplied for foreach() in<br>\n/home/web/scheduler/edit_entry_handler.php on line 140</p>\n<p>Warning: Cannot add header information - headers<br>\nalready sent by (output started at<br>\n/home/web/scheduler/edit_entry_handler.php:112) in<br>\n/home/web/scheduler/edit_entry_handler.php on line 169</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=649717</p>\n<p>We have the very same problem. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>fixed </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/56/", "title": "#56 Could not login after edit config.inc", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><h6></h6>\n<h6></h6>\n<h1 id=\"authentication-settings-read-authentication\">Authentication settings - read AUTHENTICATION</h1>\n<h6></h6>\n<h6></h6>\n<h1 id=\"ip-authentication-allows-any-user-to-create-bookings\">IP authentication allows any user to create bookings.</h1>\n<p>$auth<span>[\"realm\"]</span>  = \"MRBS\";<br>\n$auth<span>[\"type\"]</span>   = \"ext\";<br>\n$auth<span>[\"prog\"]</span>   = \"./badpw.pl\";<br>\n$auth<span>[\"params\"]</span> = \"#USERNAME# #PASSWORD#\";</p>\n<p>where must the change for access the useraccount <br>\nand the pass</p>\n<p>i have read the doc but it don't work</p>\n<p>please help me with this problem</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>-&gt; \"../badpw.pl\", not \"./badpw.pl\" </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/55/", "title": "#55 Substring of weekday !", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I am not sure if other country will encounter this.<br>\nHowever, for Chinese words, I need to change<br>\nmincals.inc<br>\n$fl = substr(strftime('%a',$show),0,1);<br>\nto<br>\n$fl = substr(strftime('%a',$show),2,2);<br>\nThat's because chinese words take two bytes and the<br>\nweekday info is in second part.</p>\n<p>Also, suggest use more bigger font as defined in<br>\nmrbs.css<br>\nto</p>\n<p>TD.calendar {border:0px; font-size: 10pt}<br>\nTD.calendarHeader {border:0px; font-size: 12pt}</p>\n<p>It looks more good ... </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Done </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>done </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/54/", "title": "#54 error in edit_entry.php", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When editing a room, the database value for the room is <br>\nnot passed so if the user doesn't reselect the room, it <br>\nproduces: Invalid argument supplied for foreach() <br>\nin /var/www/gwen/mrbs/edit_entry_handler.php on line <br>\n112</p>\n<p>Changing the code on line 243:  if ($row<span>[0]</span> == $room) <br>\nto  if ($row<span>[0]</span> == $room_id) seems to fix the problem </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>The problem is the Area_id, because the area_id is not <br/>\npassed on by the edit_entry_handler.php</p>\n<p>Because of this, you will see the rooms of the default area in <br/>\nyour selection list and non of them is selected when you want <br/>\nto edit an entry from a room outside your default area.</p>\n<p>To get around this, let the code find the area_id from your <br/>\nbooking:</p>\n<p>add the following code after line 68 ($rep_id      = $row<span>[8]</span>;) in <br/>\nedit_entry.php:</p>\n<p>$sql1 = \"select area_id from mrbs_room where id=$room_id\";<br/>\n    $res1 = sql_query($sql1);<br/>\n    if (! $res1) fatal_error(1, sql_error());<br/>\n    if (sql_count($res1) != 1) fatal_error(1, \"Room ID <br/>\n$room_id not found\");</p>\n<div class=\"codehilite\"><pre><span></span>$row1 = sql_row($res1, 0);\nsql_free($res1);\n\n$area = $row1[0];\n</pre></div>\n<p>This will put the area_id of your booking in $area.</p>\n<p>Hope this will help others.</p>\n<p>Marcel</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>fixed </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/53/", "title": "#53 LDAP Authentication Bug", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Basically here is the long and short of it.</p>\n<p>LDAP authentication only works when the LDAP and MRBS install <br>\nare on the same machine. If you are trying to authenticate to <br>\nanother machine the admin page comes back completely blank.</p>\n<p>Very interesting.</p>\n<p>OpenLDAP 2.0.23 I think<br>\nPHP 4.1.2<br>\nOSX<br>\nMRBS 1.0<br>\nMySQL 23.49</p>\n<p>Any help appreciated or a fix</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1006722</p>\n<p>Have you got the php4-ldap module installed.  I was having<br/>\nthis problem installed the module and it worked.</p>\n<p>Andrew Sidebottom</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=1031929</p>\n<p>I had problems with ldap authentication too</p>\n<p>the problem was: <br/>\nMRBS uses \"cn\" as login for authentication, and I needed \"uid\" <br/>\ninstead. </p>\n<p>the solution is:<br/>\nedit \"auth_ldap.inc\" line 40:<br/>\n$dn = \"cn=\" . $user . \",\" . $ldap_base_dn<span>[$i]</span>;<br/>\nchange it to:<br/>\n$dn = \"uid=\" . $user . \",\" . $ldap_base_dn<span>[$i]</span>;</p>\n<p>I guess making this value configurable in config.inc.php would <br/>\nsave some trouble for some people in the future.</p>\n<p>nghtwsh</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/52/", "title": "#52 problem in add entry", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When I try to add an entry i have a javascript error,<br>\nany idea ?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=66896</p>\n<p>I have seen this as well:<br/>\nSubject: <br/>\nnetscape 4.7 bug in MRBS 1.1-pre1<br/>\nDate: <br/>\n15 Aug 2002 14:27:24 -0400<br/>\nI verified this in netscape 4.7 on Win and<br/>\nnetscape 4.76 on Solaris.  The problem does not<br/>\nhappen in several of the unix based mozilla browsers<br/>\nI have tried(mozilla, galeon)</p>\n<p>When you are creating a booking, the <br/>\nsubmit fails with a javascript error.<br/>\nTyping javascript: into the URL bar yields<br/>\nthis error message:<br/>\nJavaScript Error:<br/>\n&lt;YourUrl&gt;edit_entry.php?area=1&amp;room=15&amp;hour=01&amp;minute=00&amp;year=2002&amp;month=08&amp;day=15,<br/>\nline 128:<br/>\ndocument.forms.main.id has no properties. </p>\n<p>The code that causes this appeared between versions<br/>\n 1.1.2.2 and  1.7 of edit_entry.php.  The offending<br/>\nlines of code are L181-188<br/>\n  i1 = parseInt(document.forms<span>[\"main\"]</span>.id.value);<br/>\n  i2 = parseInt(document.forms<span>[\"main\"]</span>.rep_id.value);<br/>\n  n = parseInt(document.forms<span>[\"main\"]</span>.rep_num_weeks.value);<br/>\n  if ((!i1 || (i1 &amp;&amp; i2)) &amp;&amp; document.forms<span>[\"main\"]</span>.rep_type &amp;&amp;<br/>\ndocument.forms<span>[\"main\"]</span>.rep_type<span>[6]</span>.checked &amp;&amp; (!n || n &lt; 2))<br/>\n  {<br/>\n    alert(\"You have not entered a\\nuseful n-weekly value.\");<br/>\n    return false;<br/>\n  }</p>\n<p>Not being a javascript guy, I'm unsure about the problem<br/>\nthough I believe that the form does not have an id <br/>\nvariable.</p>\n<p>Can anyone with a 4.7 browser verify this on<br/>\nMRBS.1.1-pre1?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>Nor error in Mozilla, IE, Konqueror </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/51/", "title": "#51 PHP error on edit", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>On the pre release version of 1.1, when editing a <br>\nmeeting, you receive errors.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=171883</p>\n<p>If this is when submitting the edited entry, the problem is <br/>\nbecause the room the meeting is in is not selected in the <br/>\nroom list (and undefined when submitted).  </p>\n<p>I added the following code to the edit_entry.php to fix this <br/>\naround line 387 just above if ($entry_type &gt;= 1):</p>\n<h1 id=\"editing-an-entry-room-is-not-defined-not-in-qs-but-is\">Editing an entry, $room is not defined (not in qs) but is</h1>\n<h1 id=\"needed-below-to-select-room-in-room-list-so-we-set-it-here\">needed below to select room in room list, so we set it here</h1>\n<h1 id=\"from-the-db\">from the db</h1>\n<p>$room = $room_id;</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>The problem is that the area id gets lost between <br/>\nview_entry.php and edit_entry.php.</p>\n<p>In edit_event.php, change the SQL statement beginning with <br/>\nline 42 to read:<br/>\n          $sql = \"select mrbs_entry.name, rbs_entry.create_by,<br/>\nmrbs_entry.description, mrbs_entry.start_time, <br/>\nmrbs_entry.end_time - mrbs_entry.start_time, <br/>\nmrbs_entry.type, mrbs_entry.room_id, <br/>\nmrbs_entry.entry_type, mrbs_entry.repeat_id, <br/>\nmrbs_room.area_id from mrbs_entry, mrbs_room where <br/>\nmrbs_entry.id=$id and mrbs_room.id=mrbs_entry.room_id\";</p>\n<p>This allows the SQL to pull the area id from the table as well.</p>\n<p>Add a new line (now at line 71) after $rep_id = $row<span>[8]</span>;:</p>\n<p>$area = $row<span>[9]</span>;</p>\n<p>To have the current room selected automatically, change <br/>\n$room to $room_id on what is now line 245.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=674184</p>\n<p>fixed </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/50/", "title": "#50 Error in lang.it do not permit to delete", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>In mrbs-1_1-pre1 the line 83 of the file web/lang.it<br>\nhas to be changed to</p>\n<p>$vocab<span>[\"confirmdel\"]</span>         = \"Sei sicuro\\nche<br>\nvuoi\\ncancellare l\\'elemento?\\n\\n\";</p>\n<p>This because the absence of \\ before ' creates problems<br>\nin the javascript onClick in file web/view_entry.php. <br>\nAs a consequence you can not delete an entry.</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/49/", "title": "#49 Edit Entry Fails", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Edit Entry fails when I attempt to save the change.  The <br>\nsystem returns the following error:<br>\nWarning: Invalid argument supplied for foreach() <br>\nin /var/www/html/calendar/web/edit_entry_handler.php <br>\non line 112</p>\n<p>Warning: Invalid argument supplied for foreach() <br>\nin /var/www/html/calendar/web/edit_entry_handler.php <br>\non line 140</p>\n<p>Warning: Cannot add header information - headers <br>\nalready sent by (output started <br>\nat /var/www/html/calendar/web/edit_entry_handler.php:11<br>\n2) in /var/www/html/calendar/web/edit_entry_handler.php <br>\non line 169</p>\n<p>The same error occurs in the demo when attempting to <br>\nchange the duration from 1 hour to 1.5.  It will also fail <br>\nwhen attempting to change the \"type\" Internal/External.</p>\n<p>Edit_entry_handler.php is passed<br>\n<a href=\"http://mrbs.sourceforge.net/mrbs/edit_entry_handler.php\">http://mrbs.sourceforge.net/mrbs/edit_entry_handler.php</a><br>\n?<br>\nname=Martin&amp;description=fjsdfklsjdkl&amp;day=3&amp;month=6<br>\n&amp;year=2002&amp;hour=09&amp;minute=00&amp;duration=1.5&amp;dur_uni<br>\nts=hours&amp;type=I&amp;rep_num_weeks=&amp;returl=http%3A%<br>\n2F%2Fmrbs.sourceforge.net%2Fmrbs%<br>\n2Fview_entry.php%3Fid%3D1%26day%3D03%<br>\n26month%3D06%26year%<br>\n3D2002&amp;create_by=demo1&amp;rep_id=0&amp;edit_type=&amp;id=1</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>Yes,<br/>\nin deed.<br/>\nIf in the edit screen you specify a room,<br/>\nthen it works.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=558122</p>\n<p>I believe the problem is in edit_entry.php line 244.  </p>\n<p>$room should be $room_id.</p>\n<p>Hope this helps,<br/>\nClifford</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>This doesn't tell us much, can you show us a snippet as line <br/>\n244 is totally different on the latest download I've got from the <br/>\ndownload site.. no $room found on the line..</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/48/", "title": "#48 MRBS Security", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>You can send auth<span>[admin]</span>[]=username along with a <br>\nrequest and perform the function as if you are an admin<br>\n(if you are logged in).<br>\nI've only proved this with deleting a record but I'm <br>\npositive you can do more with it if you wanted to.</p>\n<p>By adding the following line<br>\nunset($auth<span>[\"admin\"]</span>);<br>\nto the config.inc before the other $auth<span>[\"admin\"]</span>[] <br>\nstatements seems to make this problem go away.<br>\nI don't know if this is 100% perfect/correct but it works <br>\nfor me.</p>\n<p>I'm using MRBS 1.0-pre2 and have tried tonight\u0092s<br>\n(5/31/2002)CVS and both have this problem.</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/47/", "title": "#47 arg $area not passed", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>in test3 version,the area parm isn't passed to<br>\nview_entry and edit_entry</p>\n<p>modif the link in day.php , week.php and view_entry.php.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>committed to cvs</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/46/", "title": "#46 error sql", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I am using mrbs-1.1-test3 i found an error when <br>\npushing the button change on the rightside of the <br>\nselction field building.</p>\n<p>this is the error</p>\n<p>You have an error in your SQL syntax near '?<br>\nyear=2002&amp;month=05&amp;day=17&amp;area=3?<br>\nyear=2002&amp;month=05&amp;day=17&amp;area=4?year=</p>\n<p>This is the last part of the content of the adress <br>\nfield</p>\n<p>day.php?area=day.php%3Fyear%3D2002%26month%3D05%26day%<br>\n3D17%26area%3D3%3Fyear%3D2002%26month%3D05%26day%3D17%<br>\n26area%3D4%3Fyear%3D2002%26month%3D05%26day%3D17%<br>\n26area%3D1</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/45/", "title": "#45 Error when saving after editing an entry", "status": "closed", "labels": "MRBS (195)", "priority": "9", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When trying to save after editing an entry <br>\n(/edit_entry.php?id=xx) I get the following error <br>\nmessage:</p>\n<p>Warning: Invalid argument supplied for foreach() <br>\nin /mrbs/edit_entry_handler.php on line 112</p>\n<p>Warning: Invalid argument supplied for foreach() <br>\nin /mrbs/edit_entry_handler.php on line 140</p>\n<p>I am running mrbs-1.1-test3</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>1.1-test3 will not work with PHP3.</p>\n<p>You need to upgrade your PHP or patch edit_entry_handler.php<br/>\nso it doesn't use foreach() anymore.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/44/", "title": "#44 auth_nis.inc error", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>In file auth_nis.inc line 64, </p>\n<p>replace</p>\n<p>if ( $rs<span>[1]</span> == crypt ( $password, substr ( $rs<span>[1]</span>, 0, 2<br>\n) ) ) {</p>\n<p>by</p>\n<p>if ( $rs<span>[1]</span> == crypt ( $pass, substr ( $rs<span>[1]</span>, 0, 2 ) ) ) {</p>\n<p>and it work!</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>applied to CVS</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/43/", "title": "#43 Access Level", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I read another request on access levels. I do not <br>\nthink mine is much different, I just cannot figure out <br>\nthe code to do it. I need an access level that cannot <br>\nmake any changes just view. When you have 20 people <br>\nthat can make changes someone will always screw up.</p>\n<p>Thanks in advance.</p>\n<p>DonFG</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=492984</p>\n<p>Close this for now. I saved a page as day-edit, then I just <br/>\neddited the day.php page so that the buttons were not <br/>\navailable. So when I need to add a meeting I just go to the <br/>\nday-edit.php page.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=492984</p>\n<p>Close this for now. I saved a page as day-edit, then I just <br/>\neddited the day.php page so that the buttons were not <br/>\navailable. So when I need to add a meeting I just go to the <br/>\nday-edit.php page.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>Hi Don,<br/>\nthe day-edit.php approach is OK.</p>\n<p>I think by default anybody has read-access.<br/>\nTherefore it should be OK as it is.</p>\n<p>But maybe only some people should have read-access.<br/>\nOn my system I would implement something<br/>\nwith HTTP Basic Authentication (.htaccess file).</p>\n<p>Regards</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>Hi Don,<br/>\nthe day-edit.php approach is OK.</p>\n<p>I think by default anybody has read-access.<br/>\nTherefore it should be OK as it is.</p>\n<p>But maybe only some people should have read-access.<br/>\nOn my system I would implement something<br/>\nwith HTTP Basic Authentication (.htaccess file).</p>\n<p>Regards</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/42/", "title": "#42 translation fail again", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I'm translate mrbs to indonesian (bahasa indonesia) <br>\nand the html output from item that i translated become <br>\nletter red T on my browser (IE 6.0)</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>From another user:<br/>\n\"I fixed this. This is caused by using $lang[ as a variable <br/>\nname.Change all $lang[ to $vocab[ and it will work!</p>\n<p>Dont forget to change the definition of the globals $lang <br/>\ninto $vocab within the functions, too.</p>\n<p>I dont even know why it works, but I got the idea from <br/>\nanother script, it seems as though $lang[ is a reserved <br/>\nvariable... maybe only at some severs..\"</p>\n<p>This worked for me.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>i've done this in CVS. hopefully it'll fix things</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/41/", "title": "#41 week.php month boundary repeat error", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If you create a repeating event that crosses a month <br>\nboundary, it displays properly in the daily and <br>\nmonthly views, but the weekly view shows it throughout <br>\nthe first week of the following month.</p>\n<p>1) Create an event for 2/26/2002, all day, repeat <br>\ndaily thru 3/3/2002.<br>\n2) View Day of each day looks ok, View Month of <br>\nFebruary and March looks ok, View Week of Mar 03 shows <br>\nthe event through the entire week even though it ends <br>\non 3/3.</p>\n<p>Found in Version: mrbs-1.0pre2</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>Which PHP are you using?<br/>\nI use PHP3 and apache server.<br/>\nAnd MRBS 1.0-pre2.</p>\n<p>I had problems to cast the integer in the week-php-source<br/>\ncode.</p>\n<p>Output from SCCS diff:<br/>\n&lt;       $end_t = min(round_t_up($row<span>[1]</span>, $resolution),<br/>\n$week_end+1);</p>\n<hr/>\n<p>&gt;       $end_t = min((int)round_t_up((int)$row<span>[1]</span>,<br/>\n(int)$resolution), (int)$week_end+1);</p>\n<p>Maybe that helps</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>That fixes it - thanks!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>applied to CVS</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/40/", "title": "#40 meeting type error", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have set up mrbs correctly I assume because it <br>\nappears to work for most things. I only have one <br>\nsmall problem and that relates to the meeting type <br>\nfield when creating a new meeting. </p>\n<p>for some reason it does not work correctly. I do not <br>\ngte my choices and therefore it simply sets all <br>\nmeetings to yellow.</p>\n<p>any help wopuld be appreciated</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>there's not really enough information here. if you read this<br/>\nplease post to the mailing list more information.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/39/", "title": "#39 Error in rount_t_up", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>There is an error in both the function round_t_down <br>\nand rount_t_up in the file web/functions.inc.</p>\n<p>Basicly the function involves any time that <br>\n$resolution is an odd amount. The issue is if the <br>\nstart of the day, if that time is not an invterval of <br>\nthe $resolution, starting from Jan 1, 1970 (start of <br>\nunix time, i think). </p>\n<p>To fix this, you add an extra paramater to these calls <br>\nwhich accepts $am7, the start of the day time.</p>\n<p>The new function are as follows:</p>\n<p>function round_t_down($t, $resolution, $am7)<br>\n{<br>\n        return (int)$t - (int)abs(((int)$t-(int)$am7) <br>\n% $resolution);</p>\n<p>}</p>\n<p>function round_t_up2($t, $resolution, $am7)<br>\n{</p>\n<p>if (($t-$am7) % $resolution != 0)<br>\n{<br>\n        return $t + $resolution - abs(((int)$t-(int)<br>\n$am7) % $resolution);<br>\n}<br>\nelse<br>\n{<br>\n        return $t;<br>\n}</p>\n<p>}</p>\n<p>These probably could be cleaned up a little (don't <br>\nknow if you need all the casting, but it works.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>applied to CVS</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/38/", "title": "#38 posix_uname( )", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When click help, message display :</p>\n<p>Meeting Room Booking System - MRBS 1.0-pre2 <br>\nDatabase: MySQL 3.23.44-max-nt </p>\n<p>Fatal error: Call to undefined function: posix_uname() <br>\nin c:\\program files\\apache <br>\ngroup\\apache\\htdocs\\mrbs\\web\\help.php on line 26</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>I get the same error. I am using NT4 and IIS.</p>\n<p>dgoodwin@ci.creve-coeur.mo.us</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>I found out that if you are using NT, put a # in front of <br/>\nline 26. It solved my problem.</p>\n<p>dgoodwin@ci.creve-coeur.mo.us</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>i've changed the call to use php_uname() instead. it's<br/>\nupdate in CVS.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/37/", "title": "#37 Cookie / Language/ Virtual Memor Problem", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have an application (postNuke v0.64) on my web <br>\nserver (RH LINUX 7.1/Apache) which also runs mrbs.<br>\nThe postNuke application leaves the following cookie.</p>\n<p>FILE:  &lt;user&gt;@&lt;server&gt;</p>\n<p>CONTENTS: <br>\nlang eng<br>\n&lt;web/virtual web server hostname&gt;/<br>\n0<br>\n2179200256<br>\n29530614<br>\n1602029056<br>\n29457189<br>\n*</p>\n<p>The presence of this cookie causes all strings in the <br>\nlang.en file to be displayed as 'N'.  The first line <br>\nin the cookie \"lang eng\" causes this to happen.  I <br>\ncould change the other application to write a cookie <br>\nwith \"lang en\".  This allows all the text strings in <br>\nlang.en to be displayed but breaks the other <br>\napplication (postNUKE v0.64).</p>\n<p>Additionally, when this cookie is present on the <br>\nclient machine, the line \"lang eng\" in the cookie <br>\nmeans that attempting to book a room by clicking on <br>\nthe + sign causes all of the virtual memory on my <br>\nwin2000 client to be consumed while waiting for <br>\nsmb_auth.c to prompt or verify the user for their <br>\nusername and password.</p>\n<p>I have downloaded the latest config.inc file from CVS <br>\nbut this has not fixed the problem.</p>\n<p>CONFIG.INC</p>\n<p>&lt;?php</p>\n<h1 id=\"id-configincv-14-20010702-150524-jberanek\">$Id: config.inc,v 1.4 2001/07/02 15:05:24 jberanek</h1>\n<p>Exp $</p>\n<h6></h6>\n<h6></h6>\n<h1 id=\"mrbs-configuration-file\">MRBS Configuration File</h1>\n<h1 id=\"configure-this-file-for-your-site\">Configure this file for your site.</h1>\n<h1 id=\"you-shouldnt-have-to-modify-anything-outside-this\">You shouldn't have to modify anything outside this</h1>\n<p>file.</p>\n<h6></h6>\n<h6></h6>\n<h6></h6>\n<h1 id=\"database-settings\">Database settings</h1>\n<h6></h6>\n<h1 id=\"which-database\">Which database</h1>\n<p>system: \"pgsql\"=PostgreSQL, \"mysql\"=MySQL<br>\n$dbsys = \"mysql\";</p>\n<h1 id=\"hostname-of-database-server-for-pgsql-can-use-wzxhzdk19wzxhzdk20\">Hostname of database server. For pgsql, can use \"\"</h1>\n<p>instead of localhost</p>\n<h1 id=\"to-use-unix-domain-sockets-instead-of-tcpip\">to use Unix Domain Sockets instead of TCP/IP.</h1>\n<p>$db_host = \"localhost\";</p>\n<h1 id=\"database-name\">Database name:</h1>\n<p>$db_database = \"my database\";</p>\n<h1 id=\"database-login-user-name\">Database login user name:</h1>\n<p>$db_login = \"my username\";</p>\n<h1 id=\"database-login-password\">Database login password:</h1>\n<p>$db_password = \"my passwd\";</p>\n<h1 id=\"uncomment-this-to-not-use-php-persistent-pooled\">Uncomment this to NOT use PHP persistent (pooled)</h1>\n<p>database connections:</p>\n<h1 id=\"db_nopersist-1\">$db_nopersist = 1;</h1>\n<h6></h6>\n<h1 id=\"site-identification-information\">Site identification information</h1>\n<h6></h6>\n<p>$mrbs_admin = \"Me\"; <br>\n$mrbs_admin_email = \"me@my.email\";<br>\n$mrbs_company = \"My Company\";</p>\n<h6></h6>\n<h1 id=\"calendar-settings\">Calendar settings</h1>\n<h6></h6>\n<h1 id=\"resolution-what-blocks-can-be-booked-in-seconds\">Resolution - what blocks can be booked, in seconds.</h1>\n<h1 id=\"default-is-half-an-hour-1800-seconds\">Default is half an hour: 1800 seconds.</h1>\n<p>$resolution = 1800;</p>\n<h1 id=\"start-and-end-of-day-note-these-are-integer-hours\">Start and end of day, NOTE: These are integer hours</h1>\n<p>only, 0-23, and</p>\n<h1 id=\"morningstarts-must-be-wzxhzdk35-eveningends-see-also\">morningstarts must be &lt; eveningends. See also</h1>\n<p>eveningends_minutes.<br>\n$morningstarts = 7;<br>\n$eveningends   = 19;</p>\n<h1 id=\"minutes-to-add-to-eveningends-hours-to-get-the-real\">Minutes to add to $eveningends hours to get the real</h1>\n<p>end of the day.</p>\n<h1 id=\"examples-to-get-the-last-slot-on-the-calendar-to-be\">Examples: To get the last slot on the calendar to be</h1>\n<p>16:30-17:00, set</p>\n<h1 id=\"eveningends16-and-eveningends_minutes30-to-get-a\">eveningends=16 and eveningends_minutes=30. To get a</h1>\n<p>full 24 hour display</p>\n<h1 id=\"with-15-minute-steps-set-morningstarts0\">with 15-minute steps, set morningstarts=0;</h1>\n<p>eveningends=23;</p>\n<h1 id=\"eveningends_minutes45-and-resolution900\">eveningends_minutes=45; and resolution=900.</h1>\n<p>$eveningends_minutes = 0;</p>\n<h1 id=\"start-of-week-0-for-sunday-1-for-monday-etc\">Start of week: 0 for Sunday, 1 for Monday, etc.</h1>\n<p>$weekstarts = 0;</p>\n<h1 id=\"trailer-date-format-0-to-show-dates-as-wzxhzdk36jul-10wzxhzdk37-1\">Trailer date format: 0 to show dates as \"Jul 10\", 1</h1>\n<p>for \"10 Jul\" <br>\n$dateformat = 0;</p>\n<h6></h6>\n<h1 id=\"miscellaneous-settings\">Miscellaneous settings</h1>\n<h6></h6>\n<h1 id=\"maximum-repeating-entrys-max-needed-1\">Maximum repeating entrys (max needed +1):</h1>\n<p>$max_rep_entrys = 365 + 1;</p>\n<h1 id=\"default-report-span-in-days\">Default report span in days:</h1>\n<p>$default_report_days = 60;</p>\n<h1 id=\"results-per-page-for-searching\">Results per page for searching:</h1>\n<p>$search<span>[\"count\"]</span> = 20;</p>\n<h1 id=\"page-refresh-time-in-seconds-set-to-0-to-disable\">Page refresh time (in seconds). Set to 0 to disable</h1>\n<p>$refresh_rate = 0;</p>\n<h6></h6>\n<h1 id=\"authentication-settings-read-authentication\">Authentication settings - read AUTHENTICATION</h1>\n<h6></h6>\n<h1 id=\"ip-authentication-allows-any-user-to-create-bookings\">IP authentication allows any user to create bookings.</h1>\n<h1 id=\"authwzxhzdk42realmwzxhzdk43-wzxhzdk44wzxhzdk45\">$auth<span>[\"realm\"]</span>  = \"\";</h1>\n<h1 id=\"authwzxhzdk46typewzxhzdk47-wzxhzdk48ipwzxhzdk49\">$auth<span>[\"type\"]</span>   = \"ip\";</h1>\n<h1 id=\"authwzxhzdk50progwzxhzdk51-wzxhzdk52wzxhzdk53\">$auth<span>[\"prog\"]</span>   = \"\";</h1>\n<h1 id=\"authwzxhzdk54paramswzxhzdk55-wzxhzdk56wzxhzdk57\">$auth<span>[\"params\"]</span> = \"\";</h1>\n<h1 id=\"use-smb-authentication-settings-read-authentication\">Use SMB Authentication settings - read AUTHENTICATION</h1>\n<p>$auth<span>[\"realm\"]</span>  = \"&lt;MY DOMAIN&gt;\";<br>\n$auth<span>[\"type\"]</span>   = \"ext\";<br>\n$auth<span>[\"prog\"]</span>   = \"/usr/bin/smb_auth\";<br>\n$auth<span>[\"params\"]</span> = \"#USERNAME# #PASSWORD# &lt;SAMBA <br>\nSERVER&gt; &lt;SAMBA SERVER&gt; GARM\";</p>\n<h1 id=\"the-various-level-two-users-can-modify-other\">The various level two users (can modify other</h1>\n<p>peoples settings)</p>\n<h1 id=\"by-default-only-localhost-is-an-administrator\">By default, only localhost is an administrator.</h1>\n<p>$auth<span>[\"admin\"]</span>[] = \"127.0.0.1\";<br>\n$auth<span>[\"admin\"]</span>[] = \"&lt;a user&gt;\";</p>\n<h1 id=\"authwzxhzdk90adminwzxhzdk91-wzxhzdk9210001wzxhzdk93\">$auth<span>[\"admin\"]</span>[] = \"10.0.0.1\";</h1>\n<h1 id=\"authwzxhzdk94adminwzxhzdk95-wzxhzdk9610002wzxhzdk97\">$auth<span>[\"admin\"]</span>[] = \"10.0.0.2\";</h1>\n<h1 id=\"authwzxhzdk98adminwzxhzdk99-wzxhzdk10010003wzxhzdk101\">$auth<span>[\"admin\"]</span>[] = \"10.0.0.3\";</h1>\n<h1 id=\"auth_ldap-configuration-settings\">'auth_ldap' configuration settings</h1>\n<h1 id=\"where-is-the-ldap-server\">Where is the LDAP server</h1>\n<h1 id=\"ldap_host-wzxhzdk102localhostwzxhzdk103\">$ldap_host = \"localhost\";</h1>\n<h1 id=\"ldap-base-distinguish-names\">LDAP base distinguish names</h1>\n<h1 id=\"ldap_base_dn\">$ldap_base_dn[]</h1>\n<p>= \"ou=organizationalunit1,o=organization,c=MY\";</p>\n<h1 id=\"ldap_base_dn_1\">$ldap_base_dn[]</h1>\n<p>= \"ou=organizationalunit2,o=organization,c=MY\";</p>\n<h1 id=\"ldap_base_dn_2\">$ldap_base_dn[]</h1>\n<p>= \"ou=organizationalunit3,o=organization,c=MY\";</p>\n<h1 id=\"auth_ldap-extra-configuration-for-ldap\">'auth_ldap' extra configuration for ldap</h1>\n<p>configuration of who can use</p>\n<h1 id=\"the-system\">the system</h1>\n<h1 id=\"if-its-set-the-ldap_filter-will-be-combined-with\">If it's set, the $ldap_filter will be combined with</h1>\n<p>the uid like this:</p>\n<h1 id=\"wzxhzdk110uidusernameldap_filter\">(&amp;(uid=username)($ldap_filter))</h1>\n<h1 id=\"after-binding-to-check-the-password-this-check-is\">After binding to check the password, this check is</h1>\n<p>used to see that</p>\n<h1 id=\"they-are-a-valid-user-of-mrbs\">they are a valid user of mrbs.</h1>\n<p>$ldap_filter = \"mrbsuser=y\";</p>\n<h6></h6>\n<h1 id=\"language\">Language</h1>\n<h6></h6>\n<h1 id=\"change-the-en-below-to-the-code-for-your-language-\">Change the en below to the code for your language -</h1>\n<p>if </p>\n<h1 id=\"there-is-a-language-file-for-it\">there is a language file for it.</h1>\n<p>include 'lang.en';</p>\n<h1 id=\"these-two-lines-import-a-language-based-on-what-the\">These two lines import a language based on what the</h1>\n<p>client</p>\n<h1 id=\"is-using-comment-them-out-to-disable-this\">is using. Comment them out to disable this.</h1>\n<p>$lang_file = \"lang.$HTTP_ACCEPT_LANGUAGE\";<br>\nif (file_exists($lang_file)) {include $lang_file;}</p>\n<h1 id=\"we-also-want-to-do-locales-for-datestimes-etc\">We also want to do locales for Dates/Times etc.</h1>\n<h1 id=\"use-the-setlocale-function-for-this\">Use the setlocale() function for this.</h1>\n<h1 id=\"define-the-default-locale-here-for-a-list-of\">Define the default locale here. For a list of</h1>\n<p>supported</p>\n<h1 id=\"locales-on-your-system-do-wzxhzdk115locale-awzxhzdk116\">locales on your system do \"locale -a\"</h1>\n<p>setlocale('LC_ALL','C');</p>\n<h1 id=\"we-attempt-to-make-up-a-sensible-locale-from\">We attempt to make up a sensible locale from</h1>\n<h1 id=\"the-http_accept_language-environment-variable\">the HTTP_ACCEPT_LANGUAGE environment variable</h1>\n<h1 id=\"comment-this-out-to-disable-it\">comment this out to disable it</h1>\n<h1 id=\"this-wont-work-if-multiple-languages-are-selected\">This won't work if multiple languages are selected.</h1>\n<p>Every language is then</p>\n<h1 id=\"separated-by-wzxhzdk117-wzxhzdk118\">separated by \", \".</h1>\n<h1 id=\"locale-http_accept_language\">$locale = $HTTP_ACCEPT_LANGUAGE;</h1>\n<h1 id=\"this-will-get-the-primary-selected-language\">This will get the primary selected language</h1>\n<p>list ($locale, $not_used) = split(\",\", <br>\n$HTTP_ACCEPT_LANGUAGE, 2);</p>\n<p>if (strlen($locale) == 2) {</p>\n<h1 id=\"this-will-set-locale-for-sweden-to-wzxhzdk121sv_svwzxhzdk122-whereas\">This will set locale for Sweden to \"sv_SV\" whereas</h1>\n<p>it should be \"sv\" or \"sv_SE\"... <br>\n   $locale = strtolower($locale).\"<em>\".strtoupper<br>\n($locale);<br>\n} else {<br>\n   $locale = strtolower(substr<br>\n($locale,0,2)).\"</em>\".strtoupper(substr($locale,3,2));<br>\n}<br>\nsetlocale('LC_ALL',$locale);</p>\n<h6></h6>\n<h1 id=\"entry-types\">Entry Types</h1>\n<h6></h6>\n<h1 id=\"this-array-maps-entry-type-codes-letters-a-through\">This array maps entry type codes (letters A through</h1>\n<p>J) into descriptions.</p>\n<h1 id=\"each-type-has-a-color-see-tdx-classes-in-the-style\">Each type has a color (see TD.x classes in the style</h1>\n<p>sheet mrbs.css).</p>\n<h1 id=\"apink-bblue-green-cpeach-dyellow\">A=Pink  B=Blue-green  C=Peach  D=Yellow</h1>\n<p>E=Light blue</p>\n<h1 id=\"ftan-gred-haqua-ilight-green\">F=Tan   G=Red         H=Aqua   I=Light green</h1>\n<p>J=Gray</p>\n<h1 id=\"the-value-for-each-type-is-a-short-one-word-is\">The value for each type is a short (one word is</h1>\n<p>best) description of the</p>\n<h1 id=\"type-the-values-must-be-escaped-for-html-output\">type. The values must be escaped for HTML output</h1>\n<p>(\"R&amp;amp;D\").</p>\n<h1 id=\"please-leave-i-and-e-alone-for-compatibility\">Please leave I and E alone for compatibility.</h1>\n<h1 id=\"if-a-types-entry-is-unset-or-empty-that-type-is\">If a type's entry is unset or empty, that type is</h1>\n<p>not defined; it will not</p>\n<h1 id=\"be-shown-in-the-day-view-color-key-and-not-offered\">be shown in the day view color-key, and not offered</h1>\n<p>in the type selector</p>\n<h1 id=\"for-new-or-edited-entries\">for new or edited entries.</h1>\n<h1 id=\"typelwzxhzdk134awzxhzdk135-wzxhzdk136awzxhzdk137\">$typel<span>[\"A\"]</span> = \"A\";</h1>\n<h1 id=\"typelwzxhzdk138bwzxhzdk139-wzxhzdk140bwzxhzdk141\">$typel<span>[\"B\"]</span> = \"B\";</h1>\n<h1 id=\"typelwzxhzdk142cwzxhzdk143-wzxhzdk144cwzxhzdk145\">$typel<span>[\"C\"]</span> = \"C\";</h1>\n<h1 id=\"typelwzxhzdk146dwzxhzdk147-wzxhzdk148dwzxhzdk149\">$typel<span>[\"D\"]</span> = \"D\";</h1>\n<p>$typel<span>[\"E\"]</span> = $lang<span>[\"external\"]</span>;</p>\n<h1 id=\"typelwzxhzdk154fwzxhzdk155-wzxhzdk156fwzxhzdk157\">$typel<span>[\"F\"]</span> = \"F\";</h1>\n<h1 id=\"typelwzxhzdk158gwzxhzdk159-wzxhzdk160gwzxhzdk161\">$typel<span>[\"G\"]</span> = \"G\";</h1>\n<h1 id=\"typelwzxhzdk162hwzxhzdk163-wzxhzdk164hwzxhzdk165\">$typel<span>[\"H\"]</span> = \"H\";</h1>\n<p>$typel<span>[\"I\"]</span> = $lang<span>[\"internal\"]</span>;</p>\n<h1 id=\"typelwzxhzdk170jwzxhzdk171-wzxhzdk172jwzxhzdk173\">$typel<span>[\"J\"]</span> = \"J\";</h1>\n<h6></h6>\n<h1 id=\"php-system-configuration-do-not-change\">PHP System Configuration - do not change</h1>\n<h6></h6>\n<h1 id=\"disable-magic-quoting-on-database-returns\">Disable magic quoting on database returns:</h1>\n<p>set_magic_quotes_runtime(0);</p>\n<p>?&gt;</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>I am having the same exact problem (just with PHP-NUKE), <br/>\nwhat is the fix for this?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>The problem is caused by cookies on your server having <br/>\npreviously defined lang.en or lang eng. For me this was <br/>\ncaused by a postnuke installation on my site.</p>\n<p>I think I've solved the problem.  All you need to do is <br/>\nrename the lang.en file on your server to something like <br/>\nlang.zz and change the english language references to <br/>\nlang.zz!</p>\n<p>any problems email me at drinky@u-sci.com</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>thanks for the detailed explanation of why this was<br/>\nhappening. just as much a problem to do with the other<br/>\nsoftware as mrbs.</p>\n<p>anyway, it's fixed in CVS and should be fine in the next release</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/36/", "title": "#36 n-weekly validation", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Selecting \"Repeat type: n-weekly\" but leaving the \"Number of weeks\" field empty makes MRBS hang for $max_execution_time seconds (as set in php.ini), and then report a fatal server error.</p>\n<p>The enclosed patch adds an appropriate (I hope :-) check to the validate_and_submit() function in edit_entry.php, which fixes (I hope :-) this problem.</p>\n<p>Thomas</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=150806</p>\n<p>Argh, the file upload didn't work ... I'll try again. If it<br/>\nstill doesn't work, I'll put the patch on my homepage as<br/>\nwell:<br/>\n<a href=\"http://members.chello.at/thomas.zajic/mrbs_nweekly_validate.diff\" rel=\"nofollow\">http://members.chello.at/thomas.zajic/mrbs_nweekly_validate.diff</a></p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>n-weekly validation patch</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=150806</p>\n<p>A small update to my patch, fixes a JavaScript error when editing an existing repeating event which is not repeating n-weekly (this occured when editing a single non-n-weekly repeating event out of a series).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=150806</p>\n<p>Dammit ... am I the only one having trouble uploading a file<br/>\nto SourceForge with Opera/Linux? 8-/ Okay, time to fire up<br/>\nNetscape ...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>n-weekly validation patch v2</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=150806</p>\n<p>A small update to my patch, fixes a JavaScript error when editing an existing repeating event which is not repeating n-weekly (this occured when editing a single non-n-weekly repeating event out of a series).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>thanks very much!</p>\n<p>have applied this to CVS</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/35/", "title": "#35 Language Problem lang.en", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Quick question: I like the Meeting Room booking <br>\nsystem, I downloaded the latest from cvs and installed <br>\nit. Im having a problem with the language file. It <br>\ndoesn't seem to be seeing the lang.en file, because <br>\neverything that should be a title/link on the page <br>\nonly displays the letter\"N\". I have a bunch of \"N's\" <br>\non the screen. Any ideas?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=310989</p>\n<p>I also have the same problem. The only browser that seems to work with mrbs is Opera. I don't know why. My thought is that N's appear if there is an out of memery bound in an array. Since all language files are defined in arrays instead of \"define\" that might be the source of the problem. I'm running on RH7.1-XFS with PHP 4.04p11 mysql 3.23.36. I'm wondering if anyone else has the same problem, and if they found a workaround. I think the worse case is to replace all arrays with defines.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>I have the same problem which I have traced to the presence <br/>\nof a cookie on the client that specifys \"lang eng\".  I am <br/>\nnot sure how to fix this yet but you could check if it is <br/>\nthe same problem by deleteing the cookie and restarting the <br/>\nweb browser.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>The problem is caused by cookies on your server having <br/>\npreviously defined lang.en or lang eng. For me this was <br/>\ncaused by a postnuke installation on my site.</p>\n<p>I think I've solved the problem.  All you need to do is <br/>\nrename the lang.en file on your server to something like <br/>\nlang.zz and change the english language references to <br/>\nlang.zz!</p>\n<p>any problems email me at drinky@u-sci.com</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>The problem is caused by cookies on your server having <br/>\npreviously defined lang.en or lang eng. For me this was <br/>\ncaused by a postnuke installation on my site.</p>\n<p>I think I've solved the problem.  All you need to do is <br/>\nrename the lang.en file on your server to something like <br/>\nlang.zz and change the english language references to <br/>\nlang.zz!</p>\n<p>any problems email me at drinky@u-sci.com</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: NO </p>\n<p>I have the same problem with the .nl language. <br/>\nSuggestions of renaming the file did not work.</p>\n<p>With the test version mrbs-1.1-test3 the problem is <br/>\ndissapeared.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>fixed in CVS</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/34/", "title": "#34 Updated lang.fr file", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have update the lang.fr file according french<br>\nlanguage.<br>\nSome translations may be discussed, but I think this is<br>\nglobally ok.<br>\nHope this file wile be included in future releases.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Message transation to french language</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/33/", "title": "#33 Different language support problem", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have translated mrbs to Czech language, so I have to<br>\nremoved statement htmlentities in edit_entry.php - it<br>\ncaused to change Czech and probably others special<br>\ncharacters.<br>\nSo there is lang.cz with Windows-1250 charset   </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=102821</p>\n<p>Then please attach your work so it may be included.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/32/", "title": "#32 Repeting Meetings same day every Month", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When i try to book a meeting the first Monday in every <br>\nMonth, the booking is repeated only on the same date. </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=29285</p>\n<p>works for me</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/31/", "title": "#31 Add Area Errors", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When you add an area it has some small errors involved that can be pesky. The add.php function <br>\nwhen you an area does not return a valid header (area=    ). With area blank it can cause some <br>\nannoying side effects when adding rooms right after adding the area. </p>\n<p>I've fixed this with a small repair for my own copy that my organization uses but I just thought I'd <br>\nlet you know. Its not a big bug to fix, just have in the if statement in add.php where it branches <br>\ninto creating a new area, do a my_sql query to get the number of areas and save that into $area. <br>\nAfter that was in all of the minor bugs went away.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=132326</p>\n<p>This has already been fixed in the CVS and will be in the<br/>\nnext release.<br/>\nadd.php uses a database call to get the insert_id of the<br/>\nnewly created<br/>\narea so the variable is initialized correctly.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/30/", "title": "#30 Month or weekly summary", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>A useful feature to have would be to be able to see a month or week at a glance. It would be difficult to fit much information in small box but the Room - Title ... - Time listings should fit for a typical day. Maybe Alt tags could be used to pop up more info for browsers that show them in pointer Tooltips.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=132326</p>\n<p>The weekly &amp; monthly views have been implemented, are in<br/>\nthe CVS, and will be in the next release past 0.9.2. The<br/>\nweekly<br/>\nview shows all the information in the daily view, but for<br/>\none room.<br/>\nThe monthly view currently shows only start-stop times, but<br/>\nthere<br/>\nare possible ways to improve this in the future.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/29/", "title": "#29 Calendar wrong in 0.9.1", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Version 0.9.1 shows today's date to be Tuesday 7th Feb.  It's actually Wed 7th Feb!<br>\nThe Web demo also shows the same problem.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I think if you change line 126 in mincals.inc to be</p>\n<div class=\"codehilite\"><pre><span></span>    $d = ((($weekstarts == 1) ? -6 : -7 ) - $first) % 7 + 1;\n</pre></div>\n<p>It will fix this problem (I THINK!!)</p>\n<p>Ken</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I've updated the Calendar class to v1.2 at work, and do not have the problem (norwegian locale).</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>i've removed the new weekstarts stuff, so this is fixed in 0.9.2</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/28/", "title": "#28 calendar day off by one in mincals.inc:126 (release 0.9pre2)", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The dates in the mini calendars are correct, however they're not being displayed on the appropriate days of the week.  Fix is located at line 126 of mincals.inc:</p>\n<div class=\"codehilite\"><pre><span></span>  $d = ((($weekstarts == 1) ? -6 : -7 ) - $first) % 7 + 2;\n                                                                         ^^\n</pre></div>\n\n\n<p>Original add value was 1; changed to 2 and everything appears good.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>change added to 0.9.1</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/27/", "title": "#27 weekly repeated bookings carry over past end date", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If you make a weekly repeated booking, the end date is not<br>\nhonored.  The system will make an extra booking if the end<br>\ndate is not on the same week day as the meeting.</p>\n<p>To reproduce:<br>\n1. Go to Thurday, Nov 1, 2001<br>\n2. Make a weekly repeated booking and specify<br>\n    the end date as Wednesday Nov 14, 2001<br>\n3. Once you make the booking, you will see a meeting<br>\n    scheduled for Thursday Nov 15, 2001</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This has been fixed in the version to be comitted to CVS real soon.<br/>\nThe function mrbsCreateRepeatEntryList has a new loop that will<br/>\nnever go past the end date.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in cvs branch mrbs-0-9-1xp, and maybe in 0.9.2 also.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/26/", "title": "#26 demo allowed me to book over an existing appt.", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Example as follows, try it in demo as I did: In Bldg 1<br>\nroom3 there is an exiting appt for Fred at 7:00 for 1 hour.<br>\nI added an appt at 8:00 for Tom for 2 hours and as this was available, it booked it. I then edited Tom's entry and moved the time up to 7:00. It booked it even though the time slot from 7:00 to 8:00 was allocated to Fred. I am evaluating this software for use on my company's Intranet. It looks like it is pretty easy to use. Do these bugs get fixed?  </p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This has been fixed in the version which will be out soon. </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in cvs branch mrbs-0-9-1xp, to be released soon.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/25/", "title": "#25 Two decembers displayed (Broken Calendar)", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>MRBS: mrbs-0.9pre1<br>\nApache: 1.3.12<br>\nPHP: 4.0.1 Patch Level 2<br>\nOS: FreeBSD 4.2</p>\n<p>If you select '31' 'Nov' '2000' from the drop down list and hit 'goto' then two december calendars are listed on the right hand side. Although it does (correctly) display the booking page for the 1st December 2000.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This error is displayed every time a date is selected where the day number is higher than the number of days of the month. This patch takes care of that and sets the date to the last of the selected month.</p>\n<p>/BoK</p>\n<p><strong><em> updated/day.php3    Sun Nov  5 18:10:29 2000<br/>\n--- day.php3    Sat Dec  2 01:16:20 2000</em></strong><strong><em>*</em></strong><strong><em>**<br/>\n</em></strong> 18,23 ****<br/>\n--- 18,27 ----<br/>\n  if(!isset($area))<br/>\n    $area = 1;</p>\n<ul>\n<li>\n<h1 id=\"make-the-date-valid-if-day-is-more-then-number-of-days-in-month\">Make the date valid if day is more then number of days in month</h1>\n</li>\n<li>while (!checkdate($month, $day, $year))</li>\n<li>$day--;</li>\n<li># print the page header<br/>\n  print_header($day, $month, $year, $area);</li>\n</ul></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Confirmed fixed in the latest release 0.9.2, closed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/24/", "title": "#24 Back dated bookings", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>It needs a small modification to reject back dated reservations.<br>\nAt present one is allowed to do reservation which are back dated, doesn't sound good.</p>\n<p>At the same if one reservers for a complete day no details are shown in the calendar.</p>\n<p>This should be corrected.</p>\n<p>Thanks for such a nice and compact system.</p>\n<p>Love and regards<br>\nPrasad</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The all day booking bug was fixed by my patch in<br/>\n<a href=\"https://sourceforge.net/bugs/?func=detailbug&amp;amp;bug_id=122184&amp;amp;group_id=5113\">https://sourceforge.net/bugs/?func=detailbug&amp;bug_id=122184&amp;group_id=5113</a></p>\n<p>I have been thinking about the problem of modifying/deleting bookings where the time has passed. So I guess I'll come up with a patch for that :-)</p>\n<p>/BoK</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Logged In: YES <br/>\nuser_id=132326</p>\n<p>I'm closing this because there doesn't seem to be interest<br/>\nin rejecting<br/>\nback-dated bookings as a requirement. Back-dated bookings<br/>\nare pointless but harmless, I think, for the expected usage<br/>\nof MRBS.<br/>\nAs BoK said, the 2nd part was fixed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/23/", "title": "#23 mrbs entries with apostrophes don't work well", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If you add an entry containing an apostrophe \"'\", it<br>\nbackslashes it so it looks like \"\\'\".</p>\n<p>This is not (obviously) a high priority, but it is<br>\nan annoyance :)</p>\n<p>Thanks,</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Here are patches to day.php3, edit_entry.php3 and view_entry.php3 that should tace care of the problem.</p>\n<p>/BoK</p>\n<p><strong><em> updated/day.php3    Sun Nov  5 18:10:29 2000<br/>\n--- day.php3    Wed Nov 22 01:20:36 2000</em></strong><strong><em>*</em></strong><strong><em>**<br/>\n</em></strong> 120,130 ****<br/>\n    # booking happens in, or at the start of the day if it started<br/>\n    # before today</p>\n<p>!   if($row<span>[2]</span> &gt; $am7)<br/>\n!       $today<span>[$row[0]</span>]<span>[$row[1]</span>]<span>[2]</span> = $row<span>[5]</span>;<br/>\n    else<br/>\n!       $today<span>[$row[0]</span>]<span>[$am7]</span><span>[2]</span> = $row<span>[5]</span>;<br/>\n  }</p>\n<p># We need to know what all the rooms area called, so we can show them all<br/>\n  # pull the data from the db and store it. Convienently we can print the room <br/>\n--- 120,130 ----<br/>\n    # booking happens in, or at the start of the day if it started<br/>\n    # before today</p>\n<p>!   if($row<span>[1]</span> &gt; $am7)<br/>\n!       $today<span>[$row[0]</span>]<span>[$row[1]</span>]<span>[2]</span> = stripslashes($row<span>[5]</span>);<br/>\n    else<br/>\n!       $today<span>[$row[0]</span>]<span>[$am7]</span><span>[2]</span> = stripslashes($row<span>[5]</span>);<br/>\n  }</p>\n<p># We need to know what all the rooms area called, so we can show them all<br/>\n  # pull the data from the db and store it. Convienently we can print the room </p>\n<p><strong><em> updated/edit_entry.php3 Sun Nov  5 18:10:34 2000<br/>\n--- edit_entry.php3 Wed Nov 22 01:13:01 2000</em></strong><strong><em>*</em></strong><strong><em>**<br/>\n</em></strong> 43,51 ****<br/>\n    echo mysql_error();</p>\n<div class=\"codehilite\"><pre><span></span>$row = mysql_fetch_row($res);\n</pre></div>\n<p>!   $name        = $row<span>[0]</span>;<br/>\n    $create_by   = $row<span>[1]</span>;<br/>\n!   $description = $row<span>[2]</span>;<br/>\n    $start_day   = strftime('%d', $row<span>[3]</span>);<br/>\n    $start_month = strftime('%m', $row<span>[3]</span>);<br/>\n    $start_year  = strftime('%Y', $row<span>[3]</span>);<br/>\n--- 43,51 ----<br/>\n    echo mysql_error();</p>\n<div class=\"codehilite\"><pre><span></span>$row = mysql_fetch_row($res);\n</pre></div>\n<p>!   $name        = stripslashes($row<span>[0]</span>);<br/>\n    $create_by   = $row<span>[1]</span>;<br/>\n!   $description = stripslashes($row<span>[2]</span>);<br/>\n    $start_day   = strftime('%d', $row<span>[3]</span>);<br/>\n    $start_month = strftime('%m', $row<span>[3]</span>);<br/>\n    $start_year  = strftime('%Y', $row<span>[3]</span>);</p>\n<hr/>\n<p><strong><em> 175,181 </em></strong>*<br/>\n  &lt;TABLE BORDER=0&gt;</p>\n<p>&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;? echo $lang<span>[\"namebooker\"]</span>?&gt;&lt;/B&gt;&lt;/TD&gt;<br/>\n!   &lt;TD&gt;&lt;INPUT NAME=\"name\" SIZE=40 VALUE=\"&lt;?php echo $name ?&gt;\"&gt;&lt;/TD&gt;&lt;/TR&gt;</p>\n<p>&lt;TR&gt;&lt;TD VALIGN=\"top\"&gt;&lt;B&gt;&lt;? echo $lang<span>[\"fulldescription\"]</span>?&gt;&lt;/B&gt;&lt;/TD&gt;<br/>\n    &lt;TD&gt;&lt;TEXTAREA NAME=\"description\" ROWS=8 COLS=40 WRAP=\"virtual\"&gt;&lt;?php echo htmlentities ( $description ); ?&gt;&lt;/TEXTAREA&gt;&lt;/TD&gt;&lt;/TR&gt;<br/>\n--- 175,181 ----<br/>\n  &lt;TABLE BORDER=0&gt;</p>\n<p>&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;? echo $lang<span>[\"namebooker\"]</span>?&gt;&lt;/B&gt;&lt;/TD&gt;<br/>\n!   &lt;TD&gt;&lt;INPUT NAME=\"name\" SIZE=40 VALUE=\"&lt;?php echo htmlentities($name) ?&gt;\"&gt;&lt;/TD&gt;&lt;/TR&gt;</p>\n<p>&lt;TR&gt;&lt;TD VALIGN=\"top\"&gt;&lt;B&gt;&lt;? echo $lang<span>[\"fulldescription\"]</span>?&gt;&lt;/B&gt;&lt;/TD&gt;<br/>\n    &lt;TD&gt;&lt;TEXTAREA NAME=\"description\" ROWS=8 COLS=40 WRAP=\"virtual\"&gt;&lt;?php echo htmlentities ( $description ); ?&gt;&lt;/TEXTAREA&gt;&lt;/TD&gt;&lt;/TR&gt;</p>\n<p><strong><em> updated/view_entry.php3 Sun Nov  5 18:10:42 2000<br/>\n--- view_entry.php3 Tue Nov 21 00:57:50 2000</em></strong><strong><em>*</em></strong><strong><em>**<br/>\n</em></strong> 50,57 ****</p>\n<p>$row = mysql_fetch_row($res);</p>\n<p>! $name         = htmlspecialchars($row<span>[0]</span>);<br/>\n! $description  = htmlspecialchars($row<span>[1]</span>);<br/>\n  $create_by    = htmlspecialchars($row<span>[2]</span>);<br/>\n  $room_name    = htmlspecialchars($row<span>[3]</span>);<br/>\n  $area_name    = htmlspecialchars($row<span>[4]</span>);<br/>\n--- 50,57 ----</p>\n<p>$row = mysql_fetch_row($res);</p>\n<p>! $name         = htmlspecialchars(stripslashes($row<span>[0]</span>));<br/>\n! $description  = htmlspecialchars(stripslashes($row<span>[1]</span>));<br/>\n  $create_by    = htmlspecialchars($row<span>[2]</span>);<br/>\n  $room_name    = htmlspecialchars($row<span>[3]</span>);<br/>\n  $area_name    = htmlspecialchars($row<span>[4]</span>);</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The below patch was applied in 0.9.2. A different fix was made<br/>\nin the cvs branch mrbs-0-9-1xp which should correctly<br/>\nescape and unescape all values between the database and<br/>\nthe display.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/22/", "title": "#22 All-day bookings don't show up on calendar correctly", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If you book any room for a whole day, the calendar doesn't show it correctly.  It shows the room in a different colour, but does not show the summary, and therefore doesn't show a link to edit the booking either.</p>\n<p>I've tried this on the test server, and the same problem shows up.</p>\n<p>$ rpm -q apache<br>\napache-1.3.12-25<br>\n$ rpm -q mod_php<br>\nmod_php-4.0.1pl2-9</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This patch of day.php3 should take care of the problem. Looks good on my version.</p>\n<p>$row<span>[2]</span> is end time whereas $row<span>[1]</span> is start time.</p>\n<p>/BoK</p>\n<p><strong><em> updated/day.php3    Sun Nov  5 18:10:29 2000<br/>\n--- day.php3    Sun Nov 12 15:18:14 2000</em></strong><strong><em>*</em></strong><strong><em>**<br/>\n</em></strong> 120,126 ****<br/>\n    # booking happens in, or at the start of the day if it started<br/>\n    # before today</p>\n<p>!   if($row<span>[2]</span> &gt; $am7)<br/>\n        $today<span>[$row[0]</span>]<span>[$row[1]</span>]<span>[2]</span> = $row<span>[5]</span>;<br/>\n    else<br/>\n        $today<span>[$row[0]</span>]<span>[$am7]</span><span>[2]</span> = $row<span>[5]</span>;<br/>\n--- 120,126 ----<br/>\n    # booking happens in, or at the start of the day if it started<br/>\n    # before today</p>\n<p>!   if($row<span>[1]</span> &gt; $am7)<br/>\n        $today<span>[$row[0]</span>]<span>[$row[1]</span>]<span>[2]</span> = $row<span>[5]</span>;<br/>\n    else<br/>\n        $today<span>[$row[0]</span>]<span>[$am7]</span><span>[2]</span> = $row<span>[5]</span>;</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/21/", "title": "#21 Booking uneditable if booked for 6 or more hours.", "status": "closed", "labels": "None", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I'm unable to edit anything to do with the booking if it's booked for 6 or more hours.  I even tried this on the demo server thinking it might just be my installation with the same outcome.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I can't duplicate this problem on my installation. Have tried with different start times during the day and even before and after bookable time. Is there more specific info on time of day and day and length?</p>\n<p>/BoK</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>From what I can tell, no it doesn't depend on the time.  Perhaps it's just limited to the duration.  Book something for 7 hours, then try to change the booking to 4 hours.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'm closing this because we cannot duplicate and no further<br/>\ninformation was available.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/20/", "title": "#20 Sorting rooms would be nice", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>The rooms for a given area appear to be listed in random order.  It would be nice if they were sorted alphabetically.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Here is a patch to days.php3 for that. The change I made to the SQL commands are just cosmetics, so the \"ORDER BY room_name\" is the part that does it.</p>\n<p>/BoK</p>\n<hr/>\n<p>133c133<br/>\n&lt; $sql = \"select room_name, capacity, id from mrbs_room where area_id=$area\";</p>\n<hr/>\n<p>&gt; $sql = \"SELECT room_name, capacity, id FROM mrbs_room WHERE area_id=$area ORDER BY room_name\";</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The patch you sent me works great - thanks!</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/19/", "title": "#19 Edit Room Would be nice", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>It would be nice to be able to edit a room instead of having to delete/add.  Especially since this nix's any meetings scheduled.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I was about to suggest the same thing, I need to edit the capacity of the room (and maybe one day the description) without losing all meetings.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have made changes to admin.php3 and made a new file for that putpouse. But I'll work a little more on it before releasing it.</p>\n<p>/BoK</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This patch to admin.php3</p>\n<p><strong><em> updated/admin.php3  Sun Nov  5 18:10:25 2000<br/>\n--- admin.php3  Sun Nov 26 12:45:18 2000</em></strong><strong><em>*</em></strong><strong><em>**<br/>\n</em></strong> 45,51 <strong><em>*<br/>\n    echo \"&lt;ul&gt;\";<br/>\n    while ($row = mysql_fetch_row($res)) {<br/>\n        $area_name_q = urlencode($row<span><span>[1]</span></span>);<br/>\n!       echo \"&lt;li&gt;&lt;a href=admin.php3?area=$row<span><span>[0]</span></span>&amp;area_name=$area_name_q&gt;$row<span><span>[1]</span></span>&lt;/a&gt; (&lt;a href=del.php3?type=area&amp;area=$row<span><span>[0]</span></span>&gt;Delete&lt;/a&gt;)\";<br/>\n    }<br/>\n    echo \"&lt;/ul&gt;\";<br/>\n  }<br/>\n--- 45,51 ----<br/>\n    echo \"&lt;ul&gt;\";<br/>\n    while ($row = mysql_fetch_row($res)) {<br/>\n        $area_name_q = urlencode($row<span><span>[1]</span></span>);<br/>\n!       echo \"&lt;li&gt;&lt;a href=admin.php3?area=$row<span><span>[0]</span></span>&amp;area_name=$area_name_q&gt;$row<span><span>[1]</span></span>&lt;/a&gt; (&lt;a href=edit_area_room.php3?area=$row<span><span>[0]</span></span>&gt;Edit&lt;/a&gt;) (&lt;a href=del.php3?type=area&amp;area=$row<span><span>[0]</span></span>&gt;Delete&lt;/a&gt;)\";<br/>\n    }<br/>\n    echo \"&lt;/ul&gt;\";<br/>\n  }</em></strong><strong><em>*</em></strong><strong><em>**<br/>\n</em></strong> 61,67 <strong><em>*<br/>\n    } else {<br/>\n        echo \"&lt;ul&gt;\";<br/>\n        while ($row = mysql_fetch_row($res)) {<br/>\n!           echo \"&lt;li&gt;$row<span><span>[1]</span></span> ($row<span><span>[2]</span></span>, $row<span><span>[3]</span></span>) (&lt;a href=del.php3?type=room&amp;room=$row<span><span>[0]</span></span>&gt;Delete&lt;/a&gt;)\";<br/>\n        }<br/>\n        echo \"&lt;/ul&gt;\";<br/>\n    }<br/>\n--- 61,67 ----<br/>\n    } else {<br/>\n        echo \"&lt;ul&gt;\";<br/>\n        while ($row = mysql_fetch_row($res)) {<br/>\n!           echo \"&lt;li&gt;$row<span><span>[1]</span></span> ($row<span><span>[2]</span></span>, $row<span><span>[3]</span></span>) (&lt;a href=edit_area_room.php3?room=$row<span><span>[0]</span></span>&gt;Edit&lt;/a&gt;) (&lt;a href=del.php3?type=room&amp;room=$row<span><span>[0]</span></span>&gt;Delete&lt;/a&gt;)\";<br/>\n        }<br/>\n        echo \"&lt;/ul&gt;\";<br/>\n    }</em></strong><strong><em>*</em></strong><strong><em>**<br/>\n</em></strong> 81,87 ****<br/>\n  &lt;TABLE&gt;<br/>\n  &lt;TR&gt;&lt;TD&gt;Name:       &lt;/TD&gt;&lt;TD&gt;&lt;input type=text name=name&gt;&lt;/TD&gt;&lt;/TR&gt;<br/>\n  &lt;/TABLE&gt;<br/>\n! &lt;input type=submit&gt;<br/>\n  &lt;/form&gt;<br/>\n  &lt;/td&gt;</p>\n<p>--- 81,87 ----<br/>\n  &lt;TABLE&gt;<br/>\n  &lt;TR&gt;&lt;TD&gt;Name:       &lt;/TD&gt;&lt;TD&gt;&lt;input type=text name=name&gt;&lt;/TD&gt;&lt;/TR&gt;<br/>\n  &lt;/TABLE&gt;<br/>\n! &lt;input type=submit value=\"Add Area\"&gt;<br/>\n  &lt;/form&gt;<br/>\n  &lt;/td&gt;</p>\n<hr/>\n<p><strong><em> 97,103 </em></strong>*<br/>\n  &lt;TR&gt;&lt;TD&gt;Description:&lt;/TD&gt;&lt;TD&gt;&lt;input type=text name=description&gt;&lt;/TD&gt;&lt;/TR&gt;<br/>\n  &lt;TR&gt;&lt;TD&gt;Capacity:   &lt;/TD&gt;&lt;TD&gt;&lt;input type=text name=capacity&gt;&lt;/TD&gt;&lt;/TR&gt;<br/>\n  &lt;/TABLE&gt;<br/>\n! &lt;input type=submit&gt;<br/>\n  &lt;/form&gt;<br/>\n  &lt;? } else { echo \"&amp;nbsp;\"; }?&gt;<br/>\n  &lt;/td&gt;<br/>\n--- 97,103 ----<br/>\n  &lt;TR&gt;&lt;TD&gt;Description:&lt;/TD&gt;&lt;TD&gt;&lt;input type=text name=description&gt;&lt;/TD&gt;&lt;/TR&gt;<br/>\n  &lt;TR&gt;&lt;TD&gt;Capacity:   &lt;/TD&gt;&lt;TD&gt;&lt;input type=text name=capacity&gt;&lt;/TD&gt;&lt;/TR&gt;<br/>\n  &lt;/TABLE&gt;<br/>\n! &lt;input type=submit value=\"Add Room\"&gt;<br/>\n  &lt;/form&gt;<br/>\n  &lt;? } else { echo \"&amp;nbsp;\"; }?&gt;<br/>\n  &lt;/td&gt;</p>\n<hr/>\n<p>And save this as edit_area_room.php3:</p>\n<p>&lt;?php<br/>\ninclude \"config.inc\";<br/>\ninclude \"functions.inc\";<br/>\ninclude \"connect.inc\";<br/>\ninclude \"mrbs_auth.inc\";</p>\n<h1 id=\"if-we-dont-know-the-right-date-then-make-it-up\">If we dont know the right date then make it up</h1>\n<p>if(!isset($day) or !isset($month) or !isset($year))<br/>\n{<br/>\n        $day   = date(\"d\");<br/>\n        $month = date(\"m\");<br/>\n        $year  = date(\"Y\");<br/>\n}</p>\n<p>load_user_preferences();</p>\n<p>if(!getAuthorised(getUserName(), getUserPassword(), 2))<br/>\n{<br/>\n    showAccessDenied($day, $month, $year, $area);<br/>\n    exit();<br/>\n}</p>\n<p>// Done changing area or room information?<br/>\nif ($change_done)<br/>\n{<br/>\n  if ($room) {  // Get the area the room is in<br/>\n    $sql = \"SELECT * FROM mrbs_room WHERE id=$room\";<br/>\n    $res = mysql_query($sql);<br/>\n    $row = mysql_fetch_array($res);<br/>\n    $area = $row<span>[\"area_id\"]</span>;<br/>\n  }<br/>\n  Header(\"Location: admin.php3?day=$day&amp;month=$month&amp;year=$year&amp;area=$area\");<br/>\n  exit();<br/>\n}</p>\n<p>print_header($day, $month, $year, isset($area) ? $area : 1);</p>\n<p>?&gt;</p>\n<p>&lt;h2&gt;Edit Area or Room Description&lt;/h2&gt;</p>\n<p>&lt;table border=1&gt;</p>\n<p>&lt;?php <br/>\nif($room) {<br/>\n  if ($change_room) {<br/>\n    $sql = \"UPDATE mrbs_room SET room_name='$room_name', description='$description', capacity='$capacity' WHERE id=$room\";<br/>\n    $result = mysql_query($sql);<br/>\n  }</p>\n<p>$res = mysql_query(\"SELECT * FROM mrbs_room WHERE id=$room\");<br/>\n  $row = mysql_fetch_array($res);<br/>\n?&gt;<br/>\n&lt;h3 ALIGN=CENTER&gt;Edit Room&lt;/h3&gt;<br/>\n&lt;form action=\"&lt;?php echo $PHP_SELF?&gt;\" method=\"post\"&gt;<br/>\n&lt;input type=hidden name=\"room\" value=\"&lt;?php echo $row<span>[\"id\"]</span>?&gt;\"&gt;<br/>\n&lt;CENTER&gt;<br/>\n&lt;TABLE&gt;<br/>\n&lt;TR&gt;&lt;TD&gt;Name:       &lt;/TD&gt;&lt;TD&gt;&lt;input type=text name=room_name value=\"&lt;?php echo $row<span>[\"room_name\"]</span>; ?&gt;\"&gt;&lt;/TD&gt;&lt;/TR&gt;<br/>\n&lt;TR&gt;&lt;TD&gt;Description:&lt;/TD&gt;&lt;TD&gt;&lt;input type=text name=description value=\"&lt;?php echo $row<span>[\"description\"]</span>; ?&gt;\"&gt;&lt;/TD&gt;&lt;/TR&gt;<br/>\n&lt;TR&gt;&lt;TD&gt;Capacity:   &lt;/TD&gt;&lt;TD&gt;&lt;input type=text name=capacity value=\"&lt;?php echo $row<span>[\"capacity\"]</span>; ?&gt;\"&gt;&lt;/TD&gt;&lt;/TR&gt;<br/>\n&lt;/TABLE&gt;<br/>\n&lt;input type=submit name=\"change_room\" value=\"Change\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br/>\n&lt;input type=submit name=\"change_done\" value=\"Back to Admin\"&gt;<br/>\n&lt;/FORM&gt;<br/>\n&lt;?php } ?&gt;</p>\n<p>&lt;?php<br/>\nif($area) {<br/>\n  if ($change_area) {<br/>\n    $sql = \"UPDATE mrbs_area SET area_name='$area_name' WHERE id=$area\";<br/>\n    $result = mysql_query($sql);<br/>\n  }</p>\n<p>$res = mysql_query(\"SELECT * FROM mrbs_area WHERE id=$area\");<br/>\n  $row = mysql_fetch_array($res);<br/>\n?&gt;<br/>\n&lt;h3 ALIGN=CENTER&gt;Edit Area&lt;/h3&gt;<br/>\n&lt;form action=\"&lt;?php echo $PHP_SELF?&gt;\" method=\"post\"&gt;<br/>\n&lt;input type=hidden name=\"area\" value=\"&lt;?php echo $row<span>[\"id\"]</span>?&gt;\"&gt;<br/>\n&lt;CENTER&gt;<br/>\n&lt;TABLE&gt;<br/>\n&lt;TR&gt;&lt;TD&gt;Name:       &lt;/TD&gt;&lt;TD&gt;&lt;input type=text name=area_name value=\"&lt;?php echo $row<span>[\"area_name\"]</span>; ?&gt;\"&gt;&lt;/TD&gt;&lt;/TR&gt;<br/>\n&lt;/TABLE&gt;<br/>\n&lt;input type=submit name=\"change_area\" value=\"Change\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br/>\n&lt;input type=submit name=\"change_done\" value=\"Back to Admin\"&gt;<br/>\n&lt;/form&gt;<br/>\n&lt;?php } ?&gt;<br/>\n&lt;/TABLE&gt;<br/>\n&lt;/CENTER&gt;<br/>\n&lt;?php include \"trailer.inc\" ?&gt;</p>\n<h2 id=\"wzxhzdk459htmlwzxhzdk460\">&lt;/html&gt;</h2>\n<p>That should take care of things. I'll try to merge the extra file into admin.php3, but that is a bit in the future.</p>\n<p>/BoK</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/18/", "title": "#18 Convert scripts from PHP3 to PHP4", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Hello,</p>\n<p>I have the your system installed on FreeBSD 4.1.1, i renamed all the scripts from .php3 to .php and changed the references within them so the links work. For the most part this seems to work fine. I would suggest that you 'convert' to php4 as soon as you reasonably have time.</p>\n<p>-=-peas-=-</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The next major release (1.0?) has been tested with PHP4.0.4, including<br/>\nrenaming all files to *.php.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/17/", "title": "#17 Error in help file", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I have the MRBS installed on FreeBSD 4.1.1 and yet the help file says it is installed in Linux.</p>\n<p>-=-peas-=-</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The help file included in the distribution is only intended as a templete for you to customise.  Also, as far as most people are concerned the only free OS is Linux so that's why Linux is in there by default.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/16/", "title": "#16 Delete/Duplicate Record Bug", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>mrbs - mrbs 0.9pre1 <br>\nOS - Redhat 6.2 <br>\nmysql - 3_22_32-1 (from source) <br>\nphp - 4.0.3.pl1 (from source) <br>\napache - 1.3.12 <br>\nclient - netscape 4.5/4.7, ms explorer 5 </p>\n<p>Release is very stable for most functions.</p>\n<p>Missing line from help.php3:   include \"connect.inc\";</p>\n<p>Delete/Duplicate Record Bug:</p>\n<p>The system will create a duplicate record in the mrbs_entry table if more than one edit is executed on the<br>\norginal entry. </p>\n<p>To create issue: </p>\n<p>1) created entry on a day and entered bookers name and a description<br>\n2) edited the entry once - adding a line to the description<br>\n3) edited the entry a second time - adding a third line to the entry.</p>\n<p>A second record is created in step 3.</p>\n<p>Deletion of entry with duplicate records:</p>\n<p>When the entry is deleted - it will only delete the most recent record. The first entry will re-appear on the<br>\ncalendar screen. It as well must be deleted. This would confuse users. </p>\n<ul>\n<li>James Cardwell</li>\n</ul></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>That is fixed with this patch to edit_entry_handler.php3</p>\n<p>/BoK</p>\n<p><strong><em> updated/edit_entry_handler.php3 Sun Nov  5 18:10:33 2000<br/>\n--- edit_entry_handler.php3 Sun Nov 26 13:25:22 2000</em></strong><strong><em>*</em></strong><strong><em>**<br/>\n</em></strong> 133,146 ****<br/>\n    else<br/>\n    {<br/>\n        $res = mysql_query(\"SELECT repeat_id FROM mrbs_entry WHERE id='$id'\");<br/>\n        if(mysql_num_rows($res) &gt; 0)<br/>\n        {<br/>\n!           $row = mysql_fetch_row($res);<br/>\n!           $repeat_id  = $row<span>[0]</span>;<br/>\n!           $entry_type = 2;<br/>\n        }<br/>\n!       else<br/>\n!           $repeat_id = $entry_type = 0;</p>\n<div class=\"codehilite\"><pre><span></span>    // Create the entrys, ignoring any errors at the moment\n    if(mrbsCreateSingleEntry($starttime, $endtime, $entry_type, $repeat_id, $room_id,\n</pre></div>\n<p>--- 133,147 ----<br/>\n    else<br/>\n    {<br/>\n        $res = mysql_query(\"SELECT repeat_id FROM mrbs_entry WHERE id='$id'\");<br/>\n+       $repeat_id = $entry_type = 0; // preset repeat_id and entry_type to 0<br/>\n        if(mysql_num_rows($res) &gt; 0)<br/>\n        {<br/>\n!           $row = mysql_fetch_array($res);<br/>\n!           if (($repeat_id = $row<span>[\"repeat_id\"]</span>) &gt; 0)<br/>\n!               $entry_type = 2;  // This is a changed repeat booking entry<br/>\n        }<br/>\n! //        else<br/>\n! //            $repeat_id = $entry_type = 0;</p>\n<div class=\"codehilite\"><pre><span></span>    // Create the entrys, ignoring any errors at the moment\n    if(mrbsCreateSingleEntry($starttime, $endtime, $entry_type, $repeat_id, $room_id,\n</pre></div>\n</div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Confirmed fixed in 0.9.2 (or before); closed.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/15/", "title": "#15 editing entry bug", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>This is similar to  - <span>[ Bug #110761 ]</span> Can not edit entry. (apologies for the resubmission if this is the same issue).</p>\n<p>mrbs - 0.8.1<br>\nOS - Redhat 6.2<br>\nmysql - 3_22_32-1 (from source)<br>\nphp - 4.0.3.pl1 (from source)<br>\napache - 1.3.12<br>\nclient - netscape 4.5/4.7, ms explorer 5</p>\n<p>When trying to edit an entry, the following error occurs:</p>\n<p>Warning: Missing argument 4 for mrbsdelentry() in /usr/local/apache/htdocs/mrbs/mrbs_sql.inc on line 73</p>\n<p>Warning: Cannot add header information - headers already sent by (output started at /usr/local/apache/htdocs/mrbs/mrbs_sql.inc:73) in<br>\n/usr/local/apache/htdocs/mrbs/edit_entry_handler.php3 on line 169</p>\n<p>Unclear as to if there was a fix for this bug as mentioned in 110761.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Apparently this was fixed at or before 0.9 so I'm closing it. -ljb</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/14/", "title": "#14 Demo busted", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Many mysql errors.  Maybe that no areas are defined.  Could not add an area as user admin.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Which version of MRBS, MySQL , mod_php and Apache are you using. Also which Operating System are you using ?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This was a bug about the demo on the MRBS main page.  Looks like it's been fixed.</p>\n<p>Thanks.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/13/", "title": "#13 repeat entry doesn't work", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>wrt bug 114687, i have to note that even daily repeating reservations are not working. i check this bug with the on-line demo and can reproduce it.</p>\n<p>checking the reservation entry shows that 'repeat type' is always set to 'none'.</p>\n<p>my email in marco.frattola@cubecom.it</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Consider it CLOSED: I overlooked the end-of-repeat data.<br/>\nIt's working fine. it should be fine for bug #114687</p>\n<p>marco.frattola@cubecom.it</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Closed per comment; see note on 114687, perhaps a future version<br/>\nwill validate start_date!=end_date for repeats before submitting<br/>\nthe form.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/12/", "title": "#12 Norwegian language file", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I don't know how to upload files here so I insert it here as a \"bug\", but here it is the Norwegian translation file. At the end of this file there is a lot of suggestions to words/phrases that are not translated as of today.</p>\n<p>&lt;?</p>\n<h1 id=\"this-file-contains-php-code-that-specifies-language-specific-strings\">This file contains PHP code that specifies language specific strings</h1>\n<h1 id=\"the-default-strings-come-from-langen-and-anything-in-a-locale\">The default strings come from lang.en, and anything in a locale</h1>\n<h1 id=\"specific-file-will-overwrite-the-default\">specific file will overwrite the default.</h1>\n<h1></h1>\n<h1 id=\"this-is-the-norwegian-language-file-by-mortenlundenu\">This is the Norwegian language file, by morten@lunde.nu</h1>\n<h1></h1>\n<h1 id=\"this-file-is-php-code-treat-it-as-such\">This file is PHP code. Treat it as such.</h1>\n<h1 id=\"the-charset-to-use-in-wzxhzdk3content-typewzxhzdk4-header\">The charset to use in \"Content-type\" header</h1>\n<p>$lang<span>[charset]</span>            = \"iso-8859-1\";</p>\n<h1 id=\"used-in-styleinc\">Used in style.inc</h1>\n<p>$lang<span>[mrbs]</span>               = \"M\u0159terom bestilling\";</p>\n<h1 id=\"used-in-dayphp3\">Used in day.php3</h1>\n<p>$lang<span>[bookingsfor]</span>        = \"Bestillinger for\";<br>\n$lang<span>[bookingsforpost]</span>    = \"\"; # Goes after the date<br>\n$lang<span>[areas]</span>              = \"Omr\u013ader\";<br>\n$lang<span>[daybefore]</span>          = \"G\u013a til forrige dag\";<br>\n$lang<span>[dayafter]</span>           = \"G\u013a til neste dag\";<br>\n$lang<span>[gototoday]</span>          = \"G\u013a til i dag\";<br>\n$lang<span>[goto]</span>               = \"g\u013a til\";</p>\n<h1 id=\"used-in-trailerinc\">Used in trailer.inc</h1>\n<p>$lang<span>[viewday]</span>            = \"Vis dag\";</p>\n<h1 id=\"used-in-edit_entryphp3\">Used in edit_entry.php3</h1>\n<p>$lang<span>[addentry]</span>           = \"Legg til\";<br>\n$lang<span>[editentry]</span>          = \"Rediger\";<br>\n$lang<span>[editseries]</span>         = \"Rediger serie\";<br>\n$lang<span>[namebooker]</span>         = \"Bestillers Navn:\";<br>\n$lang<span>[fulldescription]</span>    = \"Full beskrivelse:&lt;br&gt;&amp;nbsp;&amp;nbsp;(Antall personer,&lt;br&gt;&amp;nbsp;&amp;nbsp;Internt/Eksternt etc)\";<br>\n$lang<span>[date]</span>               = \"Dato:\";<br>\n$lang<span>[start_date]</span>         = \"Start Tid:\";<br>\n$lang<span>[end_date]</span>           = \"Slutt Tid:\";<br>\n$lang<span>[time]</span>               = \"Klokken:\";<br>\n$lang<span>[duration]</span>           = \"Varighet:\";<br>\n$lans<span>[seconds]</span>            = \"Sekunder\";<br>\n$lang<span>[minutes]</span>            = \"Minutter\";<br>\n$lang<span>[hours]</span>              = \"Timer\";<br>\n$lang<span>[days]</span>               = \"Dager\";<br>\n$lang<span>[weeks]</span>              = \"Uker\";<br>\n$lang<span>[years]</span>              = \"\u0139r\";<br>\n$lang<span>[all_day]</span>            = \"Hele dagen\";<br>\n$lang<span>[type]</span>               = \"Type:\";<br>\n$lang<span>[internal]</span>           = \"Internt\";<br>\n$lang<span>[external]</span>           = \"Eksternt\";<br>\n$lang<span>[save]</span>               = \"Lagre\";<br>\n$lang<span>[rep_type]</span>           = \"Repeter type:\";<br>\n$lang<span>[rep_type_0]</span>         = \"Ingen\";<br>\n$lang<span>[rep_type_1]</span>         = \"Daglig\";<br>\n$lang<span>[rep_type_2]</span>         = \"Ukentlig\";<br>\n$lang<span>[rep_type_3]</span>         = \"M\u013anedlig\";<br>\n$lang<span>[rep_type_4]</span>         = \"\u013arlig\";<br>\n$lang<span>[rep_end_date]</span>       = \"Repeter sluttdato:\";<br>\n$lang<span>[rep_rep_day]</span>        = \"Repeter dag:\";<br>\n$lang<span>[rep_for_weekly]</span>     = \"(for ukentlig)\";<br>\n$lang<span>[rep_freq]</span>           = \"Frekvens:\";</p>\n<h1 id=\"used-in-view_entryphp3\">Used in view_entry.php3</h1>\n<p>$lang<span>[description]</span>        = \"Beskrivelse:\";<br>\n$lang<span>[createdby]</span>          = \"Laget av:\";<br>\n$lang<span>[lastupdate]</span>         = \"Sist oppdatert:\";<br>\n$lang<span>[deleteentry]</span>        = \"Slett\";<br>\n$lang<span>[deleteseries]</span>       = \"Slett Series\";<br>\n$lang<span>[confirmdel]</span>         = \"Er du sikkerp\u013a at du vil\\nslette denne bookingen?\\n\\n\";<br>\n$lang<span>[returnprev]</span>         = \"Returner til forrige side\";</p>\n<h1 id=\"used-in-edit_entry_handlerphp3\">Used in edit_entry_handler.php3</h1>\n<p>$lang<span>[error]</span>              = \"Feil\";<br>\n$lang<span>[sched_conflict]</span>     = \"Skedulerings konflikt\";<br>\n$lang<span>[conflict]</span>           = \"Den nye bestillingen vil kollidere med f\u0159lgende oppf\u0159ringer:\";<br>\n$lang<span>[too_may_entrys]</span>     = \"Valgte opsjoner vil lag for mange oppf\u0159ringer.&lt;BR&gt;Vennligst bruk andre opsjoner!\";<br>\n$lang<span>[returncal]</span>          = \"Returner til kalender visning\";</p>\n<h1 id=\"authentication-stuff\">Authentication stuff</h1>\n<p>$lang<span>[accessdenied]</span>       = \"Tilgang nektes\";<br>\n$lang<span>[norights]</span>           = \"Du har ikke tilgang til \u013a endre dette objektet.\";</p>\n<h1 id=\"used-in-searchphp3\">Used in search.php3</h1>\n<p>$lang<span>[invalid_search]</span>     = \"Tom eller ugyldig s\u0159kestreng.\";<br>\n$lang<span>[search_results]</span>     = \"S\u0159ke resultat for:\";<br>\n$lang<span>[nothing_found]</span>      = \"Ingen treff.\";<br>\n$lang<span>[records]</span>            = \"Poster \";<br>\n$lang<span>[through]</span>            = \" through \";<br>\n$lang<span>[of]</span>                 = \" av \";<br>\n$lang<span>[previous]</span>           = \"Forrige\";<br>\n$lang<span>[next]</span>               = \"Neste\";<br>\n$lang<span>[entry]</span>              = \"Entry\";<br>\n$lang<span>[view]</span>               = \"View\";</p>\n<h1 id=\"week-days\">Week days</h1>\n<h1 id=\"langmonday-wzxhzdk145mandagwzxhzdk146\">lang<span>[monday]</span>              = \"mandag\";</h1>\n<h1 id=\"langtuesday-wzxhzdk147tirsdagwzxhzdk148\">lang<span>[tuesday]</span>             = \"tirsdag\";</h1>\n<h1 id=\"langwedensday-wzxhzdk149onsdagwzxhzdk150\">lang<span>[wedensday]</span>           = \"onsdag\";</h1>\n<h1 id=\"langthursday-wzxhzdk151torsdagwzxhzdk152\">lang<span>[thursday]</span>            = \"torsdag\";</h1>\n<h1 id=\"langfriday-wzxhzdk153fredagwzxhzdk154\">lang<span>[friday]</span>              = \"fredag\";</h1>\n<h1 id=\"langsaturday-wzxhzdk155lrrdagwzxhzdk156\">lang<span>[saturday]</span>            = \"l\u0159rdag\";</h1>\n<h1 id=\"langsunday-wzxhzdk157srndagwzxhzdk158\">lang<span>[sunday]</span>              = \"s\u0159ndag\";</h1>\n<h1 id=\"months\">Months</h1>\n<h1 id=\"langjanuary-wzxhzdk159januarwzxhzdk160\">lang<span>[January]</span>             = \"Januar\";</h1>\n<h1 id=\"langfebruary-wzxhzdk161februarwzxhzdk162\">lang<span>[February]</span>            = \"Februar\";</h1>\n<h1 id=\"langmars-wzxhzdk163marswzxhzdk164\">lang<span>[Mars]</span>                = \"Mars\";</h1>\n<h1 id=\"langapril-wzxhzdk165aprilwzxhzdk166\">lang<span>[April]</span>               = \"April\";</h1>\n<h1 id=\"langmay-wzxhzdk167maiwzxhzdk168\">lang<span>[May]</span>                 = \"Mai\";</h1>\n<h1 id=\"langjune-wzxhzdk169juniwzxhzdk170\">lang<span>[June]</span>                = \"Juni\";</h1>\n<h1 id=\"langjuly-wzxhzdk171juliwzxhzdk172\">lang<span>[July]</span>                = \"Juli\";</h1>\n<h1 id=\"langaugust-wzxhzdk173augustwzxhzdk174\">lang<span>[August]</span>              = \"August\";</h1>\n<h1 id=\"langseptember-wzxhzdk175septemberwzxhzdk176\">lang<span>[September]</span>           = \"September\";</h1>\n<h1 id=\"langoctober-wzxhzdk177oktoberwzxhzdk178\">lang<span>[October]</span>             = \"Oktober\";</h1>\n<h1 id=\"langnovember-wzxhzdk179novemberwzxhzdk180\">lang<span>[November]</span>            = \"November\";</h1>\n<h1 id=\"langdecember-wzxhzdk181desemberwzxhzdk182\">lang<span>[December]</span>            = \"Desember\";</h1>\n<h1 id=\"misc-additions-not-in-the-language-files-as-of-today\">Misc. additions not in the language files as of today</h1>\n<h1 id=\"langhelp-wzxhzdk183hjelpwzxhzdk184\">lang<span>[Help]</span>                = \"Hjelp\";</h1>\n<h1 id=\"langsearch-wzxhzdk185srkwzxhzdk186\">lang<span>[Search]</span>              = \"S\u0159k\";</h1>\n<h1 id=\"langdelete-wzxhzdk187slettwzxhzdk188\">lang<span>[Delete]</span>              = \"Slett\";</h1>\n<h1 id=\"langroom-wzxhzdk189romwzxhzdk190\">lang<span>[Room]</span>                = \"Rom\";</h1>\n<h1 id=\"langrooms-wzxhzdk191romwzxhzdk192\">lang<span>[Rooms]</span>               = \"Rom\";</h1>\n<h1 id=\"langrooms-in-wzxhzdk193rom-iwzxhzdk194\">lang<span>[Rooms in]</span>            = \"Rom i\";</h1>\n<h1 id=\"langareas-wzxhzdk195lokasjonerwzxhzdk196\">lang<span>[Areas]</span>               = \"Lokasjoner\";</h1>\n<h1 id=\"langno_area_selected-wzxhzdk197ingen-lokasjon-valgtwzxhzdk198\">lang<span>[no_area_selected]</span>    = \"Ingen lokasjon valgt\";</h1>\n<h1 id=\"langadd_area-wzxhzdk199legg-til-lokasjonwzxhzdk200\">lang<span>[add_area]</span>            = \"Legg til lokasjon\";</h1>\n<h1 id=\"langadd_room-wzxhzdk201legg-til-romwzxhzdk202\">lang<span>[add_room]</span>            = \"Legg til rom\";</h1>\n<h1 id=\"langname-wzxhzdk203navnwzxhzdk204\">lang<span>[name]</span>                = \"Navn\";</h1>\n<h1 id=\"langdescription-wzxhzdk205beskrivelsewzxhzdk206\">lang<span>[description]</span>         = \"Beskrivelse\";</h1>\n<h1 id=\"langcapasity-wzxhzdk207kapasitetwzxhzdk208\">lang<span>[Capasity]</span>            = \"Kapasitet\";</h1>\n<h1 id=\"langyour_browser-wzxhzdk209din-nettleser-er-satt-til-l-brukewzxhzdk210\">lang<span>[Your_browser]</span>        = \"Din nettleser er satt til \u013a bruke\";</h1>\n<h1 id=\"langlanguage-wzxhzdk211sprlkwzxhzdk212\">lang<span>[language]</span>            = \"spr\u013ak\";</h1>\n<h1 id=\"langare_you_sure-wzxhzdk213er-du-sikkerwzxhzdk214\">lang<span>[Are_you_sure]</span>        = \"Er du sikker\";</h1>\n<h1 id=\"langyes-wzxhzdk215jawzxhzdk216\">lang<span>[YES]</span>                 = \"JA\";</h1>\n<h1 id=\"langno-wzxhzdk217neiwzxhzdk218\">lang<span>[NO]</span>                  = \"NEI\";</h1>\n<h1 id=\"langview-wzxhzdk219viswzxhzdk220\">lang<span>[view]</span>                = \"Vis\";</h1>\n<h1 id=\"langentry-wzxhzdk221oppfrringwzxhzdk222\">lang<span>[entry]</span>               = \"Oppf\u0159ring\";</h1>\n<p>?&gt;</p>\n<p>Regards<br>\nMorten Lunde</p></div></div>\n  \n</div>\n\n                    "]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/11/", "title": "#11 Errors in repeating weekly", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When I add a booking with weekly repeating it doesn't show up more than once.</p>\n<p>(I'm using v0.9pre1)</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>my bug, didn't set the end date...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Also seeing this in 0.8.1 but it only seems to have appeared after 1 Jan 2001.<br/>\nUsing mod_php (php3), mysql 9.38</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is actually a pretty common thing - forgetting to set the<br/>\nend date, so maybe we should be checking for that in the<br/>\nJavascript validator function...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/10/", "title": "#10 Adding rooms", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If you omit the capasity for a room, you get an error message.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I get the same thing. Error handling really needs to be increased in this system.</p>\n<p>-=-peas-=-</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This has been fixed in the next version. If capacity isn't given it<br/>\nwill default to 0 and not report the SQL syntax error message.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Fixed in cvs branch mrbs-0-9-1xp, to be released soon.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/9/", "title": "#9 Can not edit entry", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Sometimes after changing entry I'm getting:</p>\n<p>Warning: Missing argument 4 in call to mrbsdelentry() in mrbs_sql.inc on line 73</p>\n<p>Warning: Cannot add more header information - the header was already sent (header information may be added only before any output is generated from the script<br>\n- check for text or whitespace outside PHP tags, or calls to functions that output text) in /home/httpd/gomez/app/zasedacky/edit_entry_handler.php3 on<br>\nline 169</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Finally got around to turning on all warning/errors in PHP and fix this + numerous other bugs.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/8/", "title": "#8 Can not make &quot;Add Entry&quot;", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>with all version of MySQL, php and apache i tried always getting:</p>\n<p>Parse error: parse error, expecting `'}'' in mrbs_sql.inc on line 216</p>\n<p>Do I something wrong?</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>This is to do with a bug in PHP 3.x</p>\n<p>A fix is in CVS, I will be creating an updated tarball soon.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/7/", "title": "#7 Amending an entry does not work", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>If you try to change an appointment then it appears that it is deleted, for example try changing the description.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Could you provide some more details, which version are you using, etc.</p>\n<p>It has always worked correctly for me.</p>\n<p>If any body else has seen this with a recent version could you provide some feed back?</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I also had this problem with multiple edits. It will delete all entries except for the current one. My multiple edit code seems to work better, if you would like to have it just email me at subjectone@hotmail.com </p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>works for me. if anyone is seeing this problem please post to the mailing list</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/6/", "title": "#6 September calendar missing", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I did a quick use of your demo version online... nice.  One of the first things I wanted to do was book<br>\nan appointment in September... but hey you only showed June/July/August and no choice for future<br>\nmonths (wish list item).  So I clicked on August 31st and got calendar (at top) for July/Aug/Oct.<br>\nYes, no month of September !!!  I selected October 31 and got Oct/Oct/Dec.<br>\nThanks...Dan.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I have fixed this bug + several other date/time handling ones in the latest version - 0.8 pre5.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/5/", "title": "#5 Time slot can be double booked.", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>I've been messing around with MRBS for a little while now and one of the people helping me has discovered a problem.  I'll give an example of it.</p>\n<p>If I book a room today from 10am to 1pm and then another person comes along and clicks on the 9:30am icon, they can change the time in the form to be 10:30am and the end to be less than 1pm and it will pass the overlap test and result in \"double booking\".  I believe the problem is this line in edit_entry_handler.php3.</p>\n<p>('$starttime' between start_time and date_sub(end_time, interval 1 second))</p>\n<p>I think date_sub() formats the time value and makes the comparison fail.</p>\n<p>I noted a times_overlap () function but that doesn't seem to be called anywhere.</p>\n<p>Also, I fixed a minor problem in the view_entry.php3 file.  If you deleted an entry, the $day, $year, $month variables were null when passed to the del_entry.php3 file.  This meant you'd be put back to today's date by default.  This was annoying .  This fix is to add three lines (shown here in context) .</p>\n<p>$description = $row<span>[1]</span>;<br>\n$start_date  = strftime('%A %d %B %Y',$row<span>[2]</span>);</p>\n<p>// These three lines are new<br>\n$day = strftime('%d',$row<span>[2]</span>);<br>\n$month = strftime('%m',$row<span>[2]</span>);<br>\n$year = strftime('%Y',$row<span>[2]</span>);<br>\n// end of new lines</p>\n<p>$start_time  = strftime('%X',$row<span>[3]</span>);<br>\n$duration    = $row<span>[4]</span>;</p>\n<p>Thanks, Doug Smoak</p>\n<p>DSmoak@ogs.state.sc.us</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The bug with \"delete entry\" has been fixed in version 0.8 pre4.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I found a fix for this here it is:# first check for any schedule conflicts</p>\n<h1 id=\"we-ask-the-db-if-there-is-anything-which\">we ask the db if there is anything which</h1>\n<h1 id=\"starts-before-this-and-ends-after-the-start\">starts before this and ends after the start</h1>\n<h1 id=\"or-starts-between-the-times-this-starts-and-ends\">or starts between the times this starts and ends</h1>\n<h1 id=\"where-the-room-is-the-same\">where the room is the same</h1>\n<p>$sql = \"select id, name from mrbs_entry where <br/>\n(<br/>\n  (start_time between '$starttime' and $endtime1)<br/>\n  or<br/>\n  ('$starttime' between start_time and date_sub(end_time, interval 1 second))</p>\n<h3 id=\"new-stuff\">New stuff</h3>\n<p>or<br/>\n  ('$starttime' between start_time and end_time)<br/>\n  or <br/>\n  ('$endtime' between start_time and end_time)</p>\n<h3 id=\"end-of-new-stuff\">End of new stuff</h3>\n<p>)<br/>\nand room_id = $room_id<br/>\n\";</p>\n<h1 id=\"if-this-is-a-replacement-then-dont-conflict-with-itself\">if this is a replacement then dont conflict with itself</h1>\n<p>if ($id) {$sql = \"$sql and id &lt;&gt; $id\";}</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/4/", "title": "#4 Bookings don't show on mySQL 3.23", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Works OK with 3.22, but not 3.23. Needs more testing.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>I'd like to confirm this, though it is erratic - some show, some don't.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>i believe this works okay now.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/3/", "title": "#3 Meetings on the 1st of April don't show up", "status": "closed", "labels": "MRBS (195)", "priority": "9", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>FROM: Simon Tennant<br>\n             DATE: 05/26/2000 14:03:43<br>\n             SUBJECT:  <span>[Mrbs-general]</span> Meetings failing to display</p>\n<div class=\"codehilite\"><pre><span></span>         I`ve noticed that trying to book meetings for 1st June 2000 fail to display.  They exist\n         in the database but it looks like the code that displays them is broken.\n          Has anyone fixed\n         this?\n\n         Nice package though and I`m hoping to deploy it here at Linuxcare in SF,CA in the next\n         week.\n\n         -- \n         Simon Tennant, Web Team, Linuxcare, Inc.\n         415.577.6719 x242 tel, 415.701.7457 fax\n         simon@linuxcare.com, http://www.linuxcare.com/\n         pgp id: 05F76248FF62442C4D0010C09851C0746410974D\n         Linuxcare.  Support for the revolution.\n</pre></div>\n\n</div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Actually a total show-stopper. All meetings on the 1st to the 9th of any month would be added to the DB on the 1st Jan of that year.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/2/", "title": "#2 When editing the date gets reset", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>When a conflict is discovered, and the user has the option of editing the previous entry, the date is reset to the current date. It should keep the date it was set at. The time, the hours, and everything but the date is kept, it should be easy to keep the date instead of reseting it to the current date.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>Damm typos...</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}, {"subject": "mrbs", "link": "https://sourceforge.net/p/mrbs/bugs/1/", "title": "#1 Meetings past midnight", "status": "closed", "labels": "MRBS (195)", "priority": "5", "description": ["<div id=\"ticket_content\">\n  <div><div class=\"markdown_content\"><p>Any meeting scheduled to go on past midnight does not show up. You are still able to try and another meeting at the same time, which will then show up the conflict. I doubt this would happen often (a meeting past midnight), but I dont think it should not even recongnize the meeting anymore.</p></div></div>\n  \n</div>\n\n                    ", "<div class=\"display_post\">\n<div><div class=\"markdown_content\"><p>The problem was that the SQL statement to find all appointments for a day selected anything that started today and finished before midnight.</p>\n<p>I've changed to to anything that starts today, finishes today or where today is between the start and end. This should pick everything up.</p></div></div>\u00a0\n            <div class=\"reactions\" style=\"user-select: none; cursor: default\">\n</div>\n</div>"]}]